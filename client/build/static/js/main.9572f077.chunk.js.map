{"version":3,"sources":["components/header/bar-logo.png","components/home/PBovio.png","components/header/appBarNotAuth.js","components/header/appBarAuth.js","services/User.js","components/header/header.js","components/home/lastPost.js","components/home/lastEvent.js","components/home/lastPoll.js","components/home/lastElements.js","components/home/home.js","components/login/login.js","components/register/register.js","components/login/forgotPassword.js","components/login/restorePassword.js","components/confirm/confirm.js","components/postsContainer/singlePost.js","components/postsContainer/postsContainer.js","components/eventsContainer/singleEvent.js","components/eventsContainer/eventsContainer.js","components/pollsContainer/singlePoll.js","components/pollsContainer/pollsContainer.js","components/postDetail/comment.js","components/postDetail/postDetail.js","components/eventDetail/participant.js","components/eventDetail/eventDetail.js","components/pollDetail/option.js","components/pollDetail/pollDetail.js","components/protectedRoutes/protectedRoutes.js","components/protectedAdminRoutes/protectedAdminRoutes.js","components/protectedSuperUserRoutes/protectedSuperUserRoutes.js","components/profile/profile.js","components/adminPanel/adminPanel.js","components/admin/singleTab.js","components/admin/homepageTabs.js","components/admin/newPost.js","components/admin/newEvent.js","components/admin/newPoll.js","components/admin/post.js","components/admin/allPosts.js","components/admin/event.js","components/admin/allEvents.js","components/admin/poll.js","components/admin/allPolls.js","components/admin/allUsers.js","components/admin/editUser.js","components/superUserPanel/superUserPanel.js","components/footer/footer.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","AppBarNotAuth","className","AppBar","position","Toolbar","IconButton","edge","color","aria-label","href","alt","style","src","BarLogo","height","width","Button","Component","AppBarAuth","fontSize","Badge","badgeContent","anchorOrigin","vertical","horizontal","invisible","this","props","isConfirmed","Avatar","username","avatar","User","token","isAuthenticated","a","userInfo","authorized","userID","isAdmin","isSuperUser","isBanned","axios","post","then","response","data","decoded","catch","errors","console","log","Header","state","_user","user","localStorage","getItem","result","auth","setState","LastPost","padding","Card","margin","backgroundColor","elevation","CardContent","marginTop","marginRight","Grid","container","spacing","alignItems","item","overflow","Typography","variant","title","undefined","substring","replace","urlTitle","image","CardActions","size","LastEvent","eventID","LastPoll","Chip","label","pollID","LastElements","loaded","lastPosts","lastEvents","lastPolls","fetch","json","listOfPosts","push","key","_id","listOfEvents","event","listOfPolls","poll","isActive","display","flexFlow","textAlign","justifyContent","showLastPosts","Divider","showLastEvents","showLastPolls","Home","home","tabs","selectedTab","t","value","changeTab","bind","content","EditorState","createWithContent","convertFromRaw","JSON","parse","editorState","readOnly","toolbarHidden","listOfTabLabels","tab","onClick","hidden","CircularProgress","Paper","maxWidth","xs","sm","_cover","square","showTabs","showTab","target","rel","marginLeft","Login","usernameOrEmail","password","userNotFound","wrongPassword","authenticated","login","handleSubmit","handleUsernameOrEmailChange","handlePasswordChange","register","clear","preventDefault","setItem","error","window","location","onSubmit","TextField","autoFocus","required","FormHelperTextProps","helperText","id","onChange","type","Alert","severity","closeText","Register","name","surname","dateOfBirth","email","password1","password2","check1","check2","passwordTooShort","passwordsDoesntMatch","underage","registered","userAlreadyExist","defaultDate","handleUsernameChange","handleNameChange","handleSurnameChange","handleDateOfBirthChange","handleEmailChange","handlePassword1Change","handlePassword2Change","handleCheck1Change","handleCheck2Change","length","forceUpdate","checked","today","Date","day","getDate","month","getMonth","getFullYear","toString","_errors","saved","scrollTo","disabled","defaultValue","InputLabelProps","shrink","FormControlLabel","control","Checkbox","ForgotPassword","sended","send","noResults","RestorePassword","querySearch","search","match","params","unauthorized","save","setTimeout","Confirm","confirmed","userAlreadyConfirmed","goToLoginPage","get","alreadyConfirmed","SinglePost","flexGrow","direction","ButtonBase","maxHeight","gutterBottom","likes","showZero","max","comments","PostsContainer","total","page","posts","loading","showContent","handlePageChange","totalPosts","subtitle","author","Pagination","count","parseInt","defaultPage","hideNextButton","hidePrevButton","SingleEvent","participants","EventsContainer","events","totalEvents","SinglePoll","getPollState","voters","PollsContainer","polls","totalPolls","Comment","commentEdited","edit","emptyComment","deleted","liked","wrapper","React","createRef","like","handleOpenEditTabs","handleCloseEditTabs","handleEditComment","delete","_username","commentID","_userID","reload","convertToRaw","getCurrentContent","blocks","text","edited","put","comment","stringify","patch","rights","_isSuperUser","ref","CardHeader","subheader","disableSpacing","icon","checkedIcon","Dialog","open","onClose","fullWidth","aria-labelledby","DialogTitle","DialogContent","toolbar","options","onEditorStateChange","DialogActions","PostDetail","createEmpty","postNotFound","commented","formatData","handleCommentChange","listOfComment","_isAdmin","_isBanned","showComments","postComment","Participant","List","ListItem","ListItemAvatar","ListItemText","primary","secondary","EventDetail","eventNotFound","participation","participate","listOfParticipants","participant","marginBottom","Option","voted","vote","optionID","toUpperCase","votesPercentile","toFixed","LinearProgress","alignSelf","PollDetail","pollNotFound","alreadyVoted","showOptions","totalVotes","votes","listOfOptions","option","protectedRoutes","component","render","to","protectedAdminRoutes","Profile","emailSended","editProfile","file","noFileSelected","uploading","updated","oldPassword","newPassword1","newPassword2","registrationDate","oldPasswordError","sendEmail","showEditSection","hideEditSection","handleAvatarChange","handleOldPasswordChange","goToAdminPanel","goToSuperUserPanel","logout","document","getElementById","files","xhr","XMLHttpRequest","onreadystatechange","readyState","status","responseText","xhr2","Promise","avatarURL","returnData","url","newPassword","justify","accept","htmlFor","startIcon","AdminPanel","homepageTabs","newPost","newEvent","newPoll","allPosts","allEvents","allPolls","usersList","goBack","SingleTab","contentEdited","handleTitleChange","handleContentChange","tabID","HomepageTabs","newTabContent","newTabTitle","addTab","tabAlreadyExist","handleOpenAddTab","handleCloseAddTab","listOfTabs","Fab","NewPost","postAlreadyExist","handleSubtitleChange","handleImageChange","imageURL","created","v","NewEvent","pastDate","eventAlreadyExist","handleDataChange","handleLocationChange","NewPoll","addOption","emptyOption","pollAlreadyExist","handleIsActiveChange","handleOptionChange","add","ID","Switch","Post","CardMedia","AllPosts","Event","AllEvents","Poll","pollState","handleStateChange","AllPolls","AllUsers__Admin","users","formatUsername","editUser","TableContainer","Table","TableHead","TableRow","TableCell","align","TableBody","map","scope","fontWeight","fontStyle","EditUser","handleIsConfirmedChange","handleIsAdminChange","handleIsSuperUserChange","handleIsBannedChange","abort","SuperUserPanel","useStyles","makeStyles","root","bottom","zIndex","action","SimpleBottomNavigation","classes","pathname","useState","setValue","BottomNavigation","newValue","showLabels","BottomNavigationAction","Footer","App","exact","path","AllUsers","Boolean","hostname","ReactDOM","StrictMode","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.9572f077.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/bar-logo.4b904756.png\";","module.exports = __webpack_public_path__ + \"static/media/PBovio.735d64db.png\";","import React, { Component } from 'react';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport BarLogo from './bar-logo.png';\r\nimport './header.css';\r\n\r\nclass AppBarNotAuth extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"root\">\r\n              <AppBar position=\"static\" className=\"appBar\">\r\n                <Toolbar>\r\n                  <IconButton edge=\"start\" className=\"menuButton\" color=\"inherit\" aria-label=\"logout\" href=\"/login\" alt=\"Logout\">\r\n                    <ExitToAppIcon style={{color: '#fbc02d'}} />\r\n                  </IconButton>\r\n                  <a href=\"/\"><img src={BarLogo} alt =\"\" height='45px' width='200px'></img></a>\r\n                  <Button color=\"inherit\" href=\"/login\">Accedi</Button>\r\n                </Toolbar>\r\n              </AppBar>\r\n            </div>\r\n          );\r\n    }\r\n}\r\n\r\nexport default AppBarNotAuth;","import React, { Component } from 'react';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MeetingRoomRoundedIcon from '@material-ui/icons/MeetingRoomRounded';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport BarLogo from './bar-logo.png';\r\nimport './header.css';\r\n\r\nclass AppBarAuth extends Component {\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"root\">\r\n                <AppBar position=\"static\" className=\"appBar\">\r\n                    <Toolbar>\r\n                        <IconButton edge=\"start\" className=\"menuButton\" color=\"inherit\" aria-label=\"menu\" href=\"/login\">\r\n                            <MeetingRoomRoundedIcon fontSize=\"large\" style={{color: '#ffffff'}} />\r\n                        </IconButton>\r\n                        <a href=\"/\"><img src={BarLogo} alt =\"\" height='45px' width='200px'></img></a>\r\n                        <Badge color=\"secondary\" badgeContent=\"!\" anchorOrigin={{vertical: 'bottom', horizontal: 'right'}} invisible={this.props.isConfirmed}>\r\n                            <a href=\"/profile\"><Avatar alt={this.props.username} src={this.props.avatar} href='/profile' /></a>\r\n                        </Badge>\r\n                    </Toolbar>\r\n                </AppBar>\r\n            </div>\r\n          );\r\n    }\r\n}\r\n\r\nexport default AppBarAuth;","import axios from 'axios';\r\n\r\nclass User {\r\n    constructor(token) {\r\n        this.token = token;\r\n    }\r\n\r\n\r\n    isAuthenticated = async function(){\r\n        var userInfo = {\r\n            authorized: false,\r\n            userID: '',\r\n            username: '',\r\n            avatar: '',\r\n            isConfirmed: '',\r\n            isAdmin: '',\r\n            isSuperUser: '',\r\n            isBanned: ''\r\n        }\r\n        if(this.token === null) {\r\n            return userInfo;\r\n        }\r\n        else {\r\n            await axios.post('http://localhost:4000/server/login/auth', {\r\n                token: this.token\r\n            })\r\n            .then(response => {\r\n                if(response.data.authorized === true) {\r\n                    userInfo.authorized = true;\r\n                    userInfo.userID = response.data.decoded.userID;\r\n                    userInfo.username = response.data.decoded.username;\r\n                    userInfo.avatar = response.data.decoded.avatar;\r\n                    userInfo.isConfirmed = response.data.decoded.isConfirmed;\r\n                    userInfo.isAdmin = response.data.decoded.isAdmin;\r\n                    userInfo.isSuperUser = response.data.decoded.isSuperUser;\r\n                    userInfo.isBanned = response.data.decoded.isBanned;\r\n                }\r\n            })\r\n            .catch(function(errors) {\r\n                console.log(errors);\r\n            });\r\n            return userInfo;\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default User;","import React, { Component } from 'react';\r\nimport AppBarNotAuth from './appBarNotAuth';\r\nimport AppBarAuth from './appBarAuth';\r\nimport user from '../../services/User';\r\nimport './header.css';\r\n\r\nclass Header extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n          isAuthenticated: false,\r\n          userID: '',\r\n          username: '',\r\n          avatar: '',\r\n          isConfirmed: '',\r\n          isAdmin: '',\r\n          isSuperUser: '',\r\n          isBanned: ''\r\n        }\r\n    }\r\n\r\nasync componentDidMount() {\r\n  var auth, userID, username, avatar, isConfirmed, isAdmin, isSuperUser, isBanned;\r\n  var _user = new user(localStorage.getItem('t'));\r\n  await _user.isAuthenticated().then(function(result) {\r\n      auth = result.authorized;\r\n      userID = result.userID;\r\n      username = result.username;\r\n      avatar = result.avatar;\r\n      isConfirmed = result.isConfirmed;\r\n      isAdmin = result.isAdmin;\r\n      isSuperUser = result.isSuperUser;\r\n      isBanned = result.isBanned;\r\n\r\n  });\r\n  this.setState({\r\n      isAuthenticated: auth,\r\n      userID: userID,\r\n      username: username,\r\n      avatar: avatar,\r\n      isConfirmed: isConfirmed,\r\n      isAdmin: isAdmin,\r\n      isSuperUser: isSuperUser,\r\n      isBanned: isBanned\r\n  });\r\n  //this.forceUpdate();\r\n}\r\n\r\n    render() {\r\n      if(this.state.isAuthenticated === true) {\r\n        return(\r\n          <AppBarAuth avatar={this.state.avatar} isConfirmed={this.state.isConfirmed} />\r\n        );\r\n      }\r\n      else {\r\n        return(\r\n          <AppBarNotAuth />\r\n        );\r\n      }\r\n    }\r\n}\r\n\r\nexport default Header;","import React, { Component } from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport DescriptionIcon from '@material-ui/icons/Description';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nclass LastPost extends Component {\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"lastPost\" style={{padding: '8px'}}>\r\n                <Card style={{margin: 'auto', width: '220px', height: '220px', backgroundColor: '#f5e2004a'}} elevation={5}>\r\n                    <CardContent style={{marginTop: '8px'}}>\r\n                    <DescriptionIcon style={{marginRight: '200px', color: '#ff4a4a'}} />\r\n                        <Grid container spacing={0} className=\"lastPost\" alignItems=\"flex-end\">\r\n                            <Grid item style={{height: '20px', overflow: 'hidden'}}>\r\n                                <Typography variant=\"subtitle2\" style={{overflow: 'hidden'}}>\r\n                                    {this.props.title}\r\n                                </Typography>\r\n                            </Grid>\r\n                            <Grid item style={{margin: '5px'}}>\r\n                                <Typography color=\"textSecondary\">\r\n                                    {this.props.data === undefined ? '' : this.props.data.substring(0,10).replace(/-/g, '/')}\r\n                                </Typography>\r\n                            </Grid>\r\n                            <Grid item>\r\n                            <a href={'/posts/'+this.props.urlTitle}><Avatar alt=\"\" src={this.props.image} style={{width: 80, height: 80}} /></a>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </CardContent>\r\n                    <CardActions>\r\n                        <Button size=\"small\" color=\"secondary\" style={{marginTop: '15px'}} href={'/posts/'+this.props.urlTitle}>Leggi</Button>\r\n                    </CardActions>\r\n                    </Card>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LastPost;","import React, { Component } from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport TodayIcon from '@material-ui/icons/Today';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nclass LastEvent extends Component {\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"lastEvent\" style={{padding: '8px'}}>\r\n                <Card style={{margin: 'auto', width: '220px', height: '220px', backgroundColor: '#f5e2004a'}} elevation={5}>\r\n                    <CardContent style={{marginTop: '8px'}}>\r\n                        <Grid container spacing={0} className=\"lastPost\" alignItems=\"flex-end\">\r\n                        <TodayIcon style={{marginRight: '200px', color: '#ff4a4a'}}/>\r\n                            <Grid item style={{height: '20px', overflow: 'hidden'}}>\r\n                                <Typography variant=\"subtitle2\" style={{overflow: 'hidden'}}>\r\n                                    {this.props.title}\r\n                                </Typography>\r\n                            </Grid>\r\n                            <Grid item style={{margin: '5px'}}>\r\n                                <Typography color=\"textSecondary\">\r\n                                    {this.props.data === undefined ? '' : this.props.data.substring(0,10).replace(/-/g, '/')}\r\n                                </Typography>\r\n                            </Grid>\r\n                            <Grid item>\r\n                            <a href={'/events/'+this.props.eventID}><Avatar alt=\"\" src={this.props.image} style={{width: 80, height: 80}} /></a>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </CardContent>\r\n                    <CardActions>\r\n                        <Button size=\"small\" color=\"secondary\" style={{marginTop: '15px'}} href={'/events/'+this.props.eventID}>Leggi</Button>\r\n                    </CardActions>\r\n                    </Card>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LastEvent;","import React, { Component } from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport PollIcon from '@material-ui/icons/Poll';\r\nimport HowToVoteIcon from '@material-ui/icons/HowToVote';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nclass LastPoll extends Component {\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"lastEvent\" style={{padding: '8px'}}>\r\n                <Card style={{margin: 'auto', width: '220px', height: '220px', backgroundColor: '#f5e2004a'}} elevation={5}>\r\n                    <CardContent style={{marginTop: '8px'}}>\r\n                        <Grid container spacing={0} className=\"lastPost\" alignItems=\"flex-end\">\r\n                        <PollIcon style={{marginRight: '200px', color: '#ff4a4a'}} />\r\n                            <Grid item style={{height: '20px', overflow: 'hidden'}}>\r\n                                <Typography variant=\"subtitle2\" style={{overflow: 'hidden'}}>\r\n                                    {this.props.title}\r\n                                </Typography>\r\n                            </Grid>\r\n                            <Grid item style={{margin: '5px'}}>\r\n                                <div>\r\n                                    {this.props.state === true ? <Chip size=\"small\" label=\"Attivo\" style={{backgroundColor: '#449c43', color: '#ffffff', width: '76px'}}/> : <Chip size=\"small\" label=\"Non attivo\" style={{backgroundColor: '#ef2d2d', color: '#ffffff', width: '76px'}} />}\r\n                                </div>\r\n                            </Grid>\r\n                            <Grid item>\r\n                            <a href={'/polls/'+this.props.pollID}><Avatar alt=\"\" src={this.props.image} style={{width: 70, height: 70, backgroundColor: '#ffde857a'}}><HowToVoteIcon fontSize=\"large\" /></Avatar></a>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </CardContent>\r\n                    <CardActions>\r\n                        <Button size=\"small\" color=\"secondary\" style={{marginTop: '15px'}} href={'/polls/'+this.props.pollID}>Leggi</Button>\r\n                    </CardActions>\r\n                    </Card>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LastPoll;","import React, { Component } from 'react';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport LastPost from './lastPost';\r\nimport LastEvent from './lastEvent';\r\nimport LastPoll from './lastPoll';\r\n\r\nclass LastElements extends Component {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loaded: false,\r\n            lastPosts: [],\r\n            lastEvents: [],\r\n            lastPolls: []\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await fetch('http://localhost:4000/server/posts?page=999')\r\n        .then(response => response.json())\r\n        .then((data) => this.setState({lastPosts: data}))\r\n        .catch(console.log);\r\n        await fetch('http://localhost:4000/server/events/allEvents?page=999')\r\n        .then(response => response.json())\r\n        .then((data) => this.setState({lastEvents: data}))\r\n        .catch(console.log);\r\n        await fetch('http://localhost:4000/server/polls/allPolls?page=999')\r\n        .then(response => response.json())\r\n        .then((data) => this.setState({lastPolls: data}))\r\n        .catch(console.log);\r\n        this.setState({loaded: true});\r\n    }\r\n\r\n    showLastPosts() {\r\n        let listOfPosts = [];\r\n            for(let post of this.state.lastPosts) {\r\n                listOfPosts.push(<LastPost\r\n                                    key={post._id}\r\n                                    title={post.title}\r\n                                    data={post.data}\r\n                                    image={post.image}\r\n                                    urlTitle={post.urlTitle}\r\n                                />);\r\n            }\r\n            return listOfPosts;\r\n    }\r\n\r\n    showLastEvents() {\r\n        let listOfEvents = [];\r\n            for(let event of this.state.lastEvents) {\r\n                listOfEvents.push(<LastEvent\r\n                                    key={event._id}\r\n                                    title={event.title}\r\n                                    data={event.data}\r\n                                    image={event.image}\r\n                                    eventID={event._id}\r\n                                />);\r\n            }\r\n            return listOfEvents;\r\n    }\r\n\r\n    showLastPolls() {\r\n        let listOfPolls = [];\r\n            for(let poll of this.state.lastPolls) {\r\n                listOfPolls.push(<LastPoll\r\n                                    key={poll._id}\r\n                                    title={poll.title}\r\n                                    state={poll.isActive}\r\n                                    pollID={poll._id}\r\n                                />);\r\n            }\r\n            return listOfPolls;\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"lastElements\" style={{display: 'inline-flex', flexFlow: 'wrap', textAlign: '-webkit-center', justifyContent: 'center'}}>\r\n                {this.showLastPosts()}\r\n                <Divider />\r\n                {this.showLastEvents()}\r\n                <Divider />\r\n                {this.showLastPolls()}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LastElements;","import React, { Component } from 'react';\r\nimport { Editor } from 'react-draft-wysiwyg';\r\nimport { EditorState, convertFromRaw } from 'draft-js';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport LastElements from './lastElements';\r\nimport FacebookIcon from '@material-ui/icons/Facebook';\r\nimport InstagramIcon from '@material-ui/icons/Instagram';\r\nimport YouTubeIcon from '@material-ui/icons/YouTube';\r\nimport _cover from './PBovio.png';\r\nimport './home.css';\r\n\r\n\r\nclass Home extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            home: true,\r\n            tabs: [],\r\n            loaded: false,\r\n            selectedTab: 0,\r\n            t: '{\"blocks\":[{\"key\":\"qv3l\",\"text\":\"Testo\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"offset\":6,\"length\":11,\"style\":\"BOLD\"},{\"offset\":23,\"length\":6,\"style\":\"ITALIC\"}],\"entityRanges\":[],\"data\":{}}],\"entityMap\":{}}',\r\n            value: 0\r\n        }\r\n        this.changeTab = this.changeTab.bind(this);\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await fetch('http://localhost:4000/server/homepageTabs')\r\n        .then(response => response.json())\r\n        .then((data) => this.setState({tabs: data, loaded: true}))\r\n        .catch(console.log());\r\n    }\r\n\r\n    changeTab(content) {\r\n        if(content === 0) {\r\n            this.setState({home: true});\r\n        }\r\n        else {\r\n            this.setState({t: content, home: false});\r\n        }\r\n    }\r\n\r\n    showTab() {\r\n        if(this.state.home === false) {\r\n            const content = EditorState.createWithContent(convertFromRaw(JSON.parse(this.state.t)));\r\n            return(\r\n                <div>\r\n                    <Editor\r\n                    editorState={content}\r\n                    readOnly={true}\r\n                    toolbarHidden={true}\r\n                />\r\n                </div>\r\n            );\r\n        }\r\n        else {\r\n            return(\r\n                <div>\r\n                    <LastElements />\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    showTabs() {\r\n        let listOfTabLabels = [];\r\n            for(let tab of this.state.tabs) {\r\n                listOfTabLabels.push(<Button \r\n                                    key={tab._id}\r\n                                    onClick={() => this.changeTab(tab.content)}\r\n                                    style={{color: '#fcb02d'}}\r\n                                >\r\n                                    {tab.title}</Button>\r\n                                );\r\n            }\r\n            return listOfTabLabels;\r\n    }\r\n\r\n    render() {       \r\n        if(this.state.loaded === false) {\r\n            return(\r\n                <div className=\"loading\" hidden={this.state.loaded}>\r\n                    <CircularProgress color=\"secondary\" />\r\n                    <br />\r\n                    <br />\r\n                </div>\r\n            );\r\n        }\r\n        else {\r\n            return(\r\n                <div className=\"home\" style={{padding: 8}}>\r\n                    <Paper className=\"paper\" elevation={8} style={{padding: '10px', margin: 'auto', maxWidth: '800px'}}>\r\n                        <Grid container spacing={1}>\r\n                            <Grid item xs={12} sm container>\r\n                                <img src={_cover} alt=\"\" style={{maxWidth: '100%'}}/>\r\n                            </Grid>\r\n                            <Paper square style={{justifyContent: 'space-between'}}>\r\n                                <Button style={{color: '#fcb02d'}} onClick={() => this.changeTab(0)}>Home</Button>\r\n                                {this.showTabs()}\r\n                            </Paper>\r\n                            <Grid item>\r\n                                {this.showTab()}\r\n                            </Grid>\r\n                        </Grid>\r\n                        <div style={{padding: '5px'}}>\r\n                        <a href=\"https://www.facebook.com/Movimento5StellePiombino\" target=\"_blank\" rel=\"noopener noreferrer\"><FacebookIcon size=\"large\" style={{color: '#fcb02d', marginLeft: '5px', marginRight: '5px'}} /></a>\r\n                        <a href=\"https://instagram.com/movimento5stellepiombino\" target=\"_blank\" rel=\"noopener noreferrer\"><InstagramIcon size=\"large\" style={{color: '#fcb02d', marginLeft: '5px', marginRight: '5px'}} /></a>\r\n                        <a href=\"https://www.youtube.com/user/piombino5stelle\" target=\"_blank\" rel=\"noopener noreferrer\"><YouTubeIcon size=\"large\" style={{color: '#fcb02d', marginLeft: '5px', marginRight: '5px'}} /></a>\r\n                        </div>\r\n                    </Paper>\r\n                    <br />\r\n                    <Typography variant=\"caption\" style={{color: 'ligthGray', fontSize: '9px'}}>\r\n                        Powered by <a href=\"https://www.facebook.com/Santo1991\" target=\"_blank\" rel=\"noopener noreferrer\" style={{color: 'gray'}}>Francesco Santini</a>\r\n                    </Typography>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport default Home;","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { Button } from '@material-ui/core';\r\nimport './login.css';\r\n\r\n\r\nclass Login extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state= {\r\n            usernameOrEmail: '',\r\n            password: '',\r\n            userNotFound: false,\r\n            wrongPassword: false,\r\n            authenticated: false,\r\n            errors: false\r\n        };\r\n        this.login = this.login.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleUsernameOrEmailChange = this.handleUsernameOrEmailChange.bind(this);\r\n        this.handlePasswordChange = this.handlePasswordChange.bind(this);\r\n        this.register = this.register.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        localStorage.clear();\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n    }\r\n\r\n    handleUsernameOrEmailChange(event) {\r\n        this.setState({usernameOrEmail: event.target.value, userNotFound: false});\r\n    }\r\n\r\n    handlePasswordChange(event) {\r\n        this.setState({password: event.target.value, wrongPassword: false});\r\n    }\r\n\r\n    async login() {\r\n        var authenticated = false;\r\n        var userNotFound = false;\r\n        var wrongPassword = false;\r\n        var errors = false;\r\n        await axios.post('http://localhost:4000/server/login', {\r\n            usernameOrEmail: this.state.usernameOrEmail,\r\n            password: this.state.password\r\n        })\r\n        .then(function(response) {\r\n            if(response.data.token) {\r\n                localStorage.setItem('t', response.data.token);\r\n                authenticated = true;\r\n            }\r\n            else if(response.data.userNotFound) {\r\n                userNotFound = true;\r\n            }\r\n            else if(response.data.wrongPassword) {\r\n                wrongPassword = true;\r\n            }\r\n            else {\r\n                errors = true;\r\n            }\r\n        })\r\n        .catch(function(error) {\r\n            console.log(error);\r\n            errors = true;         //  <--------------------------------------------------------------\r\n        });\r\n        if(authenticated === true) {\r\n            this.setState({authenticated: true});\r\n            window.location.replace('/profile');\r\n        }\r\n        else if(userNotFound === true) {\r\n            this.setState({userNotFound: true});\r\n        }\r\n        else if(wrongPassword === true) {\r\n            this.setState({wrongPassword: true});\r\n        }\r\n        else if(errors === true) {\r\n            this.setState({errors: true});\r\n            //window.location.reload();\r\n        }\r\n        else {\r\n            //window.location.reload();\r\n        }\r\n    }\r\n\r\n    register() {\r\n        window.location.replace('/register');\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"margin\">\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <Grid container spacing={1} className=\"username\" alignItems=\"flex-end\">\r\n                    <Grid item>\r\n                        <AccountCircle fontSize='large' />\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <TextField \r\n                            autoFocus={true} \r\n                            required={true} \r\n                            error={this.state.userNotFound} \r\n                            FormHelperTextProps={{hidden: !this.state.userNotFound}} \r\n                            helperText='Utente non trovato!' \r\n                            id=\"usernameOrEmail\" \r\n                            onChange={this.handleUsernameOrEmailChange} \r\n                            label=\"Username o Email\" \r\n                        />\r\n                    </Grid>\r\n                    </Grid>\r\n                    <Grid container spacing={1} className=\"password\" alignItems=\"flex-end\">\r\n                    <Grid item>\r\n                        <TextField \r\n                            id=\"password\" \r\n                            required={true} \r\n                            error={this.state.wrongPassword} \r\n                            FormHelperTextProps={{hidden: !this.state.wrongPassword}} \r\n                            helperText='Password errata!' \r\n                            type=\"password\" \r\n                            label=\"Password\" \r\n                            onChange={this.handlePasswordChange} \r\n                        />\r\n                    </Grid>\r\n                    </Grid>\r\n                    <Grid container spacing={1} className=\"password\" alignItems=\"flex-end\">\r\n                    <Grid item>\r\n                        <Button \r\n                            variant=\"contained\" \r\n                            size='large' \r\n                            className=\"LoginButton\" \r\n                            onClick={this.login}\r\n                            >Login\r\n                        </Button>\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <a href=\"/resetPassword\" style={{color: '#fcb02d', fontSize: '12px'}}>Password dimenticata?</a>\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <div hidden={!this.state.errors}>\r\n                            <Alert variant=\"filled\" severity=\"error\" closeText='close'>\r\n                                Ops! Qualcosa sembra essere andato storto...\r\n                            </Alert>     \r\n                        </div>\r\n                    </Grid>\r\n                    </Grid>\r\n                    <Divider variant='middle' />\r\n                    <Grid container spacing={1} className=\"password\" alignItems=\"flex-end\">\r\n                    <Grid item>\r\n                    <Typography variant=\"h6\">Non hai un account?</Typography> \r\n                    </Grid>\r\n                    </Grid>\r\n                    <Grid container spacing={1} className=\"password\" alignItems=\"flex-end\">\r\n                    <Grid item>\r\n                        <Button \r\n                            variant=\"contained\" \r\n                            size='large' \r\n                            color='secondary'\r\n                            className=\"RegisterButton\" \r\n                            onClick={this.register}>Registrati\r\n                        </Button>\r\n                    </Grid>\r\n                    </Grid>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Login;","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport { Button } from '@material-ui/core';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport './register.css';\r\n\r\n\r\nclass Register extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: '',\r\n            name: '',\r\n            surname: '',\r\n            dateOfBirth: '',\r\n            email: '',\r\n            password1: '',\r\n            password2: '',\r\n            check1: false,\r\n            check2: false,\r\n            passwordTooShort: false,\r\n            passwordsDoesntMatch: false,\r\n            underage: false,\r\n            registered: false,\r\n            userAlreadyExist: false,\r\n            errors: false\r\n        }\r\n        this.defaultDate = this.defaultDate.bind(this);\r\n        this.handleUsernameChange = this.handleUsernameChange.bind(this);\r\n        this.handleNameChange = this.handleNameChange.bind(this);\r\n        this.handleSurnameChange = this.handleSurnameChange.bind(this);\r\n        this.handleDateOfBirthChange = this.handleDateOfBirthChange.bind(this);\r\n        this.handleEmailChange = this.handleEmailChange.bind(this);\r\n        this.handlePassword1Change = this.handlePassword1Change.bind(this);\r\n        this.handlePassword2Change = this.handlePassword2Change.bind(this);\r\n        this.handleCheck1Change = this.handleCheck1Change.bind(this);\r\n        this.handleCheck2Change = this.handleCheck2Change.bind(this);\r\n        this.register = this.register.bind(this);\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n    }\r\n\r\n    handleUsernameChange(event) {\r\n        this.setState({username: event.target.value});\r\n    }\r\n\r\n    handleNameChange(event) {\r\n        this.setState({name: event.target.value});\r\n    }\r\n\r\n    handleSurnameChange(event) {\r\n        this.setState({surname: event.target.value, userAlreadyExist: false});\r\n    }\r\n\r\n    handleDateOfBirthChange(event) {\r\n        this.setState({dateOfBirth: event.target.value});\r\n        if(event.target.value > this.defaultDate()) {\r\n            this.setState({underage: true});\r\n        }\r\n        else if(event.target.value <= this.defaultDate()) {\r\n            this.setState({underage: false});\r\n        }\r\n    }\r\n\r\n    handleEmailChange(event) {\r\n        this.setState({email: event.target.value, userAlreadyExist: false});\r\n    }\r\n\r\n    handlePassword1Change(event) {\r\n        this.setState({password1: event.target.value});\r\n        if(event.target.value !== this.state.password2) {\r\n            this.setState({passwordsDoesntMatch: true});\r\n        }\r\n        else if(event.target.value === this.state.password2){\r\n            this.setState({passwordsDoesntMatch: false});\r\n        }\r\n        if(this.state.password1.length < 7) {\r\n            this.setState({passwordTooShort: true});\r\n        }\r\n        else if(this.state.password1.length >= 7){\r\n            this.setState({passwordTooShort: false});\r\n        }\r\n        this.forceUpdate();\r\n    }\r\n\r\n    handlePassword2Change(event) {\r\n        this.setState({password2: event.target.value});\r\n        if(this.state.password1 !== event.target.value) {\r\n            this.setState({passwordsDoesntMatch: true});\r\n        }\r\n        else if(this.state.password1 === event.target.value){\r\n            this.setState({passwordsDoesntMatch: false});\r\n        }\r\n        if(this.state.password1.length < 7) {\r\n            this.setState({passwordTooShort: true});\r\n        }\r\n        else if(this.state.password1.length >= 7){\r\n            this.setState({passwordTooShort: false});\r\n        }\r\n        this.forceUpdate();\r\n    }\r\n\r\n    handleCheck1Change(event) {\r\n        this.setState({check1: event.target.checked});\r\n    }\r\n\r\n    handleCheck2Change(event) {\r\n        this.setState({check2: event.target.checked});\r\n    }\r\n\r\n    defaultDate() {\r\n        let today = new Date();\r\n        let day = today.getDate();\r\n        if(day < 10) {day = '0'+day}\r\n        let month = today.getMonth()+1;\r\n        if(month < 10) {month = '0'+month}\r\n        let year = today.getFullYear()-18;\r\n        return (year+'-'+month+'-'+day).toString();\r\n    }\r\n\r\n    async register() {\r\n        if(this.state.dateOfBirth === \"\") {\r\n            this.setState({dateOfBirth: this.defaultDate().toString()});\r\n        }\r\n        this.setState({registered: false, userAlreadyExist: false, errors: false});\r\n        if(this.state.passwordTooShort === false && \r\n            this.state.passwordsDoesntMatch === false && \r\n            this.state.underage === false && \r\n            this.state.check1 === true && \r\n            this.state.check2 === true) {\r\n                var registered = false;\r\n                var userAlreadyExist = false;\r\n                var _errors = false;\r\n                await axios.post('http://localhost:4000/server/users/register', {\r\n                    username: this.state.username,\r\n                    password: this.state.password1,\r\n                    name: this.state.name,\r\n                    surname: this.state.surname,\r\n                    dateOfBirth: this.state.dateOfBirth.toString(),\r\n                    email: this.state.email\r\n                })\r\n                .then(function(response) {\r\n                    if(response.data.saved) {\r\n                        registered = true;\r\n                    }\r\n                    else if(response.data.userAlreadyExist) {\r\n                        userAlreadyExist = true;\r\n                    }\r\n                })\r\n                .catch(function(errors) {\r\n                    console.log(errors);        //  <-----------------------------------------------------\r\n                    _errors = true;       \r\n                });\r\n                if(registered === true) {\r\n                    this.setState({registered: true});\r\n                    window.scrollTo(0, 200);\r\n                }\r\n                else if(userAlreadyExist === true) {\r\n                    this.setState({userAlreadyExist: true});\r\n                    window.scrollTo(0, 200);\r\n                }\r\n                else if(_errors === true) {\r\n                    this.setState({errors: true});\r\n                    window.scrollTo(0, 200);\r\n                }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className='Register' hidden={this.state.registered}>\r\n                <form className=\"fields\" onSubmit={this.handleSubmit}>\r\n                    <Grid container spacing={1} className=\"username\" alignItems=\"flex-end\">\r\n                        <Grid item>\r\n                            <TextField\r\n                                className=\"field\"\r\n                                id=\"username\"\r\n                                label=\"Username\"\r\n                                required={true}\r\n                                disabled={this.state.registered}\r\n                                error={this.state.userAlreadyExist}\r\n                                helperText='Username e/o Email già in uso!'\r\n                                FormHelperTextProps={{hidden: !this.state.userAlreadyExist}}\r\n                                onChange={this.handleUsernameChange}\r\n                                defaultValue=\"\"\r\n                                variant=\"standard\"\r\n                            />\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <TextField\r\n                                className=\"field\"\r\n                                id=\"name\"\r\n                                label=\"Nome\"\r\n                                required={true}\r\n                                disabled={this.state.registered}\r\n                                onChange={this.handleNameChange}\r\n                                defaultValue=\"\"\r\n                                helperText=\"\"\r\n                                variant=\"standard\"\r\n                            />\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <TextField\r\n                                className=\"field\"\r\n                                id=\"surname\"\r\n                                label=\"Cognome\"\r\n                                required={true}\r\n                                disabled={this.state.registered}\r\n                                onChange={this.handleSurnameChange}\r\n                                defaultValue=\"\"\r\n                                helperText=\"\"\r\n                                variant=\"standard\"\r\n                            />\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <TextField\r\n                                style={{width: '182.4px'}}\r\n                                id=\"dateOfBirth\"\r\n                                label=\"Data di nascita\"\r\n                                type=\"date\"\r\n                                required={true}\r\n                                disabled={this.state.registered}\r\n                                error={this.state.underage}\r\n                                helperText='Devi avere almeno 18 anni!'\r\n                                FormHelperTextProps={{hidden: !this.state.underage}}\r\n                                onChange={this.handleDateOfBirthChange}\r\n                                defaultValue={this.defaultDate()}\r\n                                className=\"field\"\r\n                                InputLabelProps={{\r\n                                shrink: true,\r\n                                }}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <TextField\r\n                                className=\"field\"\r\n                                id=\"email\"\r\n                                type=\"email\"\r\n                                label=\"Email\"\r\n                                required={true}\r\n                                disabled={this.state.registered}\r\n                                onChange={this.handleEmailChange}\r\n                                defaultValue=\"\"\r\n                                helperText=\"\"\r\n                                variant=\"standard\"\r\n                            />\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <TextField\r\n                                className=\"field\"\r\n                                id=\"password1\"\r\n                                type=\"password\"\r\n                                label=\"Password\"\r\n                                required={true}\r\n                                disabled={this.state.registered}\r\n                                error={this.state.passwordTooShort}\r\n                                helperText='Lunghezza minima 8 caratteri!'\r\n                                FormHelperTextProps={{hidden: !this.state.passwordTooShort}}\r\n                                onChange={this.handlePassword1Change}\r\n                                defaultValue=\"\"\r\n                                variant=\"standard\"\r\n                            />\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <TextField\r\n                                className=\"field\"\r\n                                id=\"password2\"\r\n                                type=\"password\"\r\n                                label=\"Ripeti password\"\r\n                                required={true}\r\n                                disabled={this.state.registered}\r\n                                error={this.state.passwordsDoesntMatch}\r\n                                helperText='Le password non corrispondono!'\r\n                                FormHelperTextProps={{hidden: !this.state.passwordsDoesntMatch}}\r\n                                onChange={this.handlePassword2Change}\r\n                                defaultValue=\"\"\r\n                                variant=\"standard\"\r\n                            />\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <div className=\"checks\">\r\n                            <FormControlLabel\r\n                                control={<Checkbox checked={this.state.check1} onChange={this.handleCheck1Change} name=\"check1\" />}\r\n                                label=\"Accetto i termini di utilizzo\"\r\n                            />\r\n                            <FormControlLabel\r\n                                control={<Checkbox checked={this.state.check2} onChange={this.handleCheck2Change} name=\"check2\" />}\r\n                                label=\"Acconsento al trattamento dei dati personali\"\r\n                            />\r\n                            </div>\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <Button \r\n                                variant=\"contained\" \r\n                                size='large' \r\n                                className=\"SendButton\" \r\n                                onClick={this.register}\r\n                                disabled={this.state.registered}\r\n                                >Invia\r\n                            </Button>\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <div hidden={!this.state.errors}>\r\n                            <Alert variant=\"filled\" severity=\"error\" closeText='close'>\r\n                                Errore!\r\n                            </Alert>\r\n                            </div>\r\n                            <div hidden={!this.state.userAlreadyExist}>\r\n                            <Alert variant=\"filled\" severity=\"warning\" closeText='close'>\r\n                                Username e/o Email già utilizzati!\r\n                            </Alert>\r\n                            </div>\r\n                            <div hidden={!this.state.registered}>\r\n                            <Alert variant=\"filled\" severity=\"success\" closeText='close'>\r\n                                Account creato! Clicca sul link che ti abbiamo inviato via Email per confermarlo! Il link ha validità di un'ora.\r\n                            </Alert>     \r\n                            </div>                 \r\n                        </Grid>\r\n                    </Grid>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Register;","import React, { Component } from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport { Button } from '@material-ui/core';\r\nimport axios from 'axios';\r\n\r\nclass ForgotPassword extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            email: '',\r\n            userNotFound: false,\r\n            sended: false,\r\n            errors: false\r\n        };\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleEmailChange = this.handleEmailChange.bind(this);\r\n        this.send = this.send.bind(this);\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n    }\r\n\r\n    handleEmailChange(event) {\r\n        this.setState({email: event.target.value, userNotFound: false});\r\n    }\r\n\r\n    async send() {\r\n        var sended = false;\r\n        var userNotFound = false;\r\n        var _errors = false;\r\n        await axios.post('http://localhost:4000/server/users/resetPassword', {\r\n            email: this.state.email\r\n        })\r\n        .then(function(response) {\r\n            if(response.data.sended) {\r\n                sended = true;\r\n            }\r\n            else if(response.data.noResults) {\r\n                userNotFound = true;\r\n            }\r\n        })\r\n        .catch(function(errors) {\r\n            console.log(errors);\r\n            _errors = true;\r\n        });\r\n        this.setState({\r\n            sended: sended,\r\n            userNotFound: userNotFound,\r\n            errors: _errors\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"resetPassword\">\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <br />\r\n                    <br />\r\n                    <br />\r\n                    <Grid container spacing={1} className=\"username\" alignItems=\"flex-end\">\r\n                        <Grid item>\r\n                            <TextField \r\n                                style={{width: '250px'}}\r\n                                autoFocus={true} \r\n                                required={true} \r\n                                error={this.state.userNotFound} \r\n                                FormHelperTextProps={{hidden: !this.state.userNotFound}} \r\n                                helperText='Utente non trovato!' \r\n                                id=\"email\" \r\n                                onChange={this.handleEmailChange} \r\n                                label=\"Inserisci la tua Email\" \r\n                            />\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <Button \r\n                                variant=\"contained\" \r\n                                size='large' \r\n                                className=\"SendButton\" \r\n                                onClick={this.send}\r\n                                >Invia\r\n                            </Button>\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <div hidden={!this.state.userNotFound}>\r\n                                <Alert variant=\"filled\" severity=\"warning\" closeText='close'>\r\n                                    Questa email non è associata ad alcun account!\r\n                                </Alert>     \r\n                            </div>\r\n                            <div hidden={!this.state.errors}>\r\n                                <Alert variant=\"filled\" severity=\"error\" closeText='close'>\r\n                                    Ops! Qualcosa sembra essere andato storto...\r\n                                </Alert>     \r\n                            </div>\r\n                            <div hidden={!this.state.sended}>\r\n                                <Alert variant=\"filled\" severity=\"success\" closeText='close'>\r\n                                    Abbiamo inviato una email al tuo indirizzo di posta. Clicca sul link allegato per accedere!\r\n                                </Alert>     \r\n                            </div>\r\n                    </Grid>\r\n                    </Grid>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ForgotPassword;","import React, { Component } from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport { Button } from '@material-ui/core';\r\nimport querySearch from \"stringquery\";\r\nimport axios from 'axios';\r\n\r\nclass RestorePassword extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        const token = querySearch(this.props.location.search).t;\r\n        this.state = {\r\n            username: this.props.match.params.username,\r\n            token,\r\n            password1: '',\r\n            password2: '',\r\n            passwordTooShort: false,\r\n            passwordsDoesntMatch: false,\r\n            saved: false,\r\n            userNotFound: false,\r\n            unauthorized: false,\r\n            errors: false\r\n        };\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handlePassword1Change = this.handlePassword1Change.bind(this);\r\n        this.handlePassword2Change = this.handlePassword2Change.bind(this);\r\n        this.save = this.save.bind(this);\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n    }\r\n\r\n    handlePassword1Change(event) {\r\n        this.setState({password1: event.target.value});\r\n        if(event.target.value !== this.state.password2) {\r\n            this.setState({passwordsDoesntMatch: true});\r\n        }\r\n        else if(event.target.value === this.state.password2){\r\n            this.setState({passwordsDoesntMatch: false});\r\n        }\r\n        if(this.state.password1.length < 7) {\r\n            this.setState({passwordTooShort: true});\r\n        }\r\n        else if(this.state.password1.length >= 7){\r\n            this.setState({passwordTooShort: false});\r\n        }\r\n        this.forceUpdate();\r\n    }\r\n\r\n    handlePassword2Change(event) {\r\n        this.setState({password2: event.target.value});\r\n        if(this.state.password1 !== event.target.value) {\r\n            this.setState({passwordsDoesntMatch: true});\r\n        }\r\n        else if(this.state.password1 === event.target.value){\r\n            this.setState({passwordsDoesntMatch: false});\r\n        }\r\n        if(this.state.password1.length < 7) {\r\n            this.setState({passwordTooShort: true});\r\n        }\r\n        else if(this.state.password1.length >= 7){\r\n            this.setState({passwordTooShort: false});\r\n        }\r\n        this.forceUpdate();\r\n    }\r\n\r\n    async save() {\r\n        var saved = false;\r\n        var userNotFound = false;\r\n        var unauthorized = false;\r\n        var _errors = false;\r\n        await axios.post('http://localhost:4000/server/users/restorePassword', {\r\n            username: this.state.username,\r\n            token: this.state.token,\r\n            password: this.state.password1\r\n        })\r\n        .then(function(response) {\r\n            if(response.data.saved) {\r\n                saved = true;\r\n            }\r\n            else if(response.data.userNotFound) {\r\n                userNotFound = true;\r\n            }\r\n            else if(response.data.unauthorized) {\r\n                unauthorized = true;\r\n            }\r\n        })\r\n        .catch(function(errors) {\r\n            console.log(errors);\r\n            _errors = true;\r\n        });\r\n        this.setState({\r\n            saved: saved,\r\n            userNotFound: userNotFound,\r\n            unauthorized: unauthorized,\r\n            errors: _errors\r\n        });\r\n        window.scrollTo(0, 5000);\r\n        if(saved === true) {\r\n            setTimeout(function() {window.location.replace('/login')}, 3000);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"resetPassword\">\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <br />\r\n                    <br />\r\n                    <br />\r\n                    <Grid container spacing={1} className=\"username\" alignItems=\"flex-end\">\r\n                    <Grid item>\r\n                        <TextField\r\n                            className=\"field\"\r\n                            id=\"password1\"\r\n                            type=\"password\"\r\n                            label=\"Password\"\r\n                            required={true}\r\n                            error={this.state.passwordTooShort}\r\n                            helperText='Lunghezza minima 8 caratteri!'\r\n                            FormHelperTextProps={{hidden: !this.state.passwordTooShort}}\r\n                            onChange={this.handlePassword1Change}\r\n                            defaultValue=\"\"\r\n                            variant=\"standard\"\r\n                            disabled={this.state.saved}\r\n                        />\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <TextField\r\n                            className=\"field\"\r\n                            id=\"password2\"\r\n                            type=\"password\"\r\n                            label=\"Ripeti password\"\r\n                            required={true}\r\n                            error={this.state.passwordsDoesntMatch}\r\n                            helperText='Le password non corrispondono!'\r\n                            FormHelperTextProps={{hidden: !this.state.passwordsDoesntMatch}}\r\n                            onChange={this.handlePassword2Change}\r\n                            defaultValue=\"\"\r\n                            variant=\"standard\"\r\n                            disabled={this.state.saved}\r\n                        />\r\n                    </Grid>\r\n                        <Grid item>\r\n                            <Button \r\n                                variant=\"contained\" \r\n                                size='large' \r\n                                className=\"SendButton\" \r\n                                onClick={this.save}\r\n                                >Invia\r\n                            </Button>\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <div hidden={!this.state.userNotFound}>\r\n                                <Alert variant=\"filled\" severity=\"warning\" closeText='close'>\r\n                                    Nome utente inesistente!\r\n                                </Alert>     \r\n                            </div>\r\n                            <div hidden={!this.state.unauthorized}>\r\n                                <Alert variant=\"filled\" severity=\"warning\" closeText='close'>\r\n                                    Non disponi delle autorizzazioni necessarie!\r\n                                </Alert>     \r\n                            </div>\r\n                            <div hidden={!this.state.errors}>\r\n                                <Alert variant=\"filled\" severity=\"error\" closeText='close'>\r\n                                    Ops! Qualcosa sembra essere andato storto...\r\n                                </Alert>     \r\n                            </div>\r\n                            <div hidden={!this.state.saved}>\r\n                                <Alert variant=\"filled\" severity=\"success\" closeText='close'>\r\n                                    Password cambiata correttamente!\r\n                                </Alert>     \r\n                            </div>\r\n                    </Grid>\r\n                    </Grid>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default RestorePassword;","import React, { Component } from 'react';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport { Button } from '@material-ui/core';\r\nimport axios from 'axios';\r\n\r\nclass Confirm extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            confirmed: false,\r\n            userNotFound: false,\r\n            userAlreadyConfirmed: false,\r\n            errors: false\r\n        };\r\n        this.goToLoginPage = this.goToLoginPage.bind(this);\r\n    }\r\n\r\n    async componentDidMount() {\r\n        var confirmed = false;\r\n        var userNotFound = false;\r\n        var userAlreadyConfirmed = false;\r\n        var _errors = false;\r\n        await axios.get('http://localhost:4000/server/login/confirm/' + this.props.match.params.username + this.props.location.search)\r\n            .then(function(response) {\r\n                console.log(response)\r\n                if(response.data.confirmed) {\r\n                    confirmed = true;\r\n                }\r\n                else if(response.data.userNotFound) {\r\n                    userNotFound = true;\r\n                }\r\n                else if(response.data.alreadyConfirmed) {\r\n                    userAlreadyConfirmed = true;\r\n                }\r\n            })\r\n            .catch(function(errors) {\r\n                console.log(errors);\r\n                _errors = true;\r\n            });\r\n            this.setState({\r\n                confirmed: confirmed,\r\n                userNotFound: userNotFound,\r\n                userAlreadyConfirmed: userAlreadyConfirmed,\r\n                errors: _errors\r\n            });\r\n    }\r\n\r\n    goToLoginPage() {\r\n        window.location.replace('/login');\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"Confirm\" style={{padding: '8px'}}>\r\n                <br />\r\n                <br />\r\n                <div hidden={!this.state.errors}>\r\n                    <Alert variant=\"filled\" severity=\"error\" closeText='close'>\r\n                        Errore!\r\n                    </Alert>\r\n                </div>\r\n                <div hidden={!this.state.userNotFound}>\r\n                    <Alert variant=\"filled\" severity=\"warning\" closeText='close'>\r\n                        Utente non trovato!\r\n                    </Alert>\r\n                </div>\r\n                <div hidden={!this.state.userAlreadyConfirmed}>\r\n                    <Alert variant=\"filled\" severity=\"info\" closeText='close'>\r\n                        Account utente già confermato.\r\n                    </Alert>     \r\n                </div>  \r\n                <div hidden={!this.state.confirmed}>\r\n                    <Alert variant=\"filled\" severity=\"success\" closeText='close'>\r\n                        Account utente confermato!\r\n                    </Alert>     \r\n                    <br />\r\n                    <Button \r\n                        variant=\"contained\" \r\n                        size='large' \r\n                        className=\"SendButton\" \r\n                        onClick={this.goToLoginPage}\r\n                        >ACCEDI\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n \r\n}\r\n\r\nexport default Confirm;","import React, { Component } from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport ButtonBase from '@material-ui/core/ButtonBase';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport StarBorderRoundedIcon from '@material-ui/icons/StarBorderRounded';\r\nimport MessageRoundedIcon from '@material-ui/icons/MessageRounded';\r\n\r\n\r\nclass SinglePost extends Component {\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"singlePost\">\r\n                <div className=\"root\" style={{flexGrow: 1}}>\r\n                    <Paper className=\"paper\" elevation={8} style={{padding: '10px', margin: 'auto', maxWidth: '800px'}}>\r\n                        <Grid container spacing={1}>\r\n                        <Grid item xs={12} sm container>\r\n                            <Grid item xs container direction=\"column\" spacing={1}>\r\n                            <Grid item>\r\n                                <ButtonBase className=\"image\" style={{maxWidth: '100%', maxHeight: '100%'}} href={'/posts/'+this.props.urlTitle}>\r\n                                    <img className=\"img\" style={{margin: 'auto', display: 'block', maxWidth: '100%', maxHeight: '100%'}} alt={this.props.image} src={this.props.image} />\r\n                                </ButtonBase>\r\n                            </Grid>\r\n                            <Grid item xs>\r\n                                <Typography gutterBottom variant=\"h6\" >\r\n                                    {this.props.title}\r\n                                </Typography>\r\n\r\n                            </Grid>\r\n                            \r\n                            <Grid item>\r\n                                <Typography variant=\"body2\" color=\"textSecondary\">\r\n                                    Pubblicazione: {this.props.data === undefined ? '' : this.props.data.substring(0,10).replace(/-/g, '/')}\r\n                                </Typography>\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <Typography variant=\"body2\">\r\n                                    <a href={'/posts/'+this.props.urlTitle}>Leggi il comunicato</a>\r\n                                </Typography>\r\n                            </Grid>\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <div style={{padding: 8, margin: 10, color: '#fbc02d'}}>\r\n                                    <Badge badgeContent={this.props.likes} color=\"secondary\" showZero max={99}>\r\n                                        <StarBorderRoundedIcon fontSize=\"large\" style={{marginRight: '8px'}} /> \r\n                                    </Badge>\r\n                                    {'  '}\r\n                                    <Badge badgeContent={this.props.comments} color=\"secondary\" showZero max={99}>\r\n                                        <MessageRoundedIcon fontSize=\"large\" style={{marginLeft: '8px'}} /> \r\n                                    </Badge>\r\n                                </div>\r\n                            </Grid>\r\n                        </Grid>\r\n                        </Grid>\r\n                    </Paper>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SinglePost;","import React, { Component } from 'react';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport Pagination from '@material-ui/lab/Pagination';\r\nimport SinglePost from './singlePost';\r\n\r\nclass PostsContainer extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loaded: false,\r\n            noResults: false,\r\n            total: null,\r\n            page: null,\r\n            posts: []\r\n        }\r\n        this.loading = this.loading.bind(this);\r\n        this.showContent = this.showContent.bind(this);\r\n        this.handlePageChange = this.handlePageChange.bind(this);\r\n        \r\n    }\r\n\r\n    async componentDidMount() {\r\n        await fetch('http://localhost:4000/server/posts'+this.props.location.search)\r\n        .then(response => response.json())\r\n        .then((data) => this.setState({posts: data}))\r\n        .catch(console.log);\r\n        await fetch('http://localhost:4000/server/posts/numberOfPosts')\r\n        .then(response => response.json())\r\n        .then((data) => this.setState({total: data.totalPosts}))\r\n        .catch(console.log);\r\n        this.setState({loaded: true});\r\n    }\r\n\r\n    loading() {\r\n        return(\r\n            <div className=\"loading\" hidden={this.state.loaded}>\r\n                <br />\r\n                <br />\r\n                <CircularProgress color=\"secondary\" />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    showContent() {\r\n        if(this.state.posts.length === 0 && this.state.loaded === true) {\r\n            return(\r\n                <div className=\"noResults\">\r\n                    <Alert severity=\"warning\">Non ci sono comunicati</Alert>\r\n                </div>\r\n            );\r\n        }\r\n        else {\r\n            let listOfPosts = [];\r\n            for(let post of this.state.posts) {\r\n                listOfPosts.push(<SinglePost\r\n                                    key={post._id}\r\n                                    title={post.title}\r\n                                    subtitle={post.subtitle}\r\n                                    urlTitle={post.urlTitle}\r\n                                    data={post.data}\r\n                                    image={post.image}\r\n                                    author={post.author}\r\n                                    likes={post.likes.length}\r\n                                    comments={post.comments.length}\r\n                                />);\r\n            }\r\n            return listOfPosts;\r\n        }\r\n    }\r\n\r\n    handlePageChange(event, value) {\r\n        this.setState({page: value});\r\n        window.location.replace('/posts?page='+value);\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"allPosts\">\r\n                {this.loading()}\r\n                {this.showContent()}\r\n                <div className=\"pagination\">\r\n                    <Pagination count={parseInt((this.state.total / 5) + 1)} \r\n                                page={parseInt(this.props.location.search.substring(6,9))} \r\n                                defaultPage={1}\r\n                                color='secondary' \r\n                                onChange={this.handlePageChange} \r\n                                hideNextButton\r\n                                hidePrevButton\r\n                    />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default PostsContainer;","import React, { Component } from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport ButtonBase from '@material-ui/core/ButtonBase';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport PeopleRoundedIcon from '@material-ui/icons/PeopleRounded';\r\n\r\nclass SingleEvent extends Component {\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"singleEvent\">\r\n                <div className=\"root\" style={{flexGrow: 1}}>\r\n                    <Paper className=\"paper\" elevation={8} style={{padding: '10px', margin: 'auto', maxWidth: '800px'}}>\r\n                        <Grid container spacing={2}>\r\n                        <Grid item xs={12} sm container>\r\n                            <Grid item xs container direction=\"column\" spacing={2}>\r\n                            <Grid item>\r\n                                <ButtonBase className=\"image\" style={{maxWidth: '100%', maxHeight: '100%'}} href={'/events/'+this.props.eventID}>\r\n                                    <img className=\"img\" style={{margin: 'auto', display: 'block', maxWidth: '100%', maxHeight: '100%'}} alt={this.props.image} src={this.props.image} />\r\n                                </ButtonBase>\r\n                            </Grid>\r\n                            <Grid item xs>\r\n                                <Typography gutterBottom variant=\"h6\" >\r\n                                    {this.props.title}\r\n                                </Typography>\r\n                                <Typography variant=\"body2\" gutterBottom>\r\n                                    {this.props.data === undefined ? '' : this.props.data.substring(0,10).replace(/-/g, '/')}\r\n                                </Typography>\r\n                                <Typography variant=\"body2\" gutterBottom>\r\n                                    {this.props.location}\r\n                                </Typography>\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <Typography variant=\"body2\">\r\n                                    <a href={'/events/'+this.props.eventID}>Vai all'evento</a>\r\n                                </Typography>\r\n                            </Grid>\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <div style={{padding: 8, margin: 10, color: '#fbc02d'}}>\r\n                                    <Badge badgeContent={this.props.participants} color=\"secondary\" showZero max={99}>\r\n                                        <PeopleRoundedIcon fontSize=\"large\" style={{marginRight: '8px'}} /> \r\n                                    </Badge>\r\n                                </div>\r\n                            </Grid>\r\n                        </Grid>\r\n                        </Grid>\r\n                    </Paper>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SingleEvent;","import React, { Component } from 'react';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport Pagination from '@material-ui/lab/Pagination';\r\nimport SingleEvent from './singleEvent';\r\n\r\n\r\nclass EventsContainer extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loaded: false,\r\n            noResults: false,\r\n            total: null,\r\n            page: null,\r\n            events: []\r\n        }\r\n        this.loading = this.loading.bind(this);\r\n        this.showContent = this.showContent.bind(this);\r\n        this.handlePageChange = this.handlePageChange.bind(this);\r\n        \r\n    }\r\n\r\n    async componentDidMount() {\r\n        await fetch('http://localhost:4000/server/events/allEvents'+this.props.location.search)\r\n        .then(response => response.json())\r\n        .then((data) => this.setState({events: data}))\r\n        .catch(console.log);\r\n        await fetch('http://localhost:4000/server/events/numberOfAllEvents')\r\n        .then(response => response.json())\r\n        .then((data) => this.setState({total: data.totalEvents}))\r\n        .catch(console.log);\r\n        this.setState({loaded: true});\r\n    }\r\n\r\n    loading() {\r\n        return(\r\n            <div className=\"loading\" hidden={this.state.loaded}>\r\n                <br />\r\n                <br />\r\n                <CircularProgress color=\"secondary\" />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    showContent() {\r\n        if(this.state.events.length === 0 && this.state.loaded === true) {\r\n            return(\r\n                <div className=\"noResults\">\r\n                    <Alert severity=\"warning\">Non ci sono eventi</Alert>\r\n                </div>\r\n            );\r\n        }\r\n        else {\r\n            let listOfEvents = [];\r\n            for(let event of this.state.events) {\r\n                listOfEvents.push(<SingleEvent\r\n                                    key={event._id}\r\n                                    eventID={event._id}\r\n                                    title={event.title}\r\n                                    image={event.image}\r\n                                    data={event.data}\r\n                                    location={event.location}\r\n                                    participants={event.participants.length}\r\n                                />);\r\n            }\r\n            return listOfEvents;\r\n        }\r\n    }\r\n\r\n    handlePageChange(event, value) {\r\n        this.setState({page: value});\r\n        window.location.replace('/events?page='+value);\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"allEvents\">\r\n                {this.loading()}\r\n                {this.showContent()}\r\n                <div className=\"pagination\">\r\n                    <Pagination count={parseInt((this.state.total / 5) + 1)} \r\n                                page={parseInt(this.props.location.search.substring(6,9))} \r\n                                defaultPage={1}\r\n                                color='secondary' \r\n                                onChange={this.handlePageChange} \r\n                                hideNextButton\r\n                                hidePrevButton\r\n                    />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default EventsContainer;","import React, { Component } from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport HowToVoteRoundedIcon from '@material-ui/icons/HowToVoteRounded';\r\n\r\nclass SinglePoll extends Component {\r\n\r\n    getPollState() {\r\n        if(this.props.state === true) {\r\n            return (<span style={{color: 'green'}}>Attivo</span>);\r\n        }\r\n        else {\r\n            return (<span style={{color: 'red'}}>Non attivo</span>);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"singlePoll\">\r\n                <div className=\"root\" style={{flexGrow: 1}}>\r\n                    <Paper className=\"paper\" elevation={8} style={{padding: '10px', margin: 'auto', maxWidth: '800px'}}>\r\n                        <Grid container spacing={2}>\r\n                        <Grid item xs={12} sm container>\r\n                            <Grid item xs container direction=\"column\" spacing={2}>\r\n                            <Grid item xs>\r\n                                <Typography gutterBottom variant=\"h6\" >\r\n                                    {this.props.title}\r\n                                </Typography>\r\n                                <Typography variant=\"body2\" gutterBottom>\r\n                                    Stato: {this.getPollState()}\r\n                                </Typography>\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <Typography variant=\"body2\">\r\n                                    <a href={'/polls/'+this.props.pollID}>Vai al sondaggio</a>\r\n                                </Typography>\r\n                            </Grid>\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <div style={{padding: 8, margin: 10, color: '#fbc02d'}}>\r\n                                    <Badge badgeContent={this.props.voters} color=\"secondary\" showZero max={99}>\r\n                                        <HowToVoteRoundedIcon fontSize=\"large\" style={{marginRight: '8px'}} /> \r\n                                    </Badge>\r\n                                </div>\r\n                            </Grid>\r\n                        </Grid>\r\n                        </Grid>\r\n                    </Paper>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SinglePoll;","import React, { Component } from 'react';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport Pagination from '@material-ui/lab/Pagination';\r\nimport SinglePoll from './singlePoll';\r\n\r\n\r\nclass PollsContainer extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loaded: false,\r\n            noResults: false,\r\n            total: null,\r\n            page: null,\r\n            polls: []\r\n        }\r\n        this.loading = this.loading.bind(this);\r\n        this.showContent = this.showContent.bind(this);\r\n        this.handlePageChange = this.handlePageChange.bind(this);\r\n        \r\n    }\r\n\r\n    async componentDidMount() {\r\n        await fetch('http://localhost:4000/server/polls/allPolls'+this.props.location.search)\r\n        .then(response => response.json())\r\n        .then((data) => this.setState({polls: data}))\r\n        .catch(console.log);\r\n        await fetch('http://localhost:4000/server/polls/numberOfAllPolls')\r\n        .then(response => response.json())\r\n        .then((data) => this.setState({total: data.totalPolls}))\r\n        .catch(console.log);\r\n        this.setState({loaded: true});\r\n    }\r\n\r\n    loading() {\r\n        return(\r\n            <div className=\"loading\" hidden={this.state.loaded}>\r\n                <br />\r\n                <br />\r\n                <CircularProgress color=\"secondary\" />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    showContent() {\r\n        if(this.state.polls.length === 0 && this.state.loaded === true) {\r\n            return(\r\n                <div className=\"noResults\">\r\n                    <Alert severity=\"warning\">Non ci sono sondaggi!</Alert>\r\n                </div>\r\n            );\r\n        }\r\n        else {\r\n            let listOfPolls = [];\r\n            for(let poll of this.state.polls) {\r\n                listOfPolls.push(<SinglePoll\r\n                                    key={poll._id}\r\n                                    pollID={poll._id}\r\n                                    title={poll.title}\r\n                                    data={poll.data}\r\n                                    state={poll.isActive}\r\n                                    voters={poll.voters.length}\r\n                                />);\r\n            }\r\n            return listOfPolls;\r\n        }\r\n    }\r\n\r\n    handlePageChange(event, value) {\r\n        this.setState({page: value});\r\n        window.location.replace('/polls?page='+value);\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"allPolls\">\r\n                {this.loading()}\r\n                {this.showContent()}\r\n                <div className=\"pagination\">\r\n                    <Pagination count={parseInt((this.state.total / 5) + 1)} \r\n                                page={parseInt(this.props.location.search.substring(6,9))} \r\n                                defaultPage={1}\r\n                                color='secondary' \r\n                                onChange={this.handlePageChange} \r\n                                hideNextButton\r\n                                hidePrevButton\r\n                    />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default PollsContainer;","import React, { Component } from 'react';\r\nimport { Editor } from 'react-draft-wysiwyg';\r\nimport { EditorState, convertToRaw, convertFromRaw } from 'draft-js';\r\nimport '../../../node_modules/react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Button from '@material-ui/core/Button';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport StarBorderRoundedIcon from '@material-ui/icons/StarBorderRounded';\r\nimport StarRoundedIcon from '@material-ui/icons/StarRounded';\r\nimport EditRoundedIcon from '@material-ui/icons/EditRounded';\r\nimport DeleteRoundedIcon from '@material-ui/icons/DeleteRounded';\r\nimport axios from 'axios';\r\nimport './comment.css';\r\n\r\nclass Comment extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        const commentEdited = EditorState.createWithContent(convertFromRaw(JSON.parse(this.props.content)));\r\n        this.state = {\r\n            user: {},\r\n            loaded: false,\r\n            edit: false,\r\n            commentEdited,\r\n            emptyComment: false,\r\n            deleted: false,\r\n            unauthorized: false,\r\n            noResults: false,\r\n            errors: false,\r\n            liked: false\r\n        };\r\n        this.wrapper = React.createRef();\r\n        this.like = this.like.bind(this);\r\n        this.handleOpenEditTabs = this.handleOpenEditTabs.bind(this);\r\n        this.handleCloseEditTabs = this.handleCloseEditTabs.bind(this);\r\n        this.handleEditComment = this.handleEditComment.bind(this);\r\n        this.edit = this.edit.bind(this);\r\n        this.delete = this.delete.bind(this);\r\n    }\r\n\r\n    handleOpenEditTabs() {\r\n        this.setState({edit: true});\r\n    }\r\n\r\n    handleCloseEditTabs() {\r\n        this.setState({edit: false});\r\n    }\r\n\r\n    handleEditComment(commentEdited) {\r\n        this.setState({commentEdited, emptyComment: false});\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await fetch('http://localhost:4000/server/users/' + this.props.userID)\r\n        .then(response => response.json())\r\n        .then((data) => this.setState({user: data, loaded: true}))\r\n        .catch(console.log);\r\n        if(this.props._username !== \"\") {\r\n            let liked = false;\r\n            await axios.post('http://localhost:4000/server/posts/' + this.props.urlTitle + '/' + this.props.commentID + '/verifyLike', {\r\n                userID: this.props._userID\r\n            })\r\n            .then(function(response) {\r\n                if(response.data.liked === true) {\r\n                    liked = true;\r\n                }\r\n            })\r\n            .catch(function(errors) {\r\n                console.log(errors);\r\n            });\r\n            this.setState({liked: liked});\r\n        }\r\n    }\r\n\r\n    async like() {\r\n        if(this.state.liked === false && this.props._username !== \"\") {\r\n            var liked = false;\r\n            var noResults = false;\r\n            var _errors = false;\r\n            await axios.post('http://localhost:4000/server/posts/' + this.props.urlTitle + '/' + this.props.commentID + '/like', {\r\n                userID: this.props._userID\r\n            })\r\n                .then(function(response) {\r\n                    if(response.data.liked) {\r\n                        liked = true;\r\n                    }\r\n                    else if(response.data.noResults) {\r\n                        noResults = true;\r\n                    }\r\n                })\r\n                .catch(function(errors) {\r\n                    console.log(errors);\r\n                    _errors = true;\r\n                });\r\n                this.setState({\r\n                    liked: liked,\r\n                    noResults: noResults,\r\n                    errors: _errors\r\n                });\r\n                window.location.reload();\r\n            }\r\n    }\r\n\r\n    async edit() {\r\n        var commentEdited = convertToRaw(this.state.commentEdited.getCurrentContent())\r\n        if(commentEdited.blocks[0].text === \"\") {\r\n            this.setState({emptyComment: true});\r\n        }\r\n        else {\r\n            var edited = false;\r\n            var unauthorized = false;\r\n            var noResults = false;\r\n            var _errors = false;\r\n            await axios.put('http://localhost:4000/server/posts/' + this.props.urlTitle + '/' + this.props.commentID, {\r\n                token: this.props.token,\r\n                comment: JSON.stringify(convertToRaw(this.state.commentEdited.getCurrentContent()))\r\n            })\r\n            .then(function(response) {\r\n                if(response.data.edited) {\r\n                    edited = true;\r\n                }\r\n                else if(response.data.noResults) {\r\n                    noResults = true;\r\n                }\r\n                else if(response.data.unauthorized) {\r\n                    unauthorized = true;\r\n                }\r\n            })\r\n            .catch(function(errors) {\r\n                console.log(errors);\r\n                _errors = true;\r\n            });\r\n            this.setState({\r\n                edited: edited,\r\n                noResults: noResults,\r\n                unauthorized: unauthorized,\r\n                errors: _errors\r\n            });\r\n            if(edited === true) {\r\n                window.location.reload();\r\n            }\r\n        }\r\n    }\r\n\r\n    async delete() {\r\n        var deleted = false;\r\n        var unauthorized = false;\r\n        var noResults = false;\r\n        var _errors = false;\r\n        await axios.patch('http://localhost:4000/server/posts/' + this.props.urlTitle + '/' + this.props.commentID, {\r\n            token: this.props.token\r\n        })\r\n        .then(function(response) {\r\n            if(response.data.deleted) {\r\n                deleted = true;\r\n            }\r\n            else if(response.data.unauthorized) {\r\n                unauthorized = true;\r\n            }\r\n            else if(response.data.noResults) {\r\n                noResults = true;\r\n            }\r\n        })\r\n        .then(function(errors) {\r\n            console.log(errors);\r\n            _errors = true;\r\n        });\r\n        this.setState({\r\n            deleted: deleted,\r\n            noResults: noResults,\r\n            unauthorized: unauthorized,\r\n            errors: _errors,\r\n            edit: false\r\n        });\r\n        if(deleted === true) {\r\n            window.location.reload();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let rights = false\r\n        if(this.props._username === this.props.user || this.props._isSuperUser === true) {\r\n            rights = true;\r\n        }\r\n        const comment = EditorState.createWithContent(convertFromRaw(JSON.parse(this.props.content)));\r\n        return(\r\n            <div className=\"comment\" ref={this.wrapper}>\r\n                <Card className=\"card\" elevation={5} style={{maxWidth: '1020px', margin: 'auto'}}>\r\n                    <CardHeader\r\n                        avatar={\r\n                            <Avatar alt=\"\" src={this.state.user.avatar} />\r\n                        }\r\n                        title={this.props.user}\r\n                        subheader={this.state.user.name + ' ' + this.state.user.surname}\r\n                    />\r\n                    <Divider variant=\"middle\" />\r\n                    <CardContent>\r\n                        <Editor\r\n                            editorState={comment}\r\n                            readOnly={true}\r\n                            toolbarHidden={true}\r\n                        />\r\n                    </CardContent>\r\n                    <CardActions disableSpacing>\r\n                        <div className=\"bottomCard\">\r\n                            <div>\r\n                            <FormControlLabel\r\n                                control={<Checkbox checked={this.state.liked} icon={<StarBorderRoundedIcon fontSize='large' />} checkedIcon={<StarRoundedIcon fontSize='large' />} name=\"likes\" />}\r\n                                onClick={this.like}\r\n                                label={this.props.likes}\r\n                            />\r\n                            </div>\r\n                            <div className=\"actions\" hidden={!rights}>\r\n                                <IconButton aria-label=\"Modifica\" onClick={this.handleOpenEditTabs}>\r\n                                    <EditRoundedIcon />\r\n                                </IconButton>\r\n                                <IconButton aria-label=\"Elimina\" onClick={this.delete}>\r\n                                    <DeleteRoundedIcon />\r\n                                </IconButton>\r\n                            </div>\r\n                            <Dialog open={this.state.edit} onClose={this.handleCloseEditTabs} fullWidth aria-labelledby=\"form-dialog-title\">\r\n                                <DialogTitle id=\"form-dialog-title\">Modifica</DialogTitle>\r\n                                <DialogContent>\r\n                                    <div>\r\n                                    <Editor \r\n                                        toolbar={{options: ['emoji', 'link']}}\r\n                                        editorState={this.state.commentEdited}\r\n                                        onEditorStateChange={this.handleEditComment}\r\n                                    />\r\n                                    </div>\r\n                                </DialogContent>\r\n                                <DialogActions>\r\n                                <Button onClick={this.handleCloseEditTabs} color=\"secondary\">\r\n                                    Annulla\r\n                                </Button>\r\n                                <Button onClick={this.edit} color=\"secondary\">\r\n                                    Salva\r\n                                </Button>\r\n                                </DialogActions>\r\n                            </Dialog>\r\n                            <div className=\"unauthorized\" hidden={!this.state.unauthorized}>\r\n                                <Alert severity=\"warning\">Non disponi delle autorizzazioni necessarie!</Alert>\r\n                            </div>\r\n                            <div className=\"error\" hidden={!this.state.errors}>\r\n                                <Alert severity=\"error\">Errore!</Alert>\r\n                            </div>\r\n                        </div>\r\n                    </CardActions>\r\n                </Card>\r\n                <br />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Comment;","import React, { Component } from 'react';\r\nimport { Editor } from 'react-draft-wysiwyg';\r\nimport { EditorState, convertToRaw, convertFromRaw } from 'draft-js';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport StarBorderRoundedIcon from '@material-ui/icons/StarBorderRounded';\r\nimport StarRoundedIcon from '@material-ui/icons/StarRounded';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport axios from 'axios';\r\nimport user from '../../services/User';\r\nimport Comment from './comment';\r\nimport './postDetail.css';\r\n\r\nclass PostDetail extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        const comment = EditorState.createEmpty();\r\n        this.state = {\r\n            loaded: false,\r\n            postNotFound: false,\r\n            post: {},\r\n            token: localStorage.getItem('t'),\r\n            isAuthenticated: '',\r\n            userID: '',\r\n            username: '',\r\n            avatar: '',\r\n            isConfirmed: '',\r\n            isAdmin: '',\r\n            isSuperUser: '',\r\n            isBanned: '',\r\n            comment,\r\n            emptyComment: false,\r\n            commented: false,\r\n            noResults: false,\r\n            unauthorized: false,\r\n            errors: false,\r\n            liked: false\r\n        };\r\n        this.formatData = this.formatData.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.like = this.like.bind(this);\r\n        this.handleCommentChange = this.handleCommentChange.bind(this);\r\n        this.save = this.save.bind(this);\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await fetch('http://localhost:4000/server/posts/' + this.props.match.params.urlTitle)\r\n        .then(response => response.json())\r\n        .then((data) => {\r\n            this.setState({post: data, loaded: true});\r\n        })\r\n        .catch(console.log);\r\n        if(this.state.post.noResults === true) {\r\n            this.setState({postNotFound: true});\r\n        }\r\n        else {\r\n            this.setState({content: convertFromRaw(JSON.parse(this.state.post.content))});\r\n        }\r\n        var auth, userID, username, avatar, isConfirmed, isAdmin, isSuperUser, isBanned;\r\n        var _user = new user(localStorage.getItem('t'));\r\n        await _user.isAuthenticated().then(function(result) {\r\n            auth = result.authorized;\r\n            userID = result.userID;\r\n            username = result.username;\r\n            avatar = result.avatar;\r\n            isConfirmed = result.isConfirmed;\r\n            isAdmin = result.isAdmin;\r\n            isSuperUser = result.isSuperUser;\r\n            isBanned = result.isBanned;\r\n\r\n        });\r\n        this.setState({\r\n            isAuthenticated: auth,\r\n            userID: userID,\r\n            username: username,\r\n            avatar: avatar,\r\n            isConfirmed: isConfirmed,\r\n            isAdmin: isAdmin,\r\n            isSuperUser: isSuperUser,\r\n            isBanned: isBanned\r\n        });\r\n        if(this.state.isAuthenticated === true) {\r\n            let liked = false;\r\n            await axios.post('http://localhost:4000/server/posts/' + this.props.match.params.urlTitle + '/verifyLike', {\r\n                userID: this.state.userID\r\n            })\r\n            .then(function(response) {\r\n                if(response.data.liked === true) {\r\n                    liked = true;\r\n                }\r\n            })\r\n            .catch(function(errors) {\r\n                console.log(errors);\r\n            });\r\n            this.setState({liked: liked});\r\n        }\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n    }\r\n\r\n    handleCommentChange(comment) {\r\n        this.setState({comment, emptyComment: false});\r\n    }\r\n\r\n    formatData(data) {\r\n        return data.substring(0,10).replace(/-/g, '/');\r\n    }\r\n\r\n    async like() {\r\n        if(this.state.liked === false && this.state.isAuthenticated === true) {\r\n            var liked = false;\r\n            var noResults = false;\r\n            var _errors = false;\r\n            await axios.post('http://localhost:4000/server/posts/' + this.state.post.urlTitle + '/like', {\r\n                userID: this.state.userID\r\n            })\r\n                .then(function(response) {\r\n                    if(response.data.liked) {\r\n                        liked = true;\r\n                    }\r\n                    else if(response.data.noResults) {\r\n                        noResults = true;\r\n                    }\r\n                })\r\n                .catch(function(errors) {\r\n                    console.log(errors);\r\n                    _errors = true;\r\n                });\r\n                this.setState({\r\n                    liked: liked,\r\n                    noResults: noResults,\r\n                    errors: _errors\r\n                });\r\n                window.location.reload();\r\n            }\r\n    }\r\n\r\n    async save() {\r\n        var comment = convertToRaw(this.state.comment.getCurrentContent())\r\n        if(comment.blocks[0].text === \"\") {\r\n            this.setState({emptyComment: true});\r\n        }\r\n        else {\r\n            var commented = false;\r\n            var noResults = false;\r\n            var unauthorized = false;\r\n            var _errors = false;\r\n            await axios.post('http://localhost:4000/server/posts/' + this.state.post.urlTitle + '/comment', {\r\n                token: this.state.token,\r\n                comment: JSON.stringify(convertToRaw(this.state.comment.getCurrentContent()))\r\n            })\r\n            .then(function(response) {\r\n                if(response.data.commented) {\r\n                    commented = true;\r\n                }\r\n                else if(response.data.noResults) {\r\n                    noResults = true;\r\n                }\r\n                else if(response.data.unauthorized) {\r\n                    unauthorized = true;\r\n                }\r\n            })\r\n            .catch(function(errors) {\r\n                console.log(errors);\r\n                _errors = true;\r\n            });\r\n            this.setState({\r\n                commented: commented,\r\n                noResults: noResults,\r\n                unauthorized: unauthorized,\r\n                errors: _errors\r\n            });\r\n            window.scrollTo(0, 5000);\r\n            if(commented === true) {\r\n                setTimeout(function() {window.location.reload()}, 2000);\r\n            }\r\n        }\r\n    }\r\n\r\n    showContent() {\r\n        if(this.state.loaded === false) {\r\n            return(\r\n                <div className=\"loading\" hidden={this.state.loaded}>\r\n                    <CircularProgress color=\"secondary\" />\r\n                    <br />\r\n                    <br />\r\n                </div>\r\n            );\r\n        }\r\n        else if(this.state.loaded === true && this.state.post.noResults === true) {\r\n            return(\r\n                <div className=\"error\" hidden={!this.state.errors}>\r\n                    <Alert severity=\"error\">Articolo non trovato</Alert>\r\n                </div>\r\n            );\r\n        }\r\n        else if(this.state.loaded === true && this.state.post.title !== \"\") {\r\n            const content = EditorState.createWithContent(convertFromRaw(JSON.parse(this.state.post.content)));\r\n            return(\r\n                <div>\r\n                    <Paper className=\"paper\" elevation={8} style={{padding: '10px', margin: 'auto', maxWidth: '1000px'}}>\r\n                        <Grid container spacing={1} className=\"username\" alignItems=\"flex-end\">\r\n                            <Grid item>\r\n                                <Typography variant=\"h4\" gutterBottom>\r\n                                    {this.state.post.title}\r\n                                </Typography>\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <Typography variant=\"h5\" gutterBottom>\r\n                                    {this.state.post.subtitle}\r\n                                </Typography>\r\n                            </Grid>\r\n                            <Grid item>\r\n                            <Typography variant=\"body1\" gutterBottom>\r\n                                    Pubblicato in data {this.state.post.data === undefined ? '' : this.formatData(this.state.post.data)}\r\n                                </Typography>\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <img src={this.state.post.image} alt=\"\" style={{maxHeight: '100%', maxWidth: '100%'}}></img>\r\n                            </Grid>\r\n                            <Grid item>\r\n                            <Editor\r\n                                editorState={content}\r\n                                readOnly={true}\r\n                                toolbarHidden={true}\r\n                            />\r\n                                \r\n                            </Grid>\r\n                            <Grid item>\r\n                            <FormControlLabel\r\n                                control={<Checkbox checked={this.state.liked} icon={<StarBorderRoundedIcon fontSize='large' />} checkedIcon={<StarRoundedIcon fontSize='large'/>} name=\"likes\" />}\r\n                                onClick={this.like}\r\n                                label={this.state.post.likes.length}\r\n                            />\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Paper>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    showComments() {\r\n        if(this.state.loaded === true) {\r\n            if(this.state.post.noResults !== true) {\r\n                if(this.state.post.comments.length === 0) {\r\n                    return(\r\n                        <div className=\"noResults\">\r\n                            <Alert severity=\"info\">Non ci sono commenti</Alert>\r\n                        </div>\r\n                        );\r\n                }\r\n                else {\r\n                    let listOfComment = [];\r\n                    for(let comment of this.state.post.comments) {\r\n                        listOfComment.push(<Comment\r\n                                                key={comment._id}\r\n                                                urlTitle={this.state.post.urlTitle}\r\n                                                token={this.state.token}\r\n                                                commentID={comment._id}\r\n                                                userID={comment.userID}\r\n                                                user={comment.user}\r\n                                                content={comment.content}\r\n                                                likes={comment.likes.length}\r\n                                                _username={this.state.username}\r\n                                                _userID={this.state.userID}\r\n                                                _isAdmin={this.state.isAdmin}\r\n                                                _isSuperUser={this.state.isSuperUser}\r\n                                                _isBanned={this.state.isBanned}\r\n                                            />)\r\n                    }\r\n                    return listOfComment;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    postComment() {\r\n        if(this.state.loaded === true) {\r\n            if(this.state.post.noResults !== true) {\r\n                if(this.state.isAuthenticated === false) {\r\n                    return(\r\n                        <div className=\"noAuth\">\r\n                            <Alert severity=\"warning\"><a href=\"/login\">Accedi</a> o <a href=\"/register\">registrati</a> per commentare</Alert>\r\n                        </div>\r\n                    );\r\n                }\r\n                else {\r\n                    return(\r\n                        <div className=\"auth\">\r\n                            <Paper className=\"paper\" elevation={8} style={{padding: '10px', margin: 'auto', maxWidth: '1000px'}}>\r\n                            <div hidden={!this.state.emptyComment}>\r\n                                    <Alert severity=\"error\">Il commento non può essere vuoto!</Alert>\r\n                            </div>\r\n                            <div className=\"newComment\">\r\n                                <Avatar alt=\"\" src={this.state.avatar} style={{width: 56, height:56, marginRight:8, marginTop: 32}}/>\r\n                                <div className=\"editor\" style={{width: '100%'}}>\r\n                                <Editor \r\n                                    toolbar={{options: ['emoji', 'link']}}\r\n                                    editorState={this.state.comment}\r\n                                    onEditorStateChange={this.handleCommentChange}\r\n                                />\r\n                                </div>\r\n                                    <Button \r\n                                        variant=\"contained\" \r\n                                        size='large' \r\n                                        className=\"SendButton\" \r\n                                        onClick={this.save}\r\n                                        onSubmit={this.handleSubmit}\r\n                                        disabled={this.state.commented}\r\n                                        >Invia\r\n                                    </Button>\r\n                                </div>\r\n                            </Paper>\r\n                        </div>\r\n                    );\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"postDetail\">\r\n                {this.showContent()}\r\n                <br />\r\n                {this.showComments()}\r\n                <div className=\"error\" hidden={!this.state.post.noResults}>\r\n                    <Alert severity=\"error\">Articolo non trovato</Alert>\r\n                </div>\r\n                <div className=\"success\" hidden={!this.state.commented}>\r\n                    <Alert severity=\"success\">Commento salvato</Alert>\r\n                </div>\r\n                <div className=\"unauthorized\" hidden={!this.state.unauthorized}>\r\n                    <Alert severity=\"warning\">Non disponi delle autorizzazioni necessarie!</Alert>\r\n                </div>\r\n                <div className=\"error\" hidden={!this.state.errors}>\r\n                    <Alert severity=\"error\">Errore!</Alert>\r\n                </div>\r\n                <div className=\"comments\">\r\n                    {this.postComment()}\r\n                </div>\r\n                \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PostDetail;","import React, { Component } from 'react';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\n\r\nclass Participant extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            user: {},\r\n            loaded: false,\r\n            userNotFound: false\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await fetch('http://localhost:4000/server/users/' + this.props.userID)\r\n            .then(response => response.json())\r\n            .then((data) => this.setState({user: data, loaded: true}))\r\n            .catch(console.log);\r\n            if(!this.state.user.username) {\r\n                this.setState({userNotFound: true})\r\n            }\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"participant\">\r\n                 <List style={{width: '100%', maxWidth: 360}}>\r\n                    <ListItem>\r\n                        <ListItemAvatar>\r\n                            <Avatar src={this.state.user.avatar} alt={this.props.username} />\r\n                        </ListItemAvatar>\r\n                        <ListItemText \r\n                            primary={this.state.user.username} \r\n                            secondary={this.state.user.name + ' ' + this.state.user.surname} \r\n                        />\r\n                    </ListItem>\r\n                </List>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Participant;","import React, { Component } from 'react';\r\nimport { Editor } from 'react-draft-wysiwyg';\r\nimport { EditorState, convertFromRaw } from 'draft-js';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button'\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport axios from 'axios';\r\nimport Participant from './participant';\r\nimport user from '../../services/User';\r\n\r\nclass EventDetail extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loaded: false,\r\n            eventNotFound: false,\r\n            event: {},\r\n            token: localStorage.getItem('t'),\r\n            isAuthenticated: '',\r\n            userID: '',\r\n            username: '',\r\n            avatar: '',\r\n            isConfirmed: '',\r\n            isAdmin: '',\r\n            isSuperUser: '',\r\n            isBanned: '',\r\n            participation: false,\r\n            noResults: false,\r\n            unauthorized: false,\r\n            errors: false,\r\n        };\r\n        this.formatData = this.formatData.bind(this);\r\n        this.participate = this.participate.bind(this);\r\n        this.participants = this.participants.bind(this);\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await fetch('http://localhost:4000/server/events/' + this.props.match.params.eventID)\r\n        .then(response => response.json())\r\n        .then((data) => this.setState({event: data, loaded: true}))\r\n        .catch(console.log);\r\n        if(!this.state.event.title) {\r\n            this.setState({eventNotFound: true});\r\n        }\r\n        var auth, userID, username, avatar, isConfirmed, isAdmin, isSuperUser, isBanned;\r\n        var _user = new user(localStorage.getItem('t'));\r\n        await _user.isAuthenticated().then(function(result) {\r\n            auth = result.authorized;\r\n            userID = result.userID;\r\n            username = result.username;\r\n            avatar = result.avatar;\r\n            isConfirmed = result.isConfirmed;\r\n            isAdmin = result.isAdmin;\r\n            isSuperUser = result.isSuperUser;\r\n            isBanned = result.isBanned;\r\n\r\n        });\r\n        this.setState({\r\n            isAuthenticated: auth,\r\n            userID: userID,\r\n            username: username,\r\n            avatar: avatar,\r\n            isConfirmed: isConfirmed,\r\n            isAdmin: isAdmin,\r\n            isSuperUser: isSuperUser,\r\n            isBanned: isBanned\r\n        });\r\n        if(this.state.isAuthenticated === true) {\r\n            let participation = false;\r\n            await axios.post('http://localhost:4000/server/events/' + this.props.match.params.eventID, {\r\n                token: this.state.token\r\n            })\r\n            .then(function(response) {\r\n                if(response.data.participation === true) {\r\n                    participation = true;\r\n                }\r\n            })\r\n            .catch(function(errors) {\r\n                console.log(errors);\r\n            });\r\n            this.setState({participation: participation});\r\n        }\r\n    }\r\n\r\n    formatData(data) {\r\n        return data.substring(0,10).replace(/-/g, '/')+ ' ' + data.substring(11,16);\r\n    }\r\n\r\n    async participate() {\r\n        if(this.state.participation === false && this.state.isAuthenticated === true) {\r\n            var participation = false;\r\n            var noResults = false;\r\n            var _errors = false;\r\n            await axios.post('http://localhost:4000/server/events/' + this.state.event._id + '/participate', {\r\n                token: this.state.token\r\n            })\r\n                .then(function(response) {\r\n                    if(response.data.participate) {\r\n                        participation = true;\r\n                    }\r\n                    else if(response.data.noResults) {\r\n                        noResults = true;\r\n                    }\r\n                })\r\n                .catch(function(errors) {\r\n                    console.log(errors);\r\n                    _errors = true;\r\n                });\r\n                this.setState({\r\n                    participation: participation,\r\n                    noResults: noResults,\r\n                    errors: _errors\r\n                });\r\n                window.location.reload();\r\n            }\r\n    }\r\n\r\n    participants() {\r\n        if(this.state.loaded === true) {\r\n            if(this.state.event.noResults !== true) {\r\n                if(this.state.event.participants.length === 0) {\r\n                    return(\r\n                        <div className=\"noResults\">\r\n                            <Alert severity=\"info\">Non ci sono partecipanti a questo evento.</Alert>\r\n                        </div>\r\n                        );\r\n                }\r\n                else {\r\n                    let listOfParticipants = [];\r\n                    for(let participant of this.state.event.participants) {\r\n                        listOfParticipants.push(<Participant\r\n                                                key={participant._id}\r\n                                                userID={participant._id}\r\n                                            />)\r\n                    }\r\n                    return listOfParticipants;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    showContent() {\r\n        if(this.state.loaded === false) {\r\n            return(\r\n                <div className=\"loading\" hidden={this.state.loaded}>\r\n                    <CircularProgress color=\"secondary\" />\r\n                    <br />\r\n                    <br />\r\n                </div>\r\n            );\r\n        }\r\n        else if(this.state.loaded === true) {\r\n            const content = EditorState.createWithContent(convertFromRaw(JSON.parse(this.state.event.content)));\r\n            return(\r\n                <div>\r\n                    <Paper className=\"paper\" elevation={8} style={{padding: '10px', margin: 'auto', maxWidth: '1000px'}}>\r\n                    <Grid container spacing={1} className=\"username\" alignItems=\"flex-end\">\r\n                        <Grid item>\r\n                            <Typography variant=\"h4\" gutterBottom>\r\n                                {this.state.event.title}\r\n                            </Typography>\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <Typography variant=\"h6\" gutterBottom>\r\n                                {this.state.event.data === undefined ? '' : this.formatData(this.state.event.data)}\r\n                            </Typography>\r\n                            <Typography variant=\"body1\" gutterBottom>\r\n                                {this.state.event.location}\r\n                            </Typography>\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <img src={this.state.event.image} alt=\"\" style={{maxWidth: '90%'}}></img>\r\n                        </Grid>\r\n                        <Grid item>\r\n                            \r\n                        </Grid>\r\n                        <Grid item>\r\n                            <Editor\r\n                                editorState={content}\r\n                                readOnly={true}\r\n                                toolbarHidden={true}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <div hidden={this.state.participation} onClick={this.participate}>\r\n                                <Button variant=\"contained\" color=\"secondary\" style={{marginBottom: 15, marginTop: 15}}>\r\n                                    Partecipa\r\n                                </Button>\r\n                            </div>\r\n                            <Typography variant=\"body2\" gutterBottom>\r\n                                Partecipanti: {this.state.event.participants.length}\r\n                            </Typography>\r\n                            <div>\r\n                                {this.participants()}\r\n                            </div>\r\n                            <br />\r\n                        </Grid>\r\n                        <Grid item>\r\n                        <div className=\"success\" hidden={!this.state.participation}>\r\n                            <Alert severity=\"success\">Parteciperai a questo evento!</Alert>\r\n                        </div>\r\n                        <div className=\"unauthorized\" hidden={!this.state.unauthorized}>\r\n                            <Alert severity=\"warning\">Non disponi delle autorizzazioni necessarie!</Alert>\r\n                        </div>\r\n                        <div className=\"error\" hidden={!this.state.errors}>\r\n                            <Alert severity=\"error\">Errore!</Alert>\r\n                        </div>\r\n                        </Grid>\r\n                    </Grid>\r\n                    </Paper>\r\n                    <br />\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"eventDetail\" style={{padding: '8px'}}>\r\n                {this.showContent()}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default EventDetail;","import React, { Component } from 'react';\r\nimport { Button } from '@material-ui/core';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport axios from 'axios';\r\n\r\nclass Option extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            voted: false,\r\n            noResults: false,\r\n            unauthorized:false,\r\n            errors: false\r\n        }\r\n        this.vote = this.vote.bind(this);\r\n    }\r\n\r\n    async vote() {\r\n        if(this.props.voted === false && this.props.username !== \"\") {\r\n            var voted = false;\r\n            var unauthorized = false;\r\n            var noResults = false;\r\n            var _errors = false;\r\n            await axios.post('http://localhost:4000/server/polls/' + this.props.pollID + '/vote', {\r\n                token: this.props.token,\r\n                optionID: this.props.id\r\n            })\r\n                .then(function(response) {\r\n                    if(response.data.voted) {\r\n                        voted = true;\r\n                    }\r\n                    else if(response.data.noResults) {\r\n                        noResults = true;\r\n                    }\r\n                    else if(response.data.unauthorized) {\r\n                        unauthorized = true;\r\n                    }\r\n                })\r\n                .catch(function(errors) {\r\n                    console.log(errors);\r\n                    _errors = true;\r\n                });\r\n                this.setState({\r\n                    voted: voted,\r\n                    noResults: noResults,\r\n                    unauthorized: unauthorized,\r\n                    errors: _errors\r\n                });\r\n                window.location.reload();\r\n            }\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"option\" style={{padding: '10px'}}>\r\n                            <div hidden={!this.props.voted} style={{textAlign: 'left'}}>\r\n                                {this.props.content.toUpperCase()} <span style={{marginLeft: '10px', color: 'gray'}}>{'\\t ' + this.props.votesPercentile.toFixed(2) + ' %'}</span>\r\n                                <LinearProgress color=\"secondary\" variant=\"determinate\" value={this.props.votesPercentile} style={{marginTop: '8px', backgroundColor: '#ffeaf1'}} />\r\n                            </div>\r\n                            <div hidden={this.props.voted} style={{alignSelf: 'rigth'}}>\r\n                                <Button \r\n                                        variant=\"contained\" \r\n                                        size='large' \r\n                                        className=\"SendButton\" \r\n                                        onClick={this.vote}\r\n                                        disabled={this.props.voted || !this.props.isActive || !this.props.isConfirmed}\r\n                                        style={{height: '50px', width: '200px'}}\r\n                                        >{this.props.content}\r\n                                </Button>\r\n                            </div>\r\n                            <div className=\"noResults\" hidden={!this.state.unauthorized}>\r\n                                <Alert severity=\"warning\"><a href=\"/profile\">Conferma il tuo account</a> per votare</Alert>\r\n                            </div>\r\n            </div>\r\n        );\r\n    };\r\n}\r\n\r\nexport default Option;","import React, { Component } from 'react';\r\nimport { Editor } from 'react-draft-wysiwyg';\r\nimport { EditorState, convertFromRaw } from 'draft-js';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport axios from 'axios';\r\nimport Option from './option';\r\nimport user from '../../services/User';\r\n\r\nclass PollDetail extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loaded: false,\r\n            pollNotFound: false,\r\n            poll: {},\r\n            token: localStorage.getItem('t'),\r\n            isAuthenticated: '',\r\n            userID: '',\r\n            username: '',\r\n            avatar: '',\r\n            isConfirmed: '',\r\n            isAdmin: '',\r\n            isSuperUser: '',\r\n            isBanned: '',\r\n            alreadyVoted: null,\r\n            noResults: false,\r\n            unauthorized: false,\r\n            errors: false,\r\n        };\r\n        this.getPollState = this.getPollState.bind(this);\r\n        this.showOptions = this.showOptions.bind(this);\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await fetch('http://localhost:4000/server/polls/' + this.props.match.params.pollID)\r\n        .then(response => response.json())\r\n        .then((data) => this.setState({poll: data, loaded: true}))\r\n        .catch(console.log);\r\n        if(!this.state.poll.title) {\r\n            this.setState({pollNotFound: true});\r\n        }\r\n        var auth, userID, username, avatar, isConfirmed, isAdmin, isSuperUser, isBanned;\r\n        var _user = new user(localStorage.getItem('t'));\r\n        await _user.isAuthenticated().then(function(result) {\r\n            auth = result.authorized;\r\n            userID = result.userID;\r\n            username = result.username;\r\n            avatar = result.avatar;\r\n            isConfirmed = result.isConfirmed;\r\n            isAdmin = result.isAdmin;\r\n            isSuperUser = result.isSuperUser;\r\n            isBanned = result.isBanned;\r\n\r\n        });\r\n        this.setState({\r\n            isAuthenticated: auth,\r\n            userID: userID,\r\n            username: username,\r\n            avatar: avatar,\r\n            isConfirmed: isConfirmed,\r\n            isAdmin: isAdmin,\r\n            isSuperUser: isSuperUser,\r\n            isBanned: isBanned\r\n        });\r\n        if(this.state.isAuthenticated === true) {\r\n            let alreadyVoted = false;\r\n            await axios.post('http://localhost:4000/server/polls/' + this.props.match.params.pollID, {\r\n                token: this.state.token\r\n            })\r\n            .then(function(response) {\r\n                if(response.data.alreadyVoted === true) {\r\n                    alreadyVoted = true;\r\n                }\r\n            })\r\n            .catch(function(errors) {\r\n                console.log(errors);\r\n            });\r\n            this.setState({alreadyVoted: alreadyVoted});\r\n        }\r\n    }\r\n\r\n    getPollState() {\r\n        if(this.state.poll.isActive === true) {\r\n            return (<span style={{color: 'green'}}>Attivo</span>);\r\n        }\r\n        else {\r\n            return (<span style={{color: 'red'}}>Non attivo</span>);\r\n        }\r\n    }\r\n\r\n    showOptions() {\r\n        if(this.state.loaded === true) {\r\n            if(this.state.poll.options.length === 0) {\r\n                return(\r\n                    <div className=\"noResults\">\r\n                        <Alert severity=\"info\">Non ci sono opzioni</Alert>\r\n                    </div>\r\n                    );\r\n            }\r\n            else {\r\n                let totalVotes = 0\r\n                for(let option of this.state.poll.options) {\r\n                    totalVotes = totalVotes + option.votes;\r\n                }\r\n                let listOfOptions = [];\r\n                for(let option of this.state.poll.options) {\r\n                    listOfOptions.push(<Option\r\n                                            key={option.id}\r\n                                            pollID={this.state.poll._id}\r\n                                            id={option.id}\r\n                                            content={option.name}\r\n                                            votesPercentile={(option.votes*100)/totalVotes}\r\n                                            voted={this.state.alreadyVoted}\r\n                                            isActive={this.state.poll.isActive}\r\n                                            username={this.state.username}\r\n                                            token={this.state.token}\r\n                                            userID={this.state.userID}\r\n                                            isAdmin={this.state.isAdmin}\r\n                                            isSuperUser={this.state.isSuperUser}\r\n                                            isConfirmed={this.state.isConfirmed}\r\n                                            isBanned={this.state.isBanned}\r\n                                        />)\r\n                }\r\n                return listOfOptions;\r\n            }\r\n        }\r\n    }\r\n\r\n    showContent() {\r\n        if(this.state.loaded === false) {\r\n            return(\r\n                <div className=\"loading\" hidden={this.state.loaded}>\r\n                    <CircularProgress color=\"secondary\" />\r\n                    <br />\r\n                    <br />\r\n                </div>\r\n            );\r\n        }\r\n        else if(this.state.loaded === true) {\r\n            const content = EditorState.createWithContent(convertFromRaw(JSON.parse(this.state.poll.content)));\r\n            return(\r\n                <div>\r\n                    <Paper className=\"paper\" elevation={8} style={{padding: '10px', margin: 'auto', maxWidth: '1000px'}}>\r\n                    <Grid container spacing={1} className=\"username\" alignItems=\"flex-end\">\r\n                        <Grid item>\r\n                            <Typography variant=\"h4\" gutterBottom>\r\n                                {this.state.poll.title}\r\n                            </Typography>\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <Typography variant=\"h6\" gutterBottom>\r\n                                Stato: {this.getPollState()}\r\n                            </Typography>\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <Editor\r\n                                editorState={content}\r\n                                readOnly={true}\r\n                                toolbarHidden={true}\r\n                            />\r\n                        </Grid>\r\n                        <br />\r\n                        <Grid item>\r\n                            <div hidden={this.state.alreadyVoted}>\r\n                                <Typography variant=\"body2\" gutterBottom>\r\n                                    VOTA\r\n                                </Typography>\r\n                            </div>\r\n                            <div hidden={!this.state.alreadyVoted}>\r\n                                <Typography variant=\"body2\" gutterBottom>\r\n                                    RISULTATI <span hidden={!this.state.poll.isActive}> PARZIALI</span>\r\n                                </Typography>\r\n                            </div>\r\n                            <div hidden={this.state.poll.isActive} style={{marginBottom: '8px'}}>\r\n                                <Alert severity=\"warning\">Questo sondaggio non è attivo!</Alert>\r\n                            </div>\r\n                            <div hidden={this.state.isAuthenticated} style={{marginBottom: '8px'}}>\r\n                                <Alert severity=\"warning\"><a href=\"/login\">Accedi</a> o <a href=\"/register\">registrati</a> per votare questo sondaggio! </Alert>\r\n                            </div>\r\n                        </Grid>\r\n                        <Grid item style={{textAlign: 'center'}}>\r\n                            {this.showOptions()}\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <div className=\"success\" hidden={!this.state.alreadyVoted}>\r\n                                <Alert severity=\"success\">Hai già votato in questo sondaggio!</Alert>\r\n                            </div>\r\n                            <div hidden={!this.state.isAuthenticated}>\r\n                                <div className=\"notConfirmed\" hidden={this.state.isConfirmed}>\r\n                                    <Alert severity=\"warning\"><a href=\"/profile\">Conferma il tuo account</a> per votare!</Alert>\r\n                                </div>\r\n                            </div>\r\n                        </Grid>\r\n                    </Grid>\r\n                    </Paper>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"pollDetail\" style={{padding: '8px'}}>\r\n                {this.showContent()}\r\n                <div className=\"unauthorized\" hidden={!this.state.unauthorized}>\r\n                    <Alert severity=\"warning\">Non disponi delle autorizzazioni necessarie!</Alert>\r\n                </div>\r\n                <div className=\"error\" hidden={!this.state.errors}>\r\n                    <Alert severity=\"error\">Errore!</Alert>\r\n                </div>\r\n                \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PollDetail;","import React, { Component } from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport user from '../../services/User';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nclass protectedRoutes extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            token: localStorage.getItem('t'),\r\n            isAuthenticated: '',\r\n            userID: '',\r\n            username: '',\r\n            avatar: '',\r\n            isConfirmed: '',\r\n            isAdmin: '',\r\n            isSuperUser: '',\r\n            isBanned: ''\r\n        };\r\n    }\r\n    \r\n    async componentDidMount() {\r\n        var auth, userID, username, avatar, isConfirmed, isAdmin, isSuperUser, isBanned;\r\n        var _user = new user(localStorage.getItem('t'));\r\n        await _user.isAuthenticated().then(function(result) {\r\n            auth = result.authorized;\r\n            userID = result.userID;\r\n            username = result.username;\r\n            avatar = result.avatar;\r\n            isConfirmed = result.isConfirmed;\r\n            isAdmin = result.isAdmin;\r\n            isSuperUser = result.isSuperUser;\r\n            isBanned = result.isBanned;\r\n\r\n        });\r\n        this.setState({\r\n            isAuthenticated: auth,\r\n            userID: userID,\r\n            username: username,\r\n            avatar: avatar,\r\n            isConfirmed: isConfirmed,\r\n            isAdmin: isAdmin,\r\n            isSuperUser: isSuperUser,\r\n            isBanned: isBanned\r\n        });\r\n        //this.forceUpdate();\r\n    }\r\n    render() {\r\n        const { component: Component, ...props } = this.props;\r\n        if(this.state.isAuthenticated === true) {\r\n            return(<Route {...props} render={props => <Component {...props} userID={this.state.userID}\r\n                                                                            token={this.state.token}\r\n                                                                            username={this.state.username}\r\n                                                                            isConfirmed={this.state.isConfirmed}\r\n                                                                            isAdmin={this.state.isAdmin}\r\n                                                                            isSuperUser={this.state.isSuperUser}\r\n                                                                            isBanned={this.state.isBanned}/>} />);\r\n        }\r\n        else if(this.state.isAuthenticated === false) {\r\n            return (<Redirect to=\"/login\" />);\r\n        }\r\n        else {\r\n            return(\r\n                <div>\r\n                    <CircularProgress color=\"secondary\" />\r\n                </div>\r\n            );\r\n        }\r\n        \r\n    }\r\n}\r\n\r\nexport default protectedRoutes;","import React, { Component } from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport user from '../../services/User';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nclass protectedAdminRoutes extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            token: localStorage.getItem('t'),\r\n            isAuthenticated: '',\r\n            userID: '',\r\n            username: '',\r\n            avatar: '',\r\n            isConfirmed: '',\r\n            isAdmin: '',\r\n            isSuperUser: '',\r\n            isBanned: ''\r\n        };\r\n    }\r\n    \r\n    async componentDidMount() {\r\n        var auth, userID, username, avatar, isConfirmed, isAdmin, isSuperUser, isBanned;\r\n        var _user = new user(localStorage.getItem('t'));\r\n        await _user.isAuthenticated().then(function(result) {\r\n            auth = result.authorized;\r\n            userID = result.userID;\r\n            username = result.username;\r\n            avatar = result.avatar;\r\n            isConfirmed = result.isConfirmed;\r\n            isAdmin = result.isAdmin;\r\n            isSuperUser = result.isSuperUser;\r\n            isBanned = result.isBanned;\r\n\r\n        });\r\n        this.setState({\r\n            isAuthenticated: auth,\r\n            userID: userID,\r\n            username: username,\r\n            avatar: avatar,\r\n            isConfirmed: isConfirmed,\r\n            isAdmin: isAdmin,\r\n            isSuperUser: isSuperUser,\r\n            isBanned: isBanned\r\n        });\r\n        //this.forceUpdate();\r\n    }\r\n    render() {\r\n        const { component: Component, ...props } = this.props;\r\n        if((this.state.isAdmin === true || this.state.isSuperUser === true) && this.state.isBanned === false) {\r\n            return(<Route {...props} render={props => <Component {...props} userID={this.state.userID}\r\n                                                                            username={this.state.username}\r\n                                                                            avatar={this.state.avatar}\r\n                                                                            token={this.state.token}\r\n                                                                            isConfirmed={this.state.isConfirmed}\r\n                                                                            isAdmin={this.state.isAdmin}\r\n                                                                            isSuperUser={this.state.isSuperUser}\r\n                                                                            isBanned={this.state.isBanned}/>} />);\r\n        }\r\n        else if(this.state.isAdmin === false || this.state.isBanned === true) {\r\n            return (<Redirect to=\"/profile\" />);\r\n        }\r\n        else if(this.state.isAuthenticated === false) {\r\n            return(<Redirect to=\"/login\" />)\r\n        }\r\n        else {\r\n            return(\r\n                <div>\r\n                    <CircularProgress color=\"secondary\" />\r\n                </div>\r\n            );\r\n        }\r\n        \r\n    }\r\n}\r\n\r\nexport default protectedAdminRoutes;","import React, { Component } from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport user from '../../services/User';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nclass protectedAdminRoutes extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            token: localStorage.getItem('t'),\r\n            isAuthenticated: '',\r\n            userID: '',\r\n            username: '',\r\n            avatar: '',\r\n            isConfirmed: '',\r\n            isAdmin: '',\r\n            isSuperUser: '',\r\n            isBanned: ''\r\n        };\r\n    }\r\n    \r\n    async componentDidMount() {\r\n        var auth, userID, username, avatar, isConfirmed, isAdmin, isSuperUser, isBanned;\r\n        var _user = new user(localStorage.getItem('t'));\r\n        await _user.isAuthenticated().then(function(result) {\r\n            auth = result.authorized;\r\n            userID = result.userID;\r\n            username = result.username;\r\n            avatar = result.avatar;\r\n            isConfirmed = result.isConfirmed;\r\n            isAdmin = result.isAdmin;\r\n            isSuperUser = result.isSuperUser;\r\n            isBanned = result.isBanned;\r\n\r\n        });\r\n        this.setState({\r\n            isAuthenticated: auth,\r\n            userID: userID,\r\n            username: username,\r\n            avatar: avatar,\r\n            isConfirmed: isConfirmed,\r\n            isAdmin: isAdmin,\r\n            isSuperUser: isSuperUser,\r\n            isBanned: isBanned\r\n        });\r\n        //this.forceUpdate();\r\n    }\r\n    \r\n    render() {\r\n        const { component: Component, ...props } = this.props;\r\n        if(this.state.isSuperUser === true && this.state.isBanned === false) {\r\n            return(<Route {...props} render={props => <Component {...props} userID={this.state.userID}\r\n                                                                            username={this.state.username}\r\n                                                                            avatar={this.state.avatar}\r\n                                                                            isConfirmed={this.state.isConfirmed}\r\n                                                                            isAdmin={this.state.isAdmin}\r\n                                                                            isSuperUser={this.state.isSuperUser}\r\n                                                                            isBanned={this.state.isBanned}/>} />);\r\n        }\r\n        else if(this.state.isSuperUser === false || this.state.isBanned === true) {\r\n            return (<Redirect to=\"/profile\" />);\r\n        }\r\n        else if(this.state.isAuthenticated === false) {\r\n            return(<Redirect to=\"/login\" />)\r\n        }\r\n        else {\r\n            return(\r\n                <div>\r\n                    <CircularProgress color=\"secondary\" />\r\n                </div>\r\n            );\r\n        }\r\n        \r\n    }\r\n}\r\n\r\nexport default protectedAdminRoutes;","import React, { Component } from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { Button } from '@material-ui/core';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport PhotoCamera from '@material-ui/icons/PhotoCamera';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport BlockIcon from '@material-ui/icons/Block';\r\nimport EmailRoundedIcon from '@material-ui/icons/EmailRounded';\r\nimport EditRoundedIcon from '@material-ui/icons/EditRounded';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport axios from 'axios';\r\nimport './profile.css';\r\n\r\nclass Profile extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            emailSended: false,\r\n            editProfile: false,\r\n            avatar: null,\r\n            file: null,\r\n            noFileSelected: false,\r\n            uploading: false,\r\n            updated: false,\r\n            oldPassword: '',\r\n            newPassword1: '',\r\n            newPassword2: '',\r\n            name: '',\r\n            surname: '',\r\n            dateOfBirth: '',\r\n            email: '',\r\n            registrationDate: '',\r\n            oldPasswordError: false,\r\n            passwordTooShort: false,\r\n            passwordsDoesntMatch: false,\r\n            saved: false,\r\n            sended: false,\r\n            errors: false,\r\n            unauthorized: false,\r\n            noResults: false\r\n        }\r\n        this.sendEmail = this.sendEmail.bind(this);\r\n        this.showEditSection = this.showEditSection.bind(this);\r\n        this.hideEditSection = this.hideEditSection.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleAvatarChange = this.handleAvatarChange.bind(this);\r\n        this.handleOldPasswordChange = this.handleOldPasswordChange.bind(this);\r\n        this.handlePassword1Change = this.handlePassword1Change.bind(this);\r\n        this.handlePassword2Change = this.handlePassword2Change.bind(this);\r\n        this.save = this.save.bind(this);\r\n        this.goToAdminPanel = this.goToAdminPanel.bind(this);\r\n        this.goToSuperUserPanel = this.goToSuperUserPanel.bind(this);\r\n        this.logout = this.logout.bind(this);\r\n    }\r\n\r\n    async componentDidMount() {\r\n        var avatar, name, surname;\r\n        await axios.post('http://localhost:4000/server/users/' + this.props.userID, {\r\n            token: this.props.token\r\n        })\r\n        .then(function(response) {\r\n            avatar = response.data.avatar;\r\n            name = response.data.name;\r\n            surname = response.data.surname;\r\n        })\r\n        .catch(function(errors) {\r\n            console.log(errors);\r\n        });\r\n        this.setState({\r\n            avatar: avatar,\r\n            name: name,\r\n            surname: surname\r\n        });\r\n    }\r\n\r\n    async sendEmail() {\r\n        var sended = false;\r\n        var noResults = false;\r\n        var unauthorized = false;\r\n        var _errors = false;\r\n        await axios.post('http://localhost:4000/server/users/resend', {\r\n            token: this.props.token\r\n        })\r\n        .then(function(response) {\r\n            if(response.data.sended) {\r\n                sended = true;\r\n            }\r\n            else if(response.data.noResults) {\r\n                noResults = true;\r\n            }\r\n            else if(response.data.unauthorized) {\r\n                unauthorized = true;\r\n            }\r\n        })\r\n        .catch(function(errors) {\r\n            console.log(errors);\r\n            _errors = true;\r\n        });\r\n        this.setState({\r\n            sended: sended,\r\n            noResults: noResults,\r\n            unauthorized: unauthorized,\r\n            errors: _errors\r\n        });\r\n            window.scrollTo(0, 5000);\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n    }\r\n\r\n    handleAvatarChange() {\r\n        this.setState({uploading: true});\r\n        const userID = this.props.userID;\r\n        const token = this.props.token;\r\n        const files = document.getElementById('avatar').files;\r\n        const file = files[0];\r\n        if(file == null) {\r\n            this.setState({noFileSelected: true})\r\n        }\r\n        const xhr = new XMLHttpRequest();\r\n        xhr.open('GET', 'http://localhost:4000/server/sign-s3?file-name=' + this.props.userID + '&file-type=' + file.type);\r\n        xhr.onreadystatechange = () => {\r\n            if(xhr.readyState === 4) {\r\n                if(xhr.status === 200) {\r\n                    const response = JSON.parse(xhr.responseText);\r\n                    const xhr2 = new XMLHttpRequest();\r\n                    var update = new Promise(function(avatarURL, userID) {\r\n                        xhr2.open('PUT', response.returnData.url);\r\n                        xhr2.onreadystatechange = () => {\r\n                            if(xhr2.readyState === 4) {\r\n                                if(xhr2.status === 200) {\r\n                                    //this.setState({avatar: response.returnData.url});\r\n                                }\r\n                                else {\r\n                                    //this.setState({errors: true});\r\n                                }\r\n                            }\r\n                        }\r\n                        xhr2.send(file);\r\n                        avatarURL(response.returnData.url);\r\n                    });\r\n                    update.then(async function(avatarURL) {\r\n                        var updated = false;\r\n                        var _errors = false;\r\n                        axios.put('http://localhost:4000/server/users/' + userID + '/upload', {\r\n                            token: token,\r\n                            avatar: avatarURL\r\n                        })\r\n                        .then(function(response) {\r\n                            console.log(response)\r\n                            if(response.data.updated) {\r\n                                updated = true;\r\n                                window.location.reload();\r\n                            }\r\n                        })\r\n                        .catch(function(errors) {\r\n                            console.log(errors);\r\n                            _errors = true;\r\n                        });\r\n                       /* this.setState({\r\n                            updated: updated,\r\n                            errors: _errors\r\n                        });*/\r\n                        \r\n                    });\r\n                }\r\n                else {\r\n                    console.log('Errore!');\r\n                }\r\n            }\r\n        }\r\n        xhr.send();\r\n        this.setState({uploading: false})\r\n    }\r\n\r\n    handleOldPasswordChange(event) {\r\n        this.setState({oldPassword: event.target.value, oldPasswordError: false});\r\n    }\r\n\r\n    handlePassword1Change(event) {\r\n        this.setState({newPassword1: event.target.value});\r\n        if(event.target.value !== this.state.newPassword2) {\r\n            this.setState({passwordsDoesntMatch: true});\r\n        }\r\n        else if(event.target.value === this.state.newPassword2){\r\n            this.setState({passwordsDoesntMatch: false});\r\n        }\r\n        if(this.state.newPassword1.length < 7) {\r\n            this.setState({passwordTooShort: true});\r\n        }\r\n        else if(this.state.newPassword1.length >= 7){\r\n            this.setState({passwordTooShort: false});\r\n        }\r\n        this.forceUpdate();\r\n    }\r\n\r\n    handlePassword2Change(event) {\r\n        this.setState({newPassword2: event.target.value});\r\n        if(this.state.newPassword1 !== event.target.value) {\r\n            this.setState({passwordsDoesntMatch: true});\r\n        }\r\n        else if(this.state.newPassword1 === event.target.value){\r\n            this.setState({passwordsDoesntMatch: false});\r\n        }\r\n        if(this.state.newPassword1.length < 7) {\r\n            this.setState({passwordTooShort: true});\r\n        }\r\n        else if(this.state.newPassword1.length >= 7){\r\n            this.setState({passwordTooShort: false});\r\n        }\r\n        this.forceUpdate();\r\n    }\r\n\r\n\r\n   async showEditSection() {\r\n        this.setState({editProfile: true});\r\n        var unauthorized = false;\r\n        var noResults = false;\r\n        var _errors = false;\r\n        var password, name, surname, dateOfBirth, registrationDate, email;\r\n        await axios.post('http://localhost:4000/server/users/' + this.props.userID, {\r\n            token: this.props.token\r\n        })\r\n        .then(function(response) {\r\n            if(response.data.unauthorized) {\r\n                unauthorized = true;\r\n            }\r\n            else if(response.data.noResults) {\r\n                noResults = true;\r\n            }\r\n            else if(response.data.email != null) {\r\n                name = response.data.name;\r\n                surname = response.data.surname;\r\n                dateOfBirth = response.data.dateOfBirth;\r\n                registrationDate = response.data.registrationDate;\r\n                email = response.data.email;\r\n            }\r\n        })\r\n        .catch(function(errors) {\r\n            console.log(errors);\r\n            _errors = true;\r\n        });\r\n            this.setState({\r\n                unauthorized: unauthorized,\r\n                noResults: noResults,\r\n                errors: _errors,\r\n                oldPassword: password,\r\n                name: name,\r\n                surname: surname,\r\n                dateOfBirth: dateOfBirth.substring(0,10).replace(/-/g, '/'),\r\n                registrationDate: registrationDate.substring(0,10).replace(/-/g, '/'),\r\n                email: email\r\n            });\r\n    }\r\n\r\n    hideEditSection() {\r\n        this.setState({editProfile: false})\r\n    }\r\n\r\n    async save() {\r\n        if(this.state.oldPasswordError === false && this.state.oldPassword !== null &&\r\n            this.state.passwordTooShort === false && this.state.newPassword1 !== null &&\r\n            this.state.passwordsDoesntMatch === false && this.state.newPassword2 !== null) {\r\n                var noResults = false;\r\n                var wrongPassword = false;\r\n                var unauthorized = false;\r\n                var edited = false;\r\n                var _errors = false;\r\n                await axios.put('http://localhost:4000/server/users/' + this.props.userID, {\r\n                    token: this.props.token,\r\n                    oldPassword: this.state.oldPassword,\r\n                    newPassword: this.state.newPassword1,\r\n                    name: this.state.name,\r\n                    surname: this.state.surname,\r\n                    dateOfBirth: this.state.dateOfBirth\r\n                })\r\n                .then(function(response) {\r\n                    if(response.data.userNotFound) {\r\n                        noResults = true;\r\n                    }\r\n                    else if(response.data.wrongPassword) {\r\n                        wrongPassword = true;\r\n                    }\r\n                    else if(response.data.unauthorized) {\r\n                        unauthorized = true;\r\n                    }\r\n                    else if(response.data.edited) {\r\n                        edited = true;\r\n                    }\r\n                })\r\n                .catch(function(errors) {\r\n                    console.log(errors);\r\n                    _errors = true;\r\n                });\r\n                this.setState({\r\n                    noResults: noResults,\r\n                    oldPasswordError: wrongPassword,\r\n                    unauthorized: unauthorized,\r\n                    errors: _errors,\r\n                    saved: edited\r\n                });\r\n                if(edited === true) {\r\n                    window.scrollTo(0, 5000);\r\n                    setTimeout(function() {window.location.reload()}, 2000);\r\n                }\r\n            }\r\n    }\r\n\r\n    goToAdminPanel() {\r\n        window.location.replace('/admin');\r\n    }\r\n\r\n    goToSuperUserPanel() {\r\n        window.location.replace('/superUser')\r\n    }\r\n\r\n    logout() {\r\n        window.location.replace('/login');\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"profile\">\r\n                <Grid container spacing={1}>\r\n                    <Grid item xs={1} sm container>\r\n                        <Grid item xs container spacing={1}>\r\n                            <Grid item xs container justify=\"flex-start\" spacing={1} style={{textAlign: '-webkit-center'}}>\r\n                                <Grid item>\r\n                                    <Avatar alt=\"\" src={this.state.avatar} style={{width: 200, height: 200}} />\r\n                                </Grid>\r\n                                <Grid item>\r\n                                    <div hidden={this.state.uploading}>\r\n                                    <input accept=\"image/jpeg\" className=\"input\" id=\"avatar\" type=\"file\" onChange={this.handleAvatarChange} />\r\n                                        <label htmlFor=\"avatar\" className=\"photoIcon\">\r\n                                            <IconButton color=\"primary\" aria-label=\"upload picture\" component=\"span\">\r\n                                                <PhotoCamera color=\"secondary\" fontSize=\"large\" /> \r\n                                            </IconButton>\r\n                                        </label>\r\n                                    </div>\r\n                                        <div className=\"loading\" hidden={!this.state.uploading}>\r\n                                            <CircularProgress color=\"secondary\" />\r\n                                        </div>\r\n                                        <div hidden={!this.state.noFileSelected}>\r\n                                            <Alert variant=\"filled\" severity=\"warning\" closeText='close'>\r\n                                                Nessun file caricato!\r\n                                            </Alert>\r\n                                        </div>\r\n                                </Grid>\r\n                            </Grid>\r\n                            <Grid item xs>\r\n                                <Typography gutterBottom variant=\"subtitle1\">\r\n                                    {this.state.name === undefined ? '' : this.state.name+' '+this.state.surname}\r\n                                </Typography>\r\n\r\n                                <div className=\"chips\" hidden={this.props.isBanned} style={{display: 'block'}}>\r\n                                    <div className=\"verified\" hidden={!this.props.isConfirmed}>\r\n                                        <Chip size=\"small\" icon={<CheckIcon style={{color: '#ffffff'}}/>} label=\"Verificato\" style={{backgroundColor: '#449c43', color: '#ffffff'}}/>\r\n                                    </div>\r\n                                    <div className=\"notVerified\" hidden={this.props.isConfirmed}>\r\n                                        <Chip size=\"small\" icon={<ClearIcon style={{color: '#ffffff'}}/>} label=\"Da verificare\" style={{backgroundColor: '#ef2d2d', color: '#ffffff'}}/> <br />\r\n                                        <Button\r\n                                            variant=\"contained\"\r\n                                            color=\"secondary\"\r\n                                            className=\"button\"\r\n                                            startIcon={<EmailRoundedIcon />}\r\n                                            onClick={this.sendEmail}\r\n                                        >\r\n                                            INVIA NUOVAMENTE EMAIL\r\n                                        </Button>\r\n                                    </div>\r\n                                    <div className=\"verified\" hidden={!this.props.isSuperUser}>\r\n                                        <Chip size=\"small\" icon={<CheckIcon style={{color: '#ffffff'}}/>} label=\"Super User\" style={{backgroundColor: '#2196f3', color: '#ffffff'}}/>\r\n                                    </div>\r\n                                    <div className=\"verified\" hidden={!this.props.isAdmin}>\r\n                                        <Chip size=\"small\" icon={<CheckIcon style={{color: '#ffffff'}}/>} label=\"Admin\" style={{backgroundColor: '#fcb02d', color: '#ffffff'}}/>\r\n                                    </div>\r\n                                </div>\r\n                                <div hidden={!this.props.isBanned}>\r\n                                    <Chip icon={<BlockIcon style={{color: '#ffffff'}}/>} label=\"ACCOUNT BLOCCATO\" style={{backgroundColor: '#ef2d2d', color: '#ffffff', marginTop: '3px'}}/>\r\n                                </div>\r\n                                <div hidden={this.state.editProfile}>\r\n                                    <Button\r\n                                            variant=\"contained\"\r\n                                            color=\"secondary\"\r\n                                            className=\"button\"\r\n                                            startIcon={<EditRoundedIcon />}\r\n                                            disabled={this.props.isBanned}\r\n                                            onClick={this.showEditSection}\r\n                                    >\r\n                                            MODIFICA PROFILO\r\n                                    </Button>\r\n                                </div>\r\n                                <div hidden={!(this.props.isAdmin || this.props.isSuperUser)}>\r\n                                    <div hidden={this.state.editProfile}>\r\n                                        <Button\r\n                                                variant=\"contained\"\r\n                                                color=\"secondary\"\r\n                                                className=\"button\"\r\n                                                startIcon={<SettingsIcon />}\r\n                                                onClick={this.goToAdminPanel}\r\n                                        >\r\n                                                PANNELLO ADMIN\r\n                                        </Button>\r\n                                    </div>\r\n                                </div>\r\n                                <div hidden={this.state.editProfile}>\r\n                                    <Button\r\n                                            variant=\"contained\"\r\n                                            style={{backgroundColor: '#1c1e21', color: '#ffffff'}}\r\n                                            className=\"button\"\r\n                                            startIcon={<ExitToAppIcon />}\r\n                                            onClick={this.logout}\r\n                                    >\r\n                                            LOGOUT\r\n                                    </Button>\r\n                                </div>\r\n                                <div className=\"editSection\" hidden={!this.state.editProfile}>\r\n                                    <form className=\"fields\" onSubmit={this.handleSubmit}>\r\n                                        <Grid container spacing={1} className=\"username\" alignItems=\"flex-end\">\r\n                                            <Grid item>\r\n                                                <TextField\r\n                                                    className=\"field\"\r\n                                                    id=\"oldPassword\"\r\n                                                    type=\"password\"\r\n                                                    label=\"Vecchia password\"\r\n                                                    required={true}\r\n                                                    onChange={this.handleOldPasswordChange}\r\n                                                    error={this.state.oldPasswordError} \r\n                                                    FormHelperTextProps={{hidden: !this.state.oldPasswordError}} \r\n                                                    helperText='Password errata!'\r\n                                                    variant=\"standard\"\r\n                                                    disabled={this.state.saved}\r\n                                                />\r\n                                            </Grid>\r\n                                            <Grid item>\r\n                                                <TextField\r\n                                                    className=\"field\"\r\n                                                    id=\"password1\"\r\n                                                    type=\"password\"\r\n                                                    label=\"Password\"\r\n                                                    required={true}\r\n                                                    error={this.state.passwordTooShort}\r\n                                                    helperText='Lunghezza minima 8 caratteri!'\r\n                                                    FormHelperTextProps={{hidden: !this.state.passwordTooShort}}\r\n                                                    onChange={this.handlePassword1Change}\r\n                                                    defaultValue=\"\"\r\n                                                    variant=\"standard\"\r\n                                                    disabled={this.state.saved}\r\n                                                />\r\n                                            </Grid>\r\n                                            <Grid item>\r\n                                                <TextField\r\n                                                    className=\"field\"\r\n                                                    id=\"password2\"\r\n                                                    type=\"password\"\r\n                                                    label=\"Ripeti password\"\r\n                                                    required={true}\r\n                                                    error={this.state.passwordsDoesntMatch}\r\n                                                    helperText='Le password non corrispondono!'\r\n                                                    FormHelperTextProps={{hidden: !this.state.passwordsDoesntMatch}}\r\n                                                    onChange={this.handlePassword2Change}\r\n                                                    defaultValue=\"\"\r\n                                                    variant=\"standard\"\r\n                                                    disabled={this.state.saved}\r\n                                                />\r\n                                            </Grid>\r\n                                            <Grid item>\r\n                                                <TextField\r\n                                                    className=\"field\"\r\n                                                    id=\"name\"\r\n                                                    label=\"Nome\"\r\n                                                    required={true}\r\n                                                    disabled={true}\r\n                                                    value={this.state.name}\r\n                                                    variant=\"standard\"\r\n                                                />\r\n                                            </Grid>\r\n                                            <Grid item>\r\n                                                <TextField\r\n                                                    className=\"field\"\r\n                                                    id=\"surname\"\r\n                                                    label=\"Cognome\"\r\n                                                    required={true}\r\n                                                    disabled={true}\r\n                                                    value={this.state.surname}\r\n                                                    variant=\"standard\"\r\n                                                />\r\n                                            </Grid>\r\n                                            <Grid item>\r\n                                                <TextField\r\n                                                    className=\"field\"\r\n                                                    id=\"email\"\r\n                                                    label=\"Email\"\r\n                                                    required={true}\r\n                                                    disabled={true}\r\n                                                    value={this.state.email}\r\n                                                    variant=\"standard\"\r\n                                                />\r\n                                            </Grid>\r\n                                            <Grid item>\r\n                                                <TextField\r\n                                                    className=\"field\"\r\n                                                    id=\"dateOfBirth\"\r\n                                                    label=\"Data di nascita\"\r\n                                                    required={true}\r\n                                                    disabled={true}\r\n                                                    value={this.state.dateOfBirth === undefined ? '' : this.state.dateOfBirth}\r\n                                                    variant=\"standard\"\r\n                                                />\r\n                                            </Grid>\r\n                                            <Grid item>\r\n                                                <TextField\r\n                                                    className=\"field\"\r\n                                                    id=\"registrationDate\"\r\n                                                    label=\"Data registrazione\"\r\n                                                    required={true}\r\n                                                    disabled={true}\r\n                                                    value={this.state.registrationDate === undefined ? '' : this.state.registrationDate}\r\n                                                    variant=\"standard\"\r\n                                                />\r\n                                            </Grid>\r\n                                            <Grid item>\r\n                                                <Button \r\n                                                    variant=\"contained\" \r\n                                                    size='large' \r\n                                                    className=\"SendButton\" \r\n                                                    onClick={this.hideEditSection}\r\n                                                    disabled={this.state.saved}\r\n                                                    >Annulla\r\n                                                </Button>\r\n                                                <Button \r\n                                                    variant=\"contained\" \r\n                                                    size='large' \r\n                                                    className=\"SendButton\" \r\n                                                    onClick={this.save}\r\n                                                    disabled={this.state.saved}\r\n                                                    >Salva\r\n                                                </Button>\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                    </form>\r\n                                </div>  \r\n                            </Grid>\r\n                            <Grid item>\r\n                            <div hidden={!this.state.sended}>\r\n                                <Alert variant=\"filled\" severity=\"success\" closeText='close'>\r\n                                    Email inviata! Clicca il link allegato entro un'ora per confermare l'account!\r\n                                </Alert>     \r\n                            </div>   \r\n                            <div hidden={!this.state.errors}>\r\n                                <Alert variant=\"filled\" severity=\"error\" closeText='close'>\r\n                                    Errore!\r\n                                </Alert>\r\n                            </div>\r\n                            <div hidden={!this.state.noResults}>\r\n                                <Alert variant=\"filled\" severity=\"warning\" closeText='close'>\r\n                                    Utente non trovato!\r\n                                </Alert>\r\n                            </div>\r\n                            <div hidden={!this.state.unauthorized}>\r\n                                <Alert variant=\"filled\" severity=\"warning\" closeText='close'>\r\n                                    Non disponi delle autorizzazioni necessarie!\r\n                                </Alert>\r\n                            </div>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Profile;","import React, { Component } from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { Button } from '@material-ui/core';\r\nimport TabIcon from '@material-ui/icons/Tab';\r\nimport DescriptionIcon from '@material-ui/icons/Description';\r\nimport TodayIcon from '@material-ui/icons/Today';\r\nimport PollIcon from '@material-ui/icons/Poll';\r\nimport PeopleAltRoundedIcon from '@material-ui/icons/PeopleAltRounded';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport './adminPanel.css'\r\n\r\nclass AdminPanel extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.homepageTabs = this.homepageTabs.bind(this);\r\n        this.newPost = this.newPost.bind(this);\r\n        this.newEvent = this.newEvent.bind(this);\r\n        this.newPoll = this.newPoll.bind(this);\r\n        this.allPosts = this.allPosts.bind(this);\r\n        this.allEvents = this.allEvents.bind(this);\r\n        this.allPolls = this.allPolls.bind(this);\r\n        this.usersList = this.usersList.bind(this);\r\n        this.goBack = this.goBack.bind(this);\r\n    }\r\n\r\n    homepageTabs() {\r\n        window.location.replace('/admin/homepageTabs');\r\n    }\r\n\r\n    newPost() {\r\n        window.location.replace('/admin/newPost');\r\n    }\r\n\r\n    newEvent() {\r\n        window.location.replace('/admin/newEvent');\r\n    }\r\n\r\n    newPoll() {\r\n        window.location.replace('/admin/newPoll');\r\n    }\r\n\r\n    allPosts() {\r\n        window.location.replace('/admin/allPosts?page=1');\r\n    }\r\n\r\n    allEvents() {\r\n        window.location.replace('/admin/allEvents?page=1');\r\n    }\r\n\r\n    allPolls() {\r\n        window.location.replace('/admin/allPolls?page=1');\r\n    }\r\n\r\n    usersList() {\r\n        window.location.replace('/admin/usersList');\r\n    }\r\n\r\n    goBack() {\r\n        window.location.replace('/profile');\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"adminPanel\">\r\n                <Grid container spacing={1} className=\"username\" alignItems=\"flex-end\">\r\n                    <Grid item>\r\n                        <Typography variant=\"h6\">PANNELLO ADMIN</Typography> \r\n                    </Grid>\r\n                    <Grid item>\r\n                            <Button \r\n                                variant=\"contained\" \r\n                                size='large' \r\n                                color='secondary'\r\n                                className=\"adminButton\" \r\n                                startIcon={<TabIcon />}\r\n                                disabled={!this.props.isSuperUser}\r\n                                onClick={this.homepageTabs}\r\n                                >TABS HOMEPAGE\r\n                            </Button>\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <Button \r\n                                variant=\"contained\" \r\n                                size='large' \r\n                                color='secondary'\r\n                                className=\"adminButton\" \r\n                                startIcon={<DescriptionIcon />}\r\n                                disabled={!this.props.isAdmin}\r\n                                onClick={this.newPost}\r\n                                >Nuovo comunicato\r\n                            </Button>\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <Button \r\n                                variant=\"contained\" \r\n                                size='large' \r\n                                color='secondary'\r\n                                className=\"adminButton\" \r\n                                startIcon={<TodayIcon />}\r\n                                disabled={!this.props.isAdmin}\r\n                                onClick={this.newEvent}\r\n                                >Nuovo evento\r\n                            </Button>\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <Button \r\n                                variant=\"contained\" \r\n                                size='large' \r\n                                color='secondary'\r\n                                className=\"adminButton\" \r\n                                startIcon={<PollIcon />}\r\n                                disabled={!this.props.isAdmin}\r\n                                onClick={this.newPoll}\r\n                                >Nuovo sondaggio\r\n                            </Button>\r\n                        </Grid>\r\n                    <Grid item>\r\n                        <Button \r\n                            variant=\"contained\" \r\n                            size='large' \r\n                            color='secondary'\r\n                            className=\"adminButton\" \r\n                            startIcon={<DescriptionIcon />}\r\n                            onClick={this.allPosts}\r\n                            >Tutti i comunicati\r\n                        </Button>\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <Button \r\n                            variant=\"contained\" \r\n                            size='large' \r\n                            color='secondary'\r\n                            className=\"adminButton\" \r\n                            startIcon={<TodayIcon />}\r\n                            onClick={this.allEvents}\r\n                            >Tutti gli eventi\r\n                        </Button>\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <Button \r\n                            variant=\"contained\" \r\n                            size='large' \r\n                            color='secondary'\r\n                            className=\"adminButton\" \r\n                            startIcon={<PollIcon />}\r\n                            onClick={this.allPolls}\r\n                            >Tutti i sondaggi\r\n                        </Button>\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <Button \r\n                            variant=\"contained\" \r\n                            size='large' \r\n                            color='secondary'\r\n                            className=\"adminButton\" \r\n                            startIcon={<PeopleAltRoundedIcon />}\r\n                            onClick={this.usersList}\r\n                            >Lista utenti\r\n                        </Button>\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <Button \r\n                            variant=\"contained\" \r\n                            size='large' \r\n                            style={{backgroundColor: '#1c1e21', color: '#ffffff'}}\r\n                            className=\"adminButton\" \r\n                            startIcon={<ArrowBackIcon />}\r\n                            onClick={this.goBack}\r\n                            >INDIETRO\r\n                        </Button>\r\n                    </Grid>\r\n                </Grid>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AdminPanel;","import React, { Component } from 'react';\r\nimport { Editor } from 'react-draft-wysiwyg';\r\nimport { EditorState, convertToRaw, convertFromRaw } from 'draft-js';\r\nimport '../../../node_modules/react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport axios from 'axios';\r\n\r\nclass SingleTab extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        const title = this.props.title;\r\n        const contentEdited = EditorState.createWithContent(convertFromRaw(JSON.parse(this.props.content)));\r\n        this.state = {\r\n            title,\r\n            contentEdited,\r\n            edit: false,\r\n            edited: false,\r\n            unauthorized: false,\r\n            noResults: false,\r\n            deleted: false,\r\n            errors: false\r\n        }\r\n        this.handleTitleChange = this.handleTitleChange.bind(this);\r\n        this.handleContentChange = this.handleContentChange.bind(this);\r\n        this.handleOpenEditTabs = this.handleOpenEditTabs.bind(this);\r\n        this.handleCloseEditTabs = this.handleCloseEditTabs.bind(this);\r\n        this.edit = this.edit.bind(this);\r\n        this.delete = this.delete.bind(this);\r\n    }\r\n\r\n    handleOpenEditTabs() {\r\n        this.setState({edit: true});\r\n    }\r\n\r\n    handleCloseEditTabs() {\r\n        this.setState({edit: false});\r\n    }\r\n\r\n    handleContentChange(contentEdited) {\r\n        this.setState({contentEdited});\r\n    }\r\n\r\n    handleTitleChange(event) {\r\n        this.setState({title: event.target.value});\r\n    }\r\n\r\n    async edit() {\r\n        var edited = false;\r\n        var unauthorized = false;\r\n        var noResults = false;\r\n        var _errors = false;\r\n        await axios.put('http://localhost:4000/server/homepageTabs/' + this.props.tabID, {\r\n            token: this.props.token,\r\n            title: this.state.title,\r\n            content: JSON.stringify(convertToRaw(this.state.contentEdited.getCurrentContent()))\r\n        })\r\n        .then(function(response) {\r\n            if(response.data.edited) {\r\n                edited = true;\r\n            }\r\n            else if(response.data.noResults) {\r\n                noResults = true;\r\n            }\r\n            else if(response.data.unauthorized) {\r\n                unauthorized = true;\r\n            }\r\n        })\r\n        .catch(function(errors) {\r\n            console.log(errors);\r\n            _errors = true;\r\n        });\r\n        this.setState({\r\n            edited: edited,\r\n            noResults: noResults,\r\n            unauthorized: unauthorized,\r\n            errors: _errors\r\n        });\r\n        if(edited === true) {\r\n            window.location.reload()\r\n        }\r\n    }\r\n\r\n    async delete() {\r\n        var unauthorized = false;\r\n        var noResults = false;\r\n        var deleted = false;\r\n        var _errors = false;\r\n        if(this.props.isSuperUser === true) {\r\n            await axios.patch('http://localhost:4000/server/homepageTabs/' + this.props.tabID, {\r\n                token: this.props.token\r\n            })\r\n            .then(function(response) {\r\n                if(response.data.deleted) {\r\n                    deleted = true;\r\n                }\r\n                else if(response.data.unauthorized) {\r\n                    unauthorized = true;\r\n                }\r\n                else if(response.data.noResults) {\r\n                    noResults = true;\r\n                }\r\n            })\r\n            .catch(function(errors) {\r\n                console.log(errors);\r\n                _errors = true;\r\n            });\r\n            this.setState({\r\n                unauthorized: unauthorized,\r\n                deleted: deleted,\r\n                noResults: noResults,\r\n                errors: _errors\r\n            });\r\n            if(deleted === true) {\r\n                window.location.reload();\r\n            }\r\n        }\r\n        else {\r\n            this.setState({unauthorized: true});\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"singleTab\">\r\n                <br />\r\n                <Card style={{padding: '10px', margin: 'auto', maxWidth: '400px'}}>\r\n                    <CardContent>\r\n                        <Typography color=\"textSecondary\" gutterBottom>\r\n                            {this.props.title}\r\n                        </Typography>\r\n                        \r\n                    </CardContent>\r\n                    <CardActions>\r\n                        <Button size=\"small\" onClick={this.handleOpenEditTabs}>MODIFICA</Button>\r\n                        <Button size=\"small\" onClick={this.delete}>ELIMINA</Button>\r\n                    </CardActions>\r\n                    <Dialog open={this.state.edit} onClose={this.handleCloseEditTabs} fullWidth aria-labelledby=\"form-dialog-title\" style={{maxHeight: '90%'}}>\r\n                                <DialogTitle id=\"form-dialog-title\">Modifica</DialogTitle>\r\n                                <DialogContent>\r\n                                    <div style={{marginBottom: '80px'}}>\r\n                                    <TextField\r\n                                        className=\"field\"\r\n                                        id=\"title\"\r\n                                        label=\"Titolo\"\r\n                                        required={true}\r\n                                        disabled={this.state.edited}\r\n                                        onChange={this.handleTitleChange}\r\n                                        defaultValue={this.state.title}\r\n                                        variant=\"standard\"\r\n                                    />\r\n                                    <Editor \r\n                                        editorState={this.state.contentEdited}\r\n                                        onEditorStateChange={this.handleContentChange}\r\n                                    />\r\n                                    </div>\r\n                                </DialogContent>\r\n                                <DialogActions>\r\n                                <Button onClick={this.handleCloseEditTabs} color=\"secondary\">\r\n                                    Annulla\r\n                                </Button>\r\n                                <Button onClick={this.edit} color=\"secondary\">\r\n                                    Salva\r\n                                </Button>\r\n                                </DialogActions>\r\n                                <div className=\"unauthorized\" hidden={!this.state.edited}>\r\n                                    <Alert severity=\"success\">Contenuto salvato con successo!</Alert>\r\n                                </div>\r\n                                <div className=\"unauthorized\" hidden={!this.state.unauthorized}>\r\n                                    <Alert severity=\"warning\">Non disponi delle autorizzazioni necessarie!</Alert>\r\n                                </div>\r\n                                <div className=\"error\" hidden={!this.state.errors}>\r\n                                    <Alert severity=\"error\">Errore!</Alert>\r\n                                </div>\r\n                            </Dialog>\r\n                    </Card>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SingleTab;","import React, { Component } from 'react';\r\nimport { Editor } from 'react-draft-wysiwyg';\r\nimport { EditorState, convertToRaw, convertFromRaw } from 'draft-js';\r\nimport '../../../node_modules/react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport SingleTab from './singleTab';\r\nimport axios from 'axios';\r\n\r\nclass HomepageTabs extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        const newTabContent = EditorState.createEmpty();\r\n        this.state = {\r\n            tabs: [],\r\n            newTabTitle: '',\r\n            newTabContent,\r\n            loaded: false,\r\n            addTab: false,\r\n            saved: false,\r\n            unauthorized: false,\r\n            tabAlreadyExist: false,\r\n            errors: false\r\n        }\r\n        this.loading = this.loading.bind(this);\r\n        this.showTabs = this.showTabs.bind(this);\r\n        this.handleOpenAddTab = this.handleOpenAddTab.bind(this);\r\n        this.handleCloseAddTab = this.handleCloseAddTab.bind(this);\r\n        this.handleTitleChange = this.handleTitleChange.bind(this);\r\n        this.handleContentChange = this.handleContentChange.bind(this);\r\n        this.addTab = this.addTab.bind(this);\r\n    }\r\n\r\n    handleOpenAddTab() {\r\n        this.setState({addTab: true});\r\n    }\r\n\r\n    handleCloseAddTab() {\r\n        this.setState({addTab: false});\r\n    }\r\n\r\n    handleTitleChange(event) {\r\n        this.setState({title: event.target.value});\r\n    }\r\n\r\n    handleContentChange(newTabContent) {\r\n        this.setState({newTabContent});\r\n    }\r\n\r\n    async addTab() {\r\n        var saved = false;\r\n        var unauthorized = false;\r\n        var tabAlreadyExist = false;\r\n        var _errors = false;\r\n        await axios.post('http://localhost:4000/server/homepageTabs/addTab', {\r\n            token: this.props.token,\r\n            title: this.state.title,\r\n            content: JSON.stringify(convertToRaw(this.state.newTabContent.getCurrentContent()))\r\n        })\r\n        .then(function(response) {\r\n            if(response.data.saved) {\r\n                saved = true;\r\n            }\r\n            else if(response.data.tabAlreadyExist) {\r\n                tabAlreadyExist = true;\r\n            }\r\n            else if(response.data.unauthorized) {\r\n                unauthorized = true;\r\n            }\r\n        })\r\n        .catch(function(errors) {\r\n            console.log(errors);\r\n            _errors = true;\r\n        });\r\n        this.setState({\r\n            saved: saved,\r\n            tabAlreadyExist: tabAlreadyExist,\r\n            unauthorized: unauthorized,\r\n            errors: _errors\r\n        });\r\n        if(saved === true) {\r\n            setTimeout(function() {window.location.replace('/admin/homepageTabs')}, 2000);\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await fetch('http://localhost:4000/server/homepageTabs')\r\n        .then(response => response.json())\r\n        .then((data) => this.setState({tabs: data, loaded: true}))\r\n        .catch(console.log);\r\n    }\r\n\r\n    loading() {\r\n        return(\r\n            <div className=\"loading\" hidden={this.state.loaded}>\r\n                <br />\r\n                <br />\r\n                <CircularProgress color=\"secondary\" />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    showTabs() {\r\n        if(this.state.tabs.length === 0 && this.state.loaded === true) {\r\n            return(\r\n                <div className=\"noResults\">\r\n                    <Alert severity=\"warning\">Non ci sono tabs</Alert>\r\n                </div>\r\n            );\r\n        }\r\n        else {\r\n            let listOfTabs = [];\r\n            for(let tab of this.state.tabs) {\r\n                listOfTabs.push(<SingleTab\r\n                                    key={tab._id}\r\n                                    tabID={tab._id}\r\n                                    title={tab.title}\r\n                                    content={tab.content}\r\n                                    token={this.props.token}\r\n                                    isSuperUser={this.props.isSuperUser}\r\n                                />);\r\n            }\r\n            return listOfTabs;\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"homepageTabs\">\r\n                {this.loading()}\r\n                {this.showTabs()}\r\n                <br />\r\n                <Fab color=\"secondary\" elevation={8} aria-label=\"add\" onClick={this.handleOpenAddTab}>\r\n                    <AddIcon />\r\n                </Fab>\r\n                <Dialog open={this.state.addTab} onClose={this.handleCloseAddTab} fullWidth aria-labelledby=\"form-dialog-title\" style={{maxHeight: '90%'}}>\r\n                    <DialogTitle id=\"form-dialog-title\">Crea nuova tab</DialogTitle>\r\n                    <DialogContent>\r\n                        <div style={{marginBottom: '80px'}}>\r\n                        <TextField\r\n                            className=\"field\"\r\n                            id=\"title\"\r\n                            label=\"Titolo\"\r\n                            required={true}\r\n                            disabled={this.state.edited}\r\n                            onChange={this.handleTitleChange}\r\n                            variant=\"standard\"\r\n                        />\r\n                        <Editor \r\n                            editorState={this.state.newTabContent}\r\n                            onEditorStateChange={this.handleContentChange}\r\n                        />\r\n                        </div>\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                    <Button onClick={this.handleCloseAddTab} color=\"secondary\">\r\n                        Annulla\r\n                    </Button>\r\n                    <Button onClick={this.addTab} color=\"secondary\">\r\n                        Salva\r\n                    </Button>\r\n                    </DialogActions>\r\n                    <div className=\"unauthorized\" hidden={!this.state.saved}>\r\n                        <Alert severity=\"success\">Tab aggiunta con successo!</Alert>\r\n                    </div>\r\n                    <div className=\"unauthorized\" hidden={!this.state.unauthorized}>\r\n                        <Alert severity=\"warning\">Non disponi delle autorizzazioni necessarie!</Alert>\r\n                    </div>\r\n                    <div className=\"tabAlreadyExist\" hidden={!this.state.tabAlreadyExist}>\r\n                        <Alert severity=\"warning\">Esiste già una tab con questo nome!</Alert>\r\n                    </div>\r\n                    <div className=\"error\" hidden={!this.state.errors}>\r\n                        <Alert severity=\"error\">Errore!</Alert>\r\n                    </div>\r\n                </Dialog>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default HomepageTabs;","import React, { Component } from 'react';\r\nimport { Editor } from 'react-draft-wysiwyg';\r\nimport { EditorState, convertToRaw } from 'draft-js';\r\nimport '../../../node_modules/react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport PhotoCamera from '@material-ui/icons/PhotoCamera';\r\nimport { Button } from '@material-ui/core';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport axios from 'axios';\r\nimport './admin.css';\r\n\r\nclass NewPost extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        const content = EditorState.createEmpty();\r\n        this.state = {\r\n            title: '',\r\n            subtitle: '',\r\n            image: 'https://m5spiombino.s3.amazonaws.com/default.jpg',\r\n            uploading: false,\r\n            content,\r\n            id: '',\r\n            saved: false,\r\n            postAlreadyExist: false,\r\n            unauthorized: false,\r\n            errors: false\r\n        }\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleTitleChange = this.handleTitleChange.bind(this);\r\n        this.handleSubtitleChange = this.handleSubtitleChange.bind(this);\r\n        this.handleImageChange = this.handleImageChange.bind(this);\r\n        this.handleContentChange = this.handleContentChange.bind(this);\r\n        this.save = this.save.bind(this);\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n    }\r\n\r\n    handleTitleChange(event) {\r\n        this.setState({title: event.target.value});\r\n    }\r\n\r\n    handleSubtitleChange(event) {\r\n        this.setState({subtitle: event.target.value})\r\n    }\r\n\r\n    handleImageChange() {\r\n        this.setState({uploading: true});\r\n        const files = document.getElementById('image').files;\r\n        const file = files[0];\r\n        if(file == null) {\r\n            this.setState({noFileSelected: true})\r\n        }\r\n        const xhr = new XMLHttpRequest();\r\n        xhr.open('GET', 'http://localhost:4000/server/sign-s3?file-name=' + file.name + '&file-type=' + file.type);\r\n        xhr.onreadystatechange = () => {\r\n            if(xhr.readyState === 4) {\r\n                if(xhr.status === 200) {\r\n                    const response = JSON.parse(xhr.responseText);\r\n                    const xhr2 = new XMLHttpRequest();\r\n                    var update = new Promise(function(imageURL, userID) {\r\n                        xhr2.open('PUT', response.returnData.url);\r\n                        xhr2.onreadystatechange = () => {\r\n                            if(xhr2.readyState === 4) {\r\n                                if(xhr2.status === 200) {\r\n                                    _imageURL = response.returnData.url;\r\n                                    //this.setState({avatar: response.returnData.url});\r\n                                }\r\n                                else {\r\n                                    //this.setState({errors: true});\r\n                                }\r\n                            }\r\n                        }\r\n                        xhr2.send(file);\r\n                        imageURL(response.returnData.url);\r\n                    });\r\n                    var _imageURL;\r\n                    update.then((imageURL) => this.setState({image: imageURL}));\r\n                }\r\n                else {\r\n                    console.log('Errore!');\r\n                }\r\n            }\r\n        }\r\n        xhr.send();\r\n    }\r\n\r\n    handleContentChange(content) {\r\n        this.setState({\r\n          content,\r\n        });\r\n      };\r\n\r\n    async save() {\r\n        if(this.state.title !== \"\") {\r\n            var saved = false;\r\n            var unauthorized = false;\r\n            var postAlreadyExist = false;\r\n            var _errors = false;\r\n            await axios.post('http://localhost:4000/server/posts/newPost', {\r\n                token: this.props.token,\r\n                id: this.state.id,\r\n                title: this.state.title,\r\n                subtitle: this.state.subtitle,\r\n                image: this.state.image,\r\n                content: JSON.stringify(convertToRaw(this.state.content.getCurrentContent()))\r\n            })\r\n            .then(function(response) {\r\n                if(response.data.created) {\r\n                    saved = true;\r\n                }\r\n                else if(response.data.postAlreadyExist) {\r\n                    postAlreadyExist = true;\r\n                }\r\n                else if(response.data.unauthorized) {\r\n                    unauthorized = true;\r\n                }\r\n            })\r\n            .catch(function(errors) {\r\n                console.log(errors);\r\n                _errors = true;\r\n            });\r\n            this.setState({\r\n                saved: saved,\r\n                unauthorized: unauthorized,\r\n                postAlreadyExist: postAlreadyExist,\r\n                errors: _errors\r\n            });\r\n            window.scrollTo(0,5000);\r\n            if(saved === true) {\r\n                setTimeout(function() {window.location.replace('/admin/allPosts?page=1')}, 2000);\r\n            }\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await fetch('http://localhost:4000/server/posts/numberOfPosts')\r\n        .then(response => response.json())\r\n        .then((data) => this.setState({id: data.totalPosts}))\r\n        .catch(console.log);\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"newPost\">\r\n                <form className=\"fields\" onSubmit={this.handleSubmit}>\r\n                <Paper className=\"paper\" elevation={8} style={{padding: '10px', margin: 'auto', maxWidth: '1000px'}}>\r\n                        <Grid container spacing={1} className=\"newPost\" alignItems=\"flex-end\">\r\n                            <Grid item>\r\n                                <TextField\r\n                                    className=\"field\"\r\n                                    id=\"title\"\r\n                                    label=\"Titolo\"\r\n                                    required={true}\r\n                                    disabled={this.state.saved}\r\n                                    error={this.state.postAlreadyExist}\r\n                                    helperText='Esiste già un comunicato con lo stesso nome!'\r\n                                    FormHelperTextProps={{hidden: !this.state.postAlreadyExist}}\r\n                                    onChange={this.handleTitleChange}\r\n                                    fullWidth\r\n                                    defaultValue=\"\"\r\n                                    variant=\"standard\"\r\n                                />\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <TextField\r\n                                    className=\"field\"\r\n                                    id=\"subtitle\"\r\n                                    label=\"Sottotitolo\"\r\n                                    required={true}\r\n                                    disabled={this.state.saved}\r\n                                    onChange={this.handleSubtitleChange}\r\n                                    fullWidth\r\n                                    defaultValue=\"\"\r\n                                    variant=\"standard\"\r\n                                />\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <TextField\r\n                                    className=\"field\"\r\n                                    id=\"author\"\r\n                                    label=\"Autore\"\r\n                                    required={true}\r\n                                    disabled={true}\r\n                                    defaultValue={this.props.username}\r\n                                    variant=\"standard\"\r\n                                />\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <img src={this.state.image} alt=\"\" style={{maxWidth: '90%'}}v/>\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <input accept=\"image/jpeg\" className=\"input\" id=\"image\" type=\"file\" onChange={this.handleImageChange} />\r\n                                    <label htmlFor=\"image\" className=\"photoIcon\">\r\n                                        <IconButton color=\"primary\" aria-label=\"upload picture\" component=\"span\">\r\n                                            <PhotoCamera fontSize=\"large\" /> \r\n                                        </IconButton>\r\n                                    </label>\r\n                            </Grid>\r\n                            <Grid item>\r\n                            <div className=\"editor\">\r\n                                <Editor \r\n                                    editorState={this.state.content}\r\n                                    onEditorStateChange={this.handleContentChange}\r\n                                />\r\n                            </div>\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <Button \r\n                                    variant=\"contained\" \r\n                                    size='large' \r\n                                    className=\"SendButton\" \r\n                                    onClick={this.save}\r\n                                    disabled={this.state.saved}\r\n                                    >Salva\r\n                                </Button>\r\n                            </Grid>\r\n                            <Grid item>\r\n                            <div hidden={!this.state.errors}>\r\n                                <Alert variant=\"filled\" severity=\"error\" closeText='close'>\r\n                                    Errore!\r\n                                </Alert>\r\n                            </div>\r\n                            <div hidden={!this.state.postAlreadyExist}>\r\n                                <Alert variant=\"filled\" severity=\"warning\" closeText='close'>\r\n                                    Esiste già un comunicato con lo stesso nome!\r\n                                </Alert>\r\n                            </div>\r\n                            <div hidden={!this.state.saved}>\r\n                                <Alert variant=\"filled\" severity=\"success\" closeText='close'>\r\n                                    Comunicato pubblicato correttamente!\r\n                                </Alert>\r\n                            </div>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Paper>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default NewPost;","import React, { Component } from 'react';\r\nimport { Editor } from 'react-draft-wysiwyg';\r\nimport { EditorState, convertToRaw } from 'draft-js';\r\nimport '../../../node_modules/react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport PhotoCamera from '@material-ui/icons/PhotoCamera';\r\nimport { Button } from '@material-ui/core';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport axios from 'axios';\r\n\r\nclass NewEvent extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        const content = EditorState.createEmpty();\r\n        this.state = {\r\n            id: '',\r\n            title: '',\r\n            image: 'https://m5spiombino.s3.amazonaws.com/default.jpg',\r\n            content,\r\n            data: '',\r\n            location: '',\r\n            pastDate: false,\r\n            saved: false,\r\n            eventAlreadyExist: false,\r\n            unauthorized: false,\r\n            errors: false\r\n        };\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleTitleChange = this.handleTitleChange.bind(this);\r\n        this.handleImageChange = this.handleImageChange.bind(this);\r\n        this.handleContentChange = this.handleContentChange.bind(this);\r\n        this.handleDataChange = this.handleDataChange.bind(this);\r\n        this.handleLocationChange = this.handleLocationChange.bind(this);\r\n        this.defaultDate = this.defaultDate.bind(this);\r\n        this.save = this.save.bind(this);\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n    }\r\n\r\n    handleTitleChange(event) {\r\n        this.setState({title: event.target.value});\r\n    }\r\n\r\n    handleImageChange() {\r\n        this.setState({uploading: true});\r\n        const files = document.getElementById('image').files;\r\n        const file = files[0];\r\n        if(file == null) {\r\n            this.setState({noFileSelected: true})\r\n        }\r\n        const xhr = new XMLHttpRequest();\r\n        xhr.open('GET', 'http://localhost:4000/server/sign-s3?file-name=' + file.name + '&file-type=' + file.type);\r\n        xhr.onreadystatechange = () => {\r\n            if(xhr.readyState === 4) {\r\n                if(xhr.status === 200) {\r\n                    const response = JSON.parse(xhr.responseText);\r\n                    const xhr2 = new XMLHttpRequest();\r\n                    var update = new Promise(function(imageURL, userID) {\r\n                        xhr2.open('PUT', response.returnData.url);\r\n                        xhr2.onreadystatechange = () => {\r\n                            if(xhr2.readyState === 4) {\r\n                                if(xhr2.status === 200) {\r\n                                    _imageURL = response.returnData.url;\r\n                                    //this.setState({avatar: response.returnData.url});\r\n                                }\r\n                                else {\r\n                                    //this.setState({errors: true});\r\n                                }\r\n                            }\r\n                        }\r\n                        xhr2.send(file);\r\n                        imageURL(response.returnData.url);\r\n                    });\r\n                    var _imageURL;\r\n                    update.then((imageURL) => this.setState({image: imageURL}));\r\n                }\r\n                else {\r\n                    console.log('Errore!');\r\n                }\r\n            }\r\n        }\r\n        xhr.send();\r\n    }\r\n\r\n    handleContentChange(content) {\r\n        this.setState({content});\r\n    }\r\n\r\n    handleDataChange(event) {\r\n        this.setState({data: event.target.value});\r\n        if(event.target.value < this.defaultDate()) {\r\n            this.setState({pastDate: true});\r\n        }\r\n        else if(event.target.value >= this.defaultDate()) {\r\n            this.setState({pastDate: false});\r\n        }\r\n    }\r\n\r\n    handleLocationChange(event) {\r\n        this.setState({location: event.target.value});\r\n    }\r\n\r\n    defaultDate() {\r\n        let today = new Date();\r\n        let day = today.getDate();\r\n        if(day < 10) {day = '0'+day}\r\n        let month = today.getMonth()+1;\r\n        if(month < 10) {month = '0'+month}\r\n        let year = today.getFullYear();\r\n        return (year+'-'+month+'-'+day).toString();\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await fetch('http://localhost:4000/server/events/numberOfAllEvents')\r\n        .then(response => response.json())\r\n        .then((data) => this.setState({id: data.totalEvents}))\r\n        .catch(console.log);\r\n    }\r\n\r\n    async save() {\r\n        if(this.state.pastDate === false) {\r\n            var saved = false;\r\n            var eventAlreadyExist = false;\r\n            var unauthorized = false;\r\n            var _errors = false;\r\n            await axios.post('http://localhost:4000/server/events/newEvent', {\r\n                token: this.props.token,\r\n                id: this.state.id,\r\n                title: this.state.title,\r\n                image: this.state.image,\r\n                content: JSON.stringify(convertToRaw(this.state.content.getCurrentContent())),\r\n                data: this.state.data,\r\n                location: this.state.location\r\n            })\r\n            .then(function(response) {\r\n                if(response.data.created) {\r\n                    saved = true;\r\n                }\r\n                else if(response.data.unauthorized) {\r\n                    unauthorized = true;\r\n                }\r\n                else if(response.data.eventAlreadyExist) {\r\n                    eventAlreadyExist = true;\r\n                }\r\n            })\r\n            .catch(function(errors) {\r\n                console.log(errors);\r\n                _errors = true;\r\n            });\r\n            this.setState({\r\n                saved: saved,\r\n                eventAlreadyExist: eventAlreadyExist,\r\n                unauthorized: unauthorized,\r\n                errors: _errors\r\n            });\r\n            window.scrollTo(0, 1000);\r\n            if(saved === true) {\r\n                setTimeout(function() {window.location.replace('/admin/allEvents?page=1')}, 2000);\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"newEvent\">\r\n                <form className=\"fields\" onSubmit={this.handleSubmit}>\r\n                    <Paper className=\"paper\" elevation={8} style={{padding: '10px', margin: 'auto', maxWidth: '1000px'}}>\r\n                        <Grid container spacing={1} className=\"newEvent\" alignItems=\"flex-end\">\r\n                            <Grid item>\r\n                                <TextField\r\n                                    className=\"field\"\r\n                                    id=\"title\"\r\n                                    label=\"Titolo\"\r\n                                    required={true}\r\n                                    disabled={this.state.saved}\r\n                                    error={this.state.eventAlreadyExist}\r\n                                    helperText='Esiste già un evento con lo stesso nome e la stessa data!'\r\n                                    FormHelperTextProps={{hidden: !this.state.eventAlreadyExist}}\r\n                                    onChange={this.handleTitleChange}\r\n                                    fullWidth\r\n                                    defaultValue=\"\"\r\n                                    variant=\"standard\"\r\n                                />\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <TextField\r\n                                    className=\"field\"\r\n                                    id=\"author\"\r\n                                    label=\"Autore\"\r\n                                    required={true}\r\n                                    disabled={true}\r\n                                    defaultValue={this.props.username}\r\n                                    variant=\"standard\"\r\n                                />\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <img src={this.state.image} alt=\"\" style={{maxWidth: '90%'}} />\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <input accept=\"image/jpeg\" className=\"input\" id=\"image\" type=\"file\" onChange={this.handleImageChange} />\r\n                                    <label htmlFor=\"image\" className=\"photoIcon\">\r\n                                        <IconButton color=\"primary\" aria-label=\"upload picture\" component=\"span\">\r\n                                            <PhotoCamera fontSize=\"large\" /> \r\n                                        </IconButton>\r\n                                    </label>\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <div className=\"editor\">\r\n                                    <Editor \r\n                                        editorState={this.state.content}\r\n                                        onEditorStateChange={this.handleContentChange}\r\n                                    />\r\n                                </div>\r\n                            </Grid>\r\n                            <Grid item>\r\n                            <TextField\r\n                                id=\"data\"\r\n                                label=\"Data\"\r\n                                type=\"datetime-local\"\r\n                                disabled={this.state.saved}\r\n                                error={this.state.pastDate}\r\n                                helperText='La data deve essere futura!'\r\n                                FormHelperTextProps={{hidden: !this.state.pastDate}}\r\n                                onChange={this.handleDataChange}\r\n                                defaultValue={this.defaultDate()}\r\n                                className=\"field\"\r\n                                InputLabelProps={{\r\n                                shrink: true,\r\n                                }}\r\n                            />\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <TextField\r\n                                    className=\"field\"\r\n                                    id=\"location\"\r\n                                    label=\"Luogo\"\r\n                                    required={true}\r\n                                    disabled={this.state.saved}\r\n                                    onChange={this.handleLocationChange}\r\n                                    fullWidth\r\n                                    defaultValue=\"\"\r\n                                    variant=\"standard\"\r\n                                />\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <Button \r\n                                    variant=\"contained\" \r\n                                    size='large' \r\n                                    className=\"SendButton\" \r\n                                    onClick={this.save}\r\n                                    disabled={this.state.saved}\r\n                                    >Salva\r\n                                </Button>\r\n                            </Grid>\r\n                            <Grid item>\r\n                            <div hidden={!this.state.errors}>\r\n                                <Alert variant=\"filled\" severity=\"error\" closeText='close'>\r\n                                    Errore!\r\n                                </Alert>\r\n                            </div>\r\n                            <div hidden={!this.state.eventAlreadyExist}>\r\n                                <Alert variant=\"filled\" severity=\"warning\" closeText='close'>\r\n                                    Esiste già un evento con lo stesso nome e la stessa data!\r\n                                </Alert>\r\n                            </div>\r\n                            <div hidden={!this.state.unauthorized}>\r\n                                <Alert variant=\"filled\" severity=\"warning\" closeText='close'>\r\n                                    Utente non autorizzato!\r\n                                </Alert>\r\n                            </div>\r\n                            <div hidden={!this.state.saved}>\r\n                                <Alert variant=\"filled\" severity=\"success\" closeText='close'>\r\n                                    Evento pubblicato correttamente!\r\n                                </Alert>\r\n                            </div>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Paper>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default NewEvent;","import React, { Component } from 'react';\r\nimport { Editor } from 'react-draft-wysiwyg';\r\nimport { EditorState, convertToRaw } from 'draft-js';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport { Button } from '@material-ui/core';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport axios from 'axios';\r\nimport './admin.css';\r\n\r\nclass NewPoll extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        const content = EditorState.createEmpty();\r\n        this.state = {\r\n            title: '',\r\n            content,\r\n            isActive: false,\r\n            options: [],\r\n            addOption: '',\r\n            emptyOption: false,\r\n            saved: false,\r\n            pollAlreadyExist: false,\r\n            unauthorized: false,\r\n            errors: false\r\n        }\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleTitleChange = this.handleTitleChange.bind(this);\r\n        this.handleContentChange = this.handleContentChange.bind(this);\r\n        this.handleIsActiveChange = this.handleIsActiveChange.bind(this);\r\n        this.handleOptionChange = this.handleOptionChange.bind(this);\r\n        this.option = this.option.bind(this);\r\n        this.showOptions = this.showOptions.bind(this);\r\n        this.add = this.add.bind(this);\r\n        this.addOption = this.addOption.bind(this);\r\n        this.save = this.save.bind(this);\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n    }\r\n\r\n    handleTitleChange(event) {\r\n        this.setState({title: event.target.value});\r\n    }\r\n\r\n    handleContentChange(content) {\r\n        this.setState({content});\r\n    }\r\n\r\n    handleIsActiveChange(event) {\r\n        this.setState({isActive: event.target.checked});\r\n    }\r\n\r\n    handleOptionChange(event) {\r\n        this.setState({addOption: event.target.value.toUpperCase(), emptyOption: false});\r\n    }\r\n\r\n    option(ID, name) {\r\n        return(\r\n            <div className=\"option\" key={ID}>\r\n                Opzione {ID + 1} - {name}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    showOptions() {\r\n        let listOfOptions = [];\r\n            for(let option of this.state.options) {\r\n                listOfOptions.push(this.option(option.id, option.name));\r\n            }\r\n            return listOfOptions;\r\n    }\r\n\r\n    add() {\r\n        if(this.state.addOption !== \"\") {\r\n            this.state.options.push({\r\n                id: this.state.options.length,\r\n                name: this.state.addOption,\r\n                votes: 0\r\n            });\r\n            this.setState({addOption: ''});\r\n        }\r\n        else {\r\n            this.setState({emptyOption: true});\r\n        }\r\n    }\r\n\r\n    addOption() {\r\n        return(\r\n            <div className=\"addOption\">\r\n                    <TextField\r\n                        className=\"field\"\r\n                        id=\"option\"\r\n                        label=\"Aggiungi opzione\"\r\n                        disabled={this.state.saved}\r\n                        onChange={this.handleOptionChange}\r\n                        error={this.state.emptyOption}\r\n                        helperText=\"L' opzione deve avere un contenuto!\"\r\n                        FormHelperTextProps={{hidden: !this.state.emptyOption}}\r\n                        fullWidth\r\n                        value={this.state.addOption}\r\n                        variant=\"standard\"\r\n                    />\r\n                    <Button \r\n                        variant=\"contained\" \r\n                        size='large' \r\n                        className=\"SendButton\" \r\n                        onClick={this.add}\r\n                        disabled={this.state.saved}\r\n                        >Aggiungi\r\n                    </Button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    async save() {\r\n        if(this.state.title !== \"\") {\r\n            var saved = false;\r\n            var unauthorized = false;\r\n            var pollAlreadyExist = false;\r\n            var _errors = false;\r\n            await axios.post('http://localhost:4000/server/polls/newPoll', {\r\n                token: this.props.token,\r\n                title: this.state.title,\r\n                content: JSON.stringify(convertToRaw(this.state.content.getCurrentContent())),\r\n                isActive: this.state.isActive,\r\n                options: this.state.options\r\n            })\r\n            .then(function(response) {\r\n                if(response.data.created) {\r\n                    saved = true;\r\n                }\r\n                else if(response.data.unauthorized) {\r\n                    unauthorized = true;\r\n                }\r\n                else if(response.data.pollAlreadyExist) {\r\n                    pollAlreadyExist = true;\r\n                }\r\n            })\r\n            .catch(function(errors) {\r\n                console.log(errors);\r\n                _errors = true;\r\n            });\r\n            this.setState({\r\n                saved: saved,\r\n                unauthorized: unauthorized,\r\n                pollAlreadyExist: pollAlreadyExist,\r\n                errors: _errors\r\n            });\r\n            window.scrollTo(0,5000);\r\n            if(saved === true) {\r\n                setTimeout(function() {window.location.replace('/admin/allPolls?page=1')}, 2000);\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"newPost\">\r\n                <form className=\"fields\" onSubmit={this.handleSubmit}>\r\n                    <Paper className=\"paper\" elevation={8} style={{padding: '10px', margin: 'auto', maxWidth: '1000px'}}>\r\n                        <Grid container spacing={1} className=\"newPost\" alignItems=\"flex-end\">\r\n                            <Grid item>\r\n                                <TextField\r\n                                    className=\"field\"\r\n                                    id=\"title\"\r\n                                    label=\"Titolo\"\r\n                                    required={true}\r\n                                    disabled={this.state.saved}\r\n                                    error={this.state.pollAlreadyExist}\r\n                                    helperText='Esiste già un sondaggio con lo stesso nome!'\r\n                                    FormHelperTextProps={{hidden: !this.state.pollAlreadyExist}}\r\n                                    onChange={this.handleTitleChange}\r\n                                    fullWidth\r\n                                    defaultValue=\"\"\r\n                                    variant=\"standard\"\r\n                                />\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <TextField\r\n                                    className=\"field\"\r\n                                    id=\"author\"\r\n                                    label=\"Autore\"\r\n                                    required={true}\r\n                                    disabled={true}\r\n                                    defaultValue={this.props.username}\r\n                                    variant=\"standard\"\r\n                                />\r\n                            </Grid>\r\n                            <Grid item>\r\n                            <div className=\"editor\">\r\n                                <Editor \r\n                                    editorState={this.state.content}\r\n                                    onEditorStateChange={this.handleContentChange}\r\n                                />\r\n                            </div>\r\n                            </Grid>\r\n                            <Grid item>\r\n                            <div className=\"checks\">\r\n                                <FormControlLabel\r\n                                    control={<Switch color=\"secondary\" checked={this.state.check1} onChange={this.handleIsActiveChange} name=\"check1\" />}\r\n                                    label={this.state.isActive ? 'SONDAGGIO ATTIVO' : 'SONDAGGIO NON ATTIVO'}\r\n                                />\r\n                                </div>\r\n                            </Grid>\r\n                            <Grid item>\r\n                                {this.showOptions()}\r\n                                {this.addOption()}\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <Button \r\n                                    variant=\"contained\" \r\n                                    color=\"secondary\"\r\n                                    size='large' \r\n                                    className=\"SendButton\" \r\n                                    onClick={this.save}\r\n                                    disabled={this.state.saved}\r\n                                    >Salva\r\n                                </Button>\r\n                            </Grid>\r\n                            <Grid item>\r\n                            <div hidden={!this.state.errors}>\r\n                                <Alert variant=\"filled\" severity=\"error\" closeText='close'>\r\n                                    Errore!\r\n                                </Alert>\r\n                            </div>\r\n                            <div hidden={!this.state.unauthorized}>\r\n                                <Alert variant=\"filled\" severity=\"warning\" closeText='close'>\r\n                                    Utente non autorizzato\r\n                                </Alert>\r\n                            </div>\r\n                            <div hidden={!this.state.saved}>\r\n                                <Alert variant=\"filled\" severity=\"success\" closeText='close'>\r\n                                    Sondaggio pubblicato correttamente!\r\n                                </Alert>\r\n                            </div>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Paper>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default NewPoll;","import React, { Component } from 'react';\r\nimport { Editor } from 'react-draft-wysiwyg';\r\nimport { EditorState, convertToRaw, convertFromRaw } from 'draft-js';\r\nimport '../../../node_modules/react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Button from '@material-ui/core/Button';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport axios from 'axios';\r\nimport './admin.css'\r\n\r\nclass Post extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        const contentEdited = EditorState.createWithContent(convertFromRaw(JSON.parse(this.props.content)));\r\n        this.state = {\r\n            contentEdited,\r\n            edit: false,\r\n            edited: false,\r\n            unauthorized: false,\r\n            noResults: false,\r\n            deleted: false,\r\n            errors: false\r\n        }\r\n        this.handleContentChange = this.handleContentChange.bind(this);\r\n        this.handleOpenEditTabs = this.handleOpenEditTabs.bind(this);\r\n        this.handleCloseEditTabs = this.handleCloseEditTabs.bind(this);\r\n        this.edit = this.edit.bind(this);\r\n        this.delete = this.delete.bind(this);\r\n    }\r\n\r\n    handleOpenEditTabs() {\r\n        this.setState({edit: true});\r\n    }\r\n\r\n    handleCloseEditTabs() {\r\n        this.setState({edit: false});\r\n    }\r\n\r\n    handleContentChange(contentEdited) {\r\n        this.setState({contentEdited});\r\n    }\r\n\r\n    async edit() {\r\n        var edited = false;\r\n        var unauthorized = false;\r\n        var noResults = false;\r\n        var _errors = false;\r\n        await axios.put('http://localhost:4000/server/posts/' + this.props.urlTitle, {\r\n            token: this.props.token,\r\n            content: JSON.stringify(convertToRaw(this.state.contentEdited.getCurrentContent()))\r\n        })\r\n        .then(function(response) {\r\n            if(response.data.edited) {\r\n                edited = true;\r\n            }\r\n            else if(response.data.noResults) {\r\n                noResults = true;\r\n            }\r\n            else if(response.data.unauthorized) {\r\n                unauthorized = true;\r\n            }\r\n        })\r\n        .catch(function(errors) {\r\n            console.log(errors);\r\n            _errors = true;\r\n        });\r\n        this.setState({\r\n            edited: edited,\r\n            noResults: noResults,\r\n            unauthorized: unauthorized,\r\n            errors: _errors\r\n        });\r\n        if(edited === true) {\r\n            window.location.reload()\r\n        }\r\n    }\r\n\r\n    async delete() {\r\n        var unauthorized = false;\r\n        var deleted = false;\r\n        var _errors = false;\r\n        if(this.props.isSuperUser === true || this.props.username === this.props.author) {\r\n            await axios.patch('http://localhost:4000/server/posts/'+this.props.urlTitle, {\r\n                token: this.props.token\r\n            })\r\n            .then(function(response) {\r\n                if(response.data.deleted) {\r\n                    deleted = true;\r\n                }\r\n                else if(response.data.unauthorized) {\r\n                    unauthorized = true;\r\n                }\r\n            })\r\n            .catch(function(errors) {\r\n                console.log(errors);\r\n                _errors = true;\r\n            });\r\n            this.setState({\r\n                unauthorized: unauthorized,\r\n                deleted: deleted,\r\n                errors: _errors\r\n            });\r\n            if(deleted === true) {\r\n                window.location.reload();\r\n            }\r\n        }\r\n        else {\r\n            this.setState({unauthorized: true});\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"post\">\r\n                <Card className=\"card\" elevation={5} style={{maxWidth: '800px', margin: 'auto'}}>\r\n                    <CardHeader title={this.props.title}\r\n                                subheader={'Autore: ' + this.props.author}\r\n                    />\r\n                    <CardMedia className=\"media\"\r\n                                style={{height: 120, width: 250, margin: 'auto'}}\r\n                                image={this.props.image}\r\n                                title={this.props.image}\r\n                    />\r\n                    <CardContent>\r\n                        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                            Data di pubblicazione: {this.props.data.substring(0,10).replace(/-/g, '/')}\r\n                        </Typography>\r\n                        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                            ID: {this.props._id}\r\n                        </Typography>\r\n                        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                            Likes: {this.props.likes}\r\n                        </Typography>\r\n                        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                            Commenti: {this.props.comments}\r\n                        </Typography>\r\n                        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                            <a href={'/posts/'+this.props.urlTitle}>Vai al comunicato</a>\r\n                        </Typography>\r\n                    </CardContent>\r\n                    <CardActions disableSpacing>\r\n                            <IconButton aria-label=\"Modifica\" color='secondary' fontSize='large' onClick={this.handleOpenEditTabs}>\r\n                                <EditIcon />\r\n                            </IconButton>\r\n                            <IconButton aria-label=\"Elimina\" color='secondary' fontSize='large' onClick={this.delete}>\r\n                                <DeleteIcon />\r\n                            </IconButton>\r\n                            <Dialog open={this.state.edit} onClose={this.handleCloseEditTabs} fullWidth aria-labelledby=\"form-dialog-title\" style={{maxHeight: '90%'}}>\r\n                                <DialogTitle id=\"form-dialog-title\">Modifica</DialogTitle>\r\n                                <DialogContent>\r\n                                    <div style={{marginBottom: '80px'}}>\r\n                                    <Editor \r\n                                        editorState={this.state.contentEdited}\r\n                                        onEditorStateChange={this.handleContentChange}\r\n                                    />\r\n                                    </div>\r\n                                </DialogContent>\r\n                                <DialogActions>\r\n                                <Button onClick={this.handleCloseEditTabs} color=\"secondary\">\r\n                                    Annulla\r\n                                </Button>\r\n                                <Button onClick={this.edit} color=\"secondary\">\r\n                                    Salva\r\n                                </Button>\r\n                                </DialogActions>\r\n                                <div className=\"unauthorized\" hidden={!this.state.edited}>\r\n                                    <Alert severity=\"success\">Contenuto salvato con successo!</Alert>\r\n                                </div>\r\n                                <div className=\"unauthorized\" hidden={!this.state.unauthorized}>\r\n                                    <Alert severity=\"warning\">Non disponi delle autorizzazioni necessarie!</Alert>\r\n                                </div>\r\n                                <div className=\"error\" hidden={!this.state.errors}>\r\n                                    <Alert severity=\"error\">Errore!</Alert>\r\n                                </div>\r\n                            </Dialog>\r\n                    </CardActions>\r\n                    <div hidden={!this.state.errors}>\r\n                        <Alert variant=\"filled\" severity=\"error\" closeText='close'>\r\n                            Errore!\r\n                        </Alert>\r\n                    </div>\r\n                    <div hidden={!this.state.unauthorized}>\r\n                        <Alert variant=\"filled\" severity=\"warning\" closeText='close'>\r\n                            Utente non autorizzato!\r\n                        </Alert>\r\n                    </div>\r\n                </Card>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Post;","import React, { Component } from 'react';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport Pagination from '@material-ui/lab/Pagination';\r\nimport Post from './post';\r\nimport './admin.css';\r\n\r\nclass AllPosts extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loaded: false,\r\n            noResults: false,\r\n            total: null,\r\n            page: null,\r\n            posts: []\r\n        }\r\n        this.loading = this.loading.bind(this);\r\n        this.showContent = this.showContent.bind(this);\r\n        this.handlePageChange = this.handlePageChange.bind(this);\r\n        \r\n    }\r\n\r\n    async componentDidMount() {\r\n        await fetch('http://localhost:4000/server/posts'+this.props.location.search)\r\n        .then(response => response.json())\r\n        .then((data) => this.setState({posts: data}))\r\n        .catch(console.log);\r\n        await fetch('http://localhost:4000/server/posts/numberOfPosts')\r\n        .then(response => response.json())\r\n        .then((data) => this.setState({total: data.totalPosts}))\r\n        .catch(console.log);\r\n        this.setState({loaded: true});\r\n    }\r\n\r\n    loading() {\r\n        return(\r\n            <div className=\"loading\" hidden={this.state.loaded}>\r\n                <CircularProgress color=\"secondary\" />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    showContent() {\r\n        if(this.state.posts.length === 0 && this.state.loaded === true) {\r\n            return(\r\n                <div className=\"noResults\">\r\n                    <Alert severity=\"warning\">Non ci sono comunicati</Alert>\r\n                </div>\r\n            );\r\n        }\r\n        else {\r\n            let listOfPosts = [];\r\n            for(let post of this.state.posts) {\r\n                listOfPosts.push(<Post\r\n                                    key={post._id}\r\n                                    _id={post._id}\r\n                                    title={post.title}\r\n                                    urlTitle={post.urlTitle}\r\n                                    data={post.data}\r\n                                    content={post.content}\r\n                                    image={post.image}\r\n                                    author={post.author}\r\n                                    comments={post.comments.length}\r\n                                    likes={post.likes.length}\r\n                                    token={this.props.token}\r\n                                    username={this.props.username}\r\n                                    isConfirmed={this.props.isConfirmed}\r\n                                    isBanned={this.props.isBanned}\r\n                                    isAdmin={this.props.isAdmin}\r\n                                    isSuperUser={this.props.isSuperUser}\r\n                                />);\r\n            }\r\n            return listOfPosts;\r\n        }\r\n    }\r\n\r\n    handlePageChange(event, value) {\r\n        this.setState({page: value});\r\n        window.location.replace('/admin/allPosts?page='+value);\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"allPosts\">\r\n                {this.loading()}\r\n                {this.showContent()}\r\n                <div className=\"pagination\">\r\n                    <Pagination count={parseInt((this.state.total / 5) + 1)} \r\n                                page={parseInt(this.props.location.search.substring(6,9))} \r\n                                defaultPage={1}\r\n                                color='secondary' \r\n                                onChange={this.handlePageChange} \r\n                                hideNextButton\r\n                                hidePrevButton\r\n                    />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default AllPosts;","import React, { Component } from 'react';\r\nimport { Editor } from 'react-draft-wysiwyg';\r\nimport { EditorState, convertToRaw, convertFromRaw } from 'draft-js';\r\nimport '../../../node_modules/react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Button from '@material-ui/core/Button';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport axios from 'axios';\r\nimport './admin.css'\r\n\r\nclass Event extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        const contentEdited = EditorState.createWithContent(convertFromRaw(JSON.parse(this.props.content)));\r\n        const data = this.props.data;\r\n        const location = this.props.location;\r\n        this.state = {\r\n            contentEdited,\r\n            data,\r\n            location,\r\n            edit: false,\r\n            edited: false,\r\n            unauthorized: false,\r\n            noResults: false,\r\n            deleted: false,\r\n            errors: false\r\n        }\r\n        this.handleDataChange = this.handleDataChange.bind(this);\r\n        this.handleLocationChange = this.handleLocationChange.bind(this);\r\n        this.handleContentChange = this.handleContentChange.bind(this);\r\n        this.handleOpenEditTabs = this.handleOpenEditTabs.bind(this);\r\n        this.handleCloseEditTabs = this.handleCloseEditTabs.bind(this);\r\n        this.edit = this.edit.bind(this);\r\n        this.delete = this.delete.bind(this);\r\n    }\r\n\r\n    handleOpenEditTabs() {\r\n        this.setState({edit: true});\r\n    }\r\n\r\n    handleCloseEditTabs() {\r\n        this.setState({edit: false});\r\n    }\r\n\r\n    handleContentChange(contentEdited) {\r\n        this.setState({contentEdited});\r\n    }\r\n\r\n    handleDataChange(event) {\r\n        this.setState({data: event.target.value});\r\n        if(event.target.value < this.defaultDate()) {\r\n            this.setState({pastDate: true});\r\n        }\r\n        else if(event.target.value >= this.defaultDate()) {\r\n            this.setState({pastDate: false});\r\n        }\r\n    }\r\n\r\n    defaultDate() {\r\n        let today = new Date();\r\n        let day = today.getDate();\r\n        if(day < 10) {day = '0'+day}\r\n        let month = today.getMonth()+1;\r\n        if(month < 10) {month = '0'+month}\r\n        let year = today.getFullYear();\r\n        return (year+'-'+month+'-'+day).toString();\r\n    }\r\n\r\n    handleLocationChange(event) {\r\n        this.setState({location: event.target.value});\r\n    }\r\n\r\n    async edit() {\r\n        var edited = false;\r\n        var unauthorized = false;\r\n        var noResults = false;\r\n        var _errors = false;\r\n        await axios.put('http://localhost:4000/server/events/' + this.props.eventID, {\r\n            token: this.props.token,\r\n            data: this.state.data,\r\n            location: this.state.location,\r\n            content: JSON.stringify(convertToRaw(this.state.contentEdited.getCurrentContent()))\r\n        })\r\n        .then(function(response) {\r\n            if(response.data.edited) {\r\n                edited = true;\r\n            }\r\n            else if(response.data.noResults) {\r\n                noResults = true;\r\n            }\r\n            else if(response.data.unauthorized) {\r\n                unauthorized = true;\r\n            }\r\n        })\r\n        .catch(function(errors) {\r\n            console.log(errors);\r\n            _errors = true;\r\n        });\r\n        this.setState({\r\n            edited: edited,\r\n            noResults: noResults,\r\n            unauthorized: unauthorized,\r\n            errors: _errors\r\n        });\r\n        if(edited === true) {\r\n            window.location.reload()\r\n        }\r\n    }\r\n\r\n    async delete() {\r\n        var unauthorized = false;\r\n        var deleted = false;\r\n        var _errors = false;\r\n        if(this.props.isSuperUser === true || this.props.username === this.props.author) {\r\n            await axios.patch('http://localhost:4000/server/events/' + this.props.eventID, {\r\n                token: this.props.token\r\n            })\r\n            .then(function(response) {\r\n                if(response.data.deleted) {\r\n                    deleted = true;\r\n                }\r\n                else if(response.data.unauthorized) {\r\n                    unauthorized = true;\r\n                }\r\n            })\r\n            .catch(function(errors) {\r\n                console.log(errors);\r\n                _errors = true;\r\n            });\r\n            this.setState({\r\n                unauthorized: unauthorized,\r\n                deleted: deleted,\r\n                errors: _errors\r\n            });\r\n            if(deleted === true) {\r\n                window.location.reload();\r\n            }\r\n        }\r\n        else {\r\n            this.setState({unauthorized: true});\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"event\">\r\n                <Card className=\"card\" elevation={5} style={{maxWidth: '800px', margin: 'auto'}}>\r\n                    <CardHeader title={this.props.title}\r\n                                subheader={'Autore: ' + this.props.author}\r\n                    />\r\n                    <CardMedia className=\"media\"\r\n                                style={{height: 120, width: 250, margin: 'auto'}}\r\n                                image={this.props.image}\r\n                                title={this.props.image}\r\n                    />\r\n                    <CardContent>\r\n                        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                            Data: {this.props.data === undefined ? '' : this.props.data.substring(0,10).replace(/-/g, '/')+ ' ' + this.props.data.substring(11,16)}\r\n                        </Typography>\r\n                        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                            Luogo: {this.props.location}\r\n                        </Typography>\r\n                        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                            ID: {this.props.eventID}\r\n                        </Typography>\r\n                        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                            <a href={'/events/'+this.props.eventID}>Vai all'evento</a>\r\n                        </Typography>\r\n                    </CardContent>\r\n                    <CardActions disableSpacing>\r\n                            <IconButton aria-label=\"Modifica\" color='secondary' fontSize='large' onClick={this.handleOpenEditTabs}>\r\n                                <EditIcon />\r\n                            </IconButton>\r\n                            <IconButton aria-label=\"Elimina\" color='secondary' fontSize='large' onClick={this.delete}>\r\n                                <DeleteIcon />\r\n                            </IconButton>\r\n                            <Dialog open={this.state.edit} onClose={this.handleCloseEditTabs} fullWidth aria-labelledby=\"form-dialog-title\" style={{maxHeight: '90%'}}>\r\n                                <DialogTitle id=\"form-dialog-title\">Modifica</DialogTitle>\r\n                                <DialogContent>\r\n                                    <div style={{marginBottom: '80px'}}>\r\n                                    <TextField\r\n                                        id=\"data\"\r\n                                        label=\"Data\"\r\n                                        type=\"datetime-local\"\r\n                                        disabled={this.state.edited}\r\n                                        error={this.state.pastDate}\r\n                                        helperText='La data deve essere futura!'\r\n                                        FormHelperTextProps={{hidden: !this.state.pastDate}}\r\n                                        onChange={this.handleDataChange}\r\n                                        defaultValue={this.state.data === undefined ? '' : this.state.data}\r\n                                        className=\"field\"\r\n                                        InputLabelProps={{\r\n                                        shrink: true,\r\n                                        }}\r\n                                    />\r\n                                    <TextField\r\n                                        className=\"field\"\r\n                                        id=\"location\"\r\n                                        label=\"Luogo\"\r\n                                        required={true}\r\n                                        disabled={this.state.edited}\r\n                                        onChange={this.handleLocationChange}\r\n                                        fullWidth\r\n                                        defaultValue={this.state.location}\r\n                                        variant=\"standard\"\r\n                                    />\r\n                                    <Editor \r\n                                        editorState={this.state.contentEdited}\r\n                                        onEditorStateChange={this.handleContentChange}\r\n                                    />\r\n                                    </div>\r\n                                </DialogContent>\r\n                                <DialogActions>\r\n                                <Button onClick={this.handleCloseEditTabs} color=\"secondary\">\r\n                                    Annulla\r\n                                </Button>\r\n                                <Button onClick={this.edit} color=\"secondary\">\r\n                                    Salva\r\n                                </Button>\r\n                                </DialogActions>\r\n                                <div className=\"unauthorized\" hidden={!this.state.edited}>\r\n                                    <Alert severity=\"success\">Contenuto salvato con successo!</Alert>\r\n                                </div>\r\n                                <div className=\"unauthorized\" hidden={!this.state.unauthorized}>\r\n                                    <Alert severity=\"warning\">Non disponi delle autorizzazioni necessarie!</Alert>\r\n                                </div>\r\n                                <div className=\"error\" hidden={!this.state.errors}>\r\n                                    <Alert severity=\"error\">Errore!</Alert>\r\n                                </div>\r\n                            </Dialog>\r\n                    </CardActions>\r\n                    <div hidden={!this.state.errors}>\r\n                        <Alert variant=\"filled\" severity=\"error\" closeText='close'>\r\n                            Errore!\r\n                        </Alert>\r\n                    </div>\r\n                    <div hidden={!this.state.unauthorized}>\r\n                        <Alert variant=\"filled\" severity=\"warning\" closeText='close'>\r\n                            Utente non autorizzato!\r\n                        </Alert>\r\n                    </div>\r\n                </Card>\r\n                <br />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Event;","import React, { Component } from 'react';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport Pagination from '@material-ui/lab/Pagination';\r\nimport Event from './event';\r\nimport './admin.css';\r\n\r\nclass AllEvents extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loaded: false,\r\n            noResults: false,\r\n            total: null,\r\n            page: null,\r\n            events: []\r\n        }\r\n        this.loading = this.loading.bind(this);\r\n        this.showContent = this.showContent.bind(this);\r\n        this.handlePageChange = this.handlePageChange.bind(this);\r\n        \r\n    }\r\n\r\n    async componentDidMount() {\r\n        await fetch('http://localhost:4000/server/events/allEvents'+this.props.location.search)\r\n        .then(response => response.json())\r\n        .then((data) => this.setState({events: data}))\r\n        .catch(console.log);\r\n        await fetch('http://localhost:4000/server/events/numberOfAllEvents')\r\n        .then(response => response.json())\r\n        .then((data) => this.setState({total: data.totalEvents}))\r\n        .catch(console.log);\r\n        this.setState({loaded: true});\r\n    }\r\n\r\n    loading() {\r\n        return(\r\n            <div className=\"loading\" hidden={this.state.loaded}>\r\n                <CircularProgress color=\"secondary\" />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    showContent() {\r\n        if(this.state.events.length === 0 && this.state.loaded === true) {\r\n            return(\r\n                <div className=\"noResults\">\r\n                    <Alert severity=\"warning\">Non ci sono eventi</Alert>\r\n                </div>\r\n            );\r\n        }\r\n        else {\r\n            let listOfEvents = [];\r\n            for(let event of this.state.events) {\r\n                listOfEvents.push(<Event\r\n                                    key={event._id}\r\n                                    eventID={event._id}\r\n                                    title={event.title}\r\n                                    author={event.author}\r\n                                    data={event.data}\r\n                                    location={event.location}\r\n                                    image={event.image}\r\n                                    content={event.content}\r\n                                    token={this.props.token}\r\n                                    username={this.props.username}\r\n                                    isBanned={this.props.isBanned}\r\n                                    isAdmin={this.props.isAdmin}\r\n                                    isSuperUser={this.props.isSuperUser}\r\n                                />);\r\n            }\r\n            return listOfEvents;\r\n        }\r\n    }\r\n\r\n    handlePageChange(event, value) {\r\n        this.setState({page: value});\r\n        window.location.replace('/admin/allEvents?page='+value);\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"allEvents\">\r\n                {this.loading()}\r\n                {this.showContent()}\r\n                <div className=\"pagination\">\r\n                    <Pagination count={parseInt((this.state.total / 5) + 1)} \r\n                                page={parseInt(this.props.location.search.substring(6,9))} \r\n                                defaultPage={1}\r\n                                color='secondary' \r\n                                onChange={this.handlePageChange} \r\n                                hideNextButton\r\n                                hidePrevButton\r\n                    />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default AllEvents;","import React, { Component } from 'react';\r\nimport { Editor } from 'react-draft-wysiwyg';\r\nimport { EditorState, convertToRaw, convertFromRaw } from 'draft-js';\r\nimport '../../../node_modules/react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport Button from '@material-ui/core/Button';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport axios from 'axios';\r\nimport './admin.css'\r\n\r\nclass Poll extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        const contentEdited = EditorState.createWithContent(convertFromRaw(JSON.parse(this.props.content)));\r\n        var pollState = this.props.isActive;\r\n        this.state = {\r\n            contentEdited,\r\n            pollState,\r\n            edit: false,\r\n            edited: false,\r\n            unauthorized: false,\r\n            noResults: false,\r\n            deleted: false,\r\n            errors: false\r\n        }\r\n        this.getPollState = this.getPollState.bind(this);\r\n        this.handleContentChange = this.handleContentChange.bind(this);\r\n        this.handleStateChange = this.handleStateChange.bind(this);\r\n        this.handleOpenEditTabs = this.handleOpenEditTabs.bind(this);\r\n        this.handleCloseEditTabs = this.handleCloseEditTabs.bind(this);\r\n        this.edit = this.edit.bind(this);\r\n        this.delete = this.delete.bind(this);\r\n    }\r\n\r\n    getPollState() {\r\n        if(this.props.isActive === true) {\r\n            return (<span style={{color: 'green'}}>Attivo</span>);\r\n        }\r\n        else {\r\n            return (<span style={{color: 'red'}}>Non attivo</span>);\r\n        }\r\n    }\r\n\r\n    handleOpenEditTabs() {\r\n        this.setState({edit: true});\r\n    }\r\n\r\n    handleCloseEditTabs() {\r\n        this.setState({edit: false});\r\n    }\r\n\r\n    handleContentChange(contentEdited) {\r\n        this.setState({contentEdited});\r\n    }\r\n\r\n    handleStateChange(event) {\r\n        this.setState({pollState: event.target.checked});\r\n    }\r\n\r\n    async edit() {\r\n        var edited = false;\r\n        var unauthorized = false;\r\n        var noResults = false;\r\n        var _errors = false;\r\n        await axios.put('http://localhost:4000/server/polls/' + this.props.pollID, {\r\n            token: this.props.token,\r\n            content: JSON.stringify(convertToRaw(this.state.contentEdited.getCurrentContent())),\r\n            isActive: this.state.pollState\r\n        })\r\n        .then(function(response) {\r\n            if(response.data.edited) {\r\n                edited = true;\r\n            }\r\n            else if(response.data.noResults) {\r\n                noResults = true;\r\n            }\r\n            else if(response.data.unauthorized) {\r\n                unauthorized = true;\r\n            }\r\n        })\r\n        .catch(function(errors) {\r\n            console.log(errors);\r\n            _errors = true;\r\n        });\r\n        this.setState({\r\n            edited: edited,\r\n            noResults: noResults,\r\n            unauthorized: unauthorized,\r\n            errors: _errors\r\n        });\r\n        if(edited === true) {\r\n            window.location.reload()\r\n        }\r\n    }\r\n\r\n    async delete() {\r\n        var unauthorized = false;\r\n        var deleted = false;\r\n        var _errors = false;\r\n        if(this.props.isSuperUser === true || this.props.username === this.props.author) {\r\n            await axios.patch('http://localhost:4000/server/polls/' + this.props.pollID, {\r\n                token: this.props.token\r\n            })\r\n            .then(function(response) {\r\n                if(response.data.deleted) {\r\n                    deleted = true;\r\n                }\r\n                else if(response.data.unauthorized) {\r\n                    unauthorized = true;\r\n                }\r\n            })\r\n            .catch(function(errors) {\r\n                console.log(errors);\r\n                _errors = true;\r\n            });\r\n            this.setState({\r\n                unauthorized: unauthorized,\r\n                deleted: deleted,\r\n                errors: _errors\r\n            });\r\n            if(deleted === true) {\r\n                window.location.reload();\r\n            }\r\n        }\r\n        else {\r\n            this.setState({unauthorized: true});\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"poll\">\r\n                <Card className=\"card\" elevation={5} style={{maxWidth: '800px', margin: 'auto'}}>\r\n                    <CardHeader title={this.props.title}\r\n                                subheader={'Autore: ' + this.props.author}\r\n                    />\r\n                    <CardContent>\r\n                        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                            Pubblicazione: {this.props.data.substring(0,10).replace(/-/g, '/')}\r\n                        </Typography>\r\n                        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                            ID: {this.props.pollID}\r\n                        </Typography>\r\n                        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                            Votanti: {this.props.voters}\r\n                        </Typography>\r\n                        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                            Stato: {this.getPollState()}\r\n                        </Typography>\r\n                        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                            <a href={'/polls/'+this.props.pollID}>Vai al sondaggio</a>\r\n                        </Typography>\r\n                    </CardContent>\r\n                    <CardActions disableSpacing>\r\n                            <IconButton aria-label=\"Modifica\" color='secondary' fontSize='large' onClick={this.handleOpenEditTabs}>\r\n                                <EditIcon />\r\n                            </IconButton>\r\n                            <IconButton aria-label=\"Elimina\" color='secondary' fontSize='large' onClick={this.delete}>\r\n                                <DeleteIcon />\r\n                            </IconButton>\r\n                            <Dialog open={this.state.edit} onClose={this.handleCloseEditTabs} fullWidth aria-labelledby=\"form-dialog-title\" style={{maxHeight: '90%'}}>\r\n                                <DialogTitle id=\"form-dialog-title\">Modifica</DialogTitle>\r\n                                <DialogContent>\r\n                                    <div style={{marginBottom: '80px'}}>\r\n                                    <Editor \r\n                                        editorState={this.state.contentEdited}\r\n                                        onEditorStateChange={this.handleContentChange}\r\n                                    />\r\n                                    <FormControlLabel\r\n                                        control={<Switch checked={this.state.pollState} onChange={this.handleStateChange} name=\"pollState\" />}\r\n                                        label={this.state.pollState ? 'SONDAGGIO ATTIVO' : 'SONDAGGIO NON ATTIVO'}\r\n                                    />\r\n                                    </div>\r\n                                </DialogContent>\r\n                                <DialogActions>\r\n                                <Button onClick={this.handleCloseEditTabs} color=\"secondary\">\r\n                                    Annulla\r\n                                </Button>\r\n                                <Button onClick={this.edit} color=\"secondary\">\r\n                                    Salva\r\n                                </Button>\r\n                                </DialogActions>\r\n                                <div className=\"unauthorized\" hidden={!this.state.edited}>\r\n                                    <Alert severity=\"success\">Contenuto salvato con successo!</Alert>\r\n                                </div>\r\n                                <div className=\"unauthorized\" hidden={!this.state.unauthorized}>\r\n                                    <Alert severity=\"warning\">Non disponi delle autorizzazioni necessarie!</Alert>\r\n                                </div>\r\n                                <div className=\"error\" hidden={!this.state.errors}>\r\n                                    <Alert severity=\"error\">Errore!</Alert>\r\n                                </div>\r\n                            </Dialog>\r\n                    </CardActions>\r\n                    <div hidden={!this.state.errors}>\r\n                        <Alert variant=\"filled\" severity=\"error\" closeText='close'>\r\n                            Errore!\r\n                        </Alert>\r\n                    </div>\r\n                    <div hidden={!this.state.unauthorized}>\r\n                        <Alert variant=\"filled\" severity=\"warning\" closeText='close'>\r\n                            Utente non autorizzato!\r\n                        </Alert>\r\n                    </div>\r\n                </Card>\r\n                <br />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Poll;","import React, { Component } from 'react';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport Pagination from '@material-ui/lab/Pagination';\r\nimport Poll from './poll';\r\nimport './admin.css';\r\n\r\nclass AllPolls extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loaded: false,\r\n            noResults: false,\r\n            total: null,\r\n            page: null,\r\n            polls: []\r\n        }\r\n        this.loading = this.loading.bind(this);\r\n        this.showContent = this.showContent.bind(this);\r\n        this.handlePageChange = this.handlePageChange.bind(this);\r\n        \r\n    }\r\n\r\n    async componentDidMount() {\r\n        await fetch('http://localhost:4000/server/polls/allPolls' + this.props.location.search)\r\n        .then(response => response.json())\r\n        .then((data) => this.setState({polls: data}))\r\n        .catch(console.log);\r\n        await fetch('http://localhost:4000/server/polls/numberOfAllPolls')\r\n        .then(response => response.json())\r\n        .then((data) => this.setState({total: data.totalPolls}))\r\n        .catch(console.log);\r\n        this.setState({loaded: true});\r\n    }\r\n\r\n    loading() {\r\n        return(\r\n            <div className=\"loading\" hidden={this.state.loaded}>\r\n                <CircularProgress color=\"secondary\" />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    showContent() {\r\n        if(this.state.polls.length === 0 && this.state.loaded === true) {\r\n            return(\r\n                <div className=\"noResults\">\r\n                    <Alert severity=\"warning\">Non ci sono sondaggi</Alert>\r\n                </div>\r\n            );\r\n        }\r\n        else {\r\n            let listOfPolls = [];\r\n            for(let poll of this.state.polls) {\r\n                listOfPolls.push(<Poll\r\n                                    key={poll._id}\r\n                                    pollID={poll._id}\r\n                                    title={poll.title}\r\n                                    author={poll.author}\r\n                                    data={poll.data}\r\n                                    content={poll.content}\r\n                                    isActive={poll.isActive}\r\n                                    voters={poll.voters.length}\r\n                                    token={this.props.token}\r\n                                    username={this.props.username}\r\n                                    isBanned={this.props.isBanned}\r\n                                    isAdmin={this.props.isAdmin}\r\n                                    isSuperUser={this.props.isSuperUser}\r\n                                />);\r\n            }\r\n            return listOfPolls;\r\n        }\r\n    }\r\n\r\n    handlePageChange(event, value) {\r\n        this.setState({page: value});\r\n        window.location.replace('/admin/allPolls?page='+value);\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"allPolls\">\r\n                {this.loading()}\r\n                {this.showContent()}\r\n                <div className=\"pagination\">\r\n                    <Pagination count={parseInt((this.state.total / 5) + 1)} \r\n                                page={parseInt(this.props.location.search.substring(6,9))} \r\n                                defaultPage={1}\r\n                                color='secondary' \r\n                                onChange={this.handlePageChange} \r\n                                hideNextButton\r\n                                hidePrevButton\r\n                    />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default AllPolls;","import React, { Component } from 'react';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport SettingsRoundedIcon from '@material-ui/icons/SettingsRounded';\r\n\r\nimport axios from 'axios';\r\nimport './admin.css';\r\n\r\nclass AllUsers__Admin extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            users: [],\r\n            loaded: false,\r\n            edit: false,\r\n            edited: false,\r\n            noResults: false,\r\n            unauthorized: false,\r\n            errors: false\r\n        };\r\n        this.formatUsername = this.formatUsername.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.editUser = this.editUser.bind(this);\r\n    }\r\n\r\n    async componentDidMount() {\r\n        var loaded = false;\r\n        var users = [];\r\n        var unauthorized = false;\r\n        var noResults = false;\r\n        var _errors = false;\r\n        await axios.post('http://localhost:4000/server/users', {\r\n            token: this.props.token\r\n        })\r\n        .then(function(response) {\r\n            if(response.data.unauthorized) {\r\n                unauthorized = true;\r\n                loaded = true;\r\n            }\r\n            else if(response.data.noResults) {\r\n                noResults = true;\r\n                loaded = true;\r\n            }\r\n            else if(response.data.length > 0) {\r\n                users = response.data;\r\n                loaded = true;\r\n            }\r\n        })\r\n        .catch(function(errors) {\r\n            console.log(errors);\r\n            _errors = true;\r\n            loaded = true;\r\n        });\r\n        this.setState({\r\n            users: users,\r\n            unauthorized: unauthorized,\r\n            noResults: noResults,\r\n            errors: _errors,\r\n            loaded: loaded\r\n        });\r\n    }\r\n\r\n    formatUsername(username, isConfirmed, isBanned, isAdmin, isSuperUser) {\r\n        if(isBanned === true) {\r\n            return <span style={{color: '#ff0000'}}>{username}</span>\r\n        }\r\n        else if(isSuperUser === true) {\r\n            return <span style={{color: '#00ff00'}}>{username}</span>\r\n        }\r\n        else if(isAdmin === true) {\r\n            return <span style={{color: '#ffba3c'}}>{username}</span>\r\n        }\r\n        else if(isConfirmed === true) {\r\n            return <span style={{color: '#0000ff'}}>{username}</span>\r\n        }\r\n        else {\r\n            return <span style={{color: '#c67bff'}}>{username}</span>\r\n        }\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n    }\r\n\r\n    editUser(userID) {\r\n        window.location.replace('/admin/users/' + userID);\r\n    }\r\n\r\n    loading() {\r\n        return(\r\n            <div className=\"loading\" hidden={this.state.loaded}>\r\n                <CircularProgress color=\"secondary\" />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    showContent() {\r\n        if(this.state.loaded === true) {\r\n            return(\r\n                <TableContainer component={Paper} elevation={5}>\r\n                        <Table className=\"table\" aria-label=\"customized table\">\r\n                            <TableHead>\r\n                            <TableRow style={{backgroundColor: '#f9ff9a', color: '#ffffff'}}>\r\n                                <TableCell>AVATAR</TableCell>\r\n                                <TableCell align=\"center\">USERNAME</TableCell>\r\n                                <TableCell align=\"center\">NOME</TableCell>\r\n                                <TableCell align=\"center\">COGNOME</TableCell>\r\n                                <TableCell align=\"center\">DATA DI NASCITA</TableCell>\r\n                                <TableCell align=\"center\">EMAIL</TableCell>\r\n                                <TableCell align=\"center\">REGISTRAZIONE</TableCell>\r\n                                <TableCell align=\"center\">VERIFICATO</TableCell>\r\n                                <TableCell align=\"center\">ADMIN</TableCell>\r\n                                <TableCell align=\"center\">SUPER USER</TableCell>\r\n                                <TableCell align=\"center\">BLOCCATO</TableCell>\r\n                                <TableCell align=\"center\"></TableCell>\r\n                            </TableRow>\r\n                            </TableHead>\r\n                            <TableBody>\r\n                                {this.state.users.map((user) => (\r\n                                <TableRow key={user._id}>\r\n                                <TableCell component=\"th\" scope=\"row\">\r\n                                    {<Avatar src={user.avatar} />}\r\n                                </TableCell>\r\n                                <TableCell align=\"center\" style={{fontWeight: 'bold'}}>{this.formatUsername(user.username, user.isConfirmed, user.isBanned, user.isAdmin, user.isSuperUser)}</TableCell>\r\n                                <TableCell align=\"center\">{user.name}</TableCell>\r\n                                <TableCell align=\"center\">{user.surname}</TableCell>\r\n                                <TableCell align=\"center\">{user.dateOfBirth === undefined ? '' : user.dateOfBirth.substring(0,10).replace(/-/g, '/')}</TableCell>\r\n                                <TableCell align=\"center\" style={{fontStyle: 'italic'}}>{this.props.isSuperUser ? user.email : '**********' + user.email.substring(user.email.search('@'), user.email.length)}</TableCell>\r\n                                <TableCell align=\"center\">{user.registrationDate === undefined ? '' : user.registrationDate.substring(0,10).replace(/-/g, '/')+' '+user.registrationDate.substring(11,16)}</TableCell>\r\n                                <TableCell align=\"center\">{user.isConfirmed ? 'SI' : 'NO'}</TableCell>\r\n                                <TableCell align=\"center\">{user.isAdmin ? 'SI' : 'NO'}</TableCell>\r\n                                <TableCell align=\"center\">{user.isSuperUser ? 'SI' : 'NO'}</TableCell>\r\n                                <TableCell align=\"center\">{user.isBanned ? 'SI' : 'NO'}</TableCell>\r\n                                <TableCell align=\"center\">\r\n                                    <form onSubmit={this.handleSubmit}>\r\n                                        <IconButton \r\n                                            aria-label=\"edit\" \r\n                                            disabled={!this.props.isSuperUser} \r\n                                            onClick={() => this.editUser(user._id)}\r\n                                            color=\"secondary\">\r\n                                                <SettingsRoundedIcon />\r\n                                        </IconButton>\r\n                                    </form>\r\n                                </TableCell>\r\n                                </TableRow>\r\n                            ))}\r\n                            </TableBody>\r\n                        </Table>\r\n                    </TableContainer>\r\n            );\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"allUsers__Admin\" style={{padding: 8}}>\r\n                {this.loading()}\r\n                {this.showContent()}\r\n                <div className=\"unauthorized\" hidden={!this.state.unauthorized}>\r\n                    <Alert severity=\"warning\">Non disponi delle autorizzazioni necessarie!</Alert>\r\n                </div>\r\n                <div className=\"error\" hidden={!this.state.errors}>\r\n                    <Alert severity=\"error\">Errore!</Alert>\r\n                </div>\r\n                </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AllUsers__Admin;","import React, { Component } from 'react';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport { Button } from '@material-ui/core';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport axios from 'axios';\r\n\r\nclass EditUser extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            user: {},\r\n            loaded: false,\r\n            edited: false,\r\n            unauthorized: false,\r\n            noResults: false,\r\n            errors: false\r\n        };\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleEmailChange = this.handleEmailChange.bind(this);\r\n        this.handleIsConfirmedChange = this.handleIsConfirmedChange.bind(this);\r\n        this.handleIsAdminChange = this.handleIsAdminChange.bind(this);\r\n        this.handleIsSuperUserChange = this.handleIsSuperUserChange.bind(this);\r\n        this.handleIsBannedChange = this.handleIsBannedChange.bind(this);\r\n        this.save = this.save.bind(this);\r\n        this.abort = this.abort.bind(this);\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n    }\r\n\r\n    handleEmailChange(event) {\r\n        this.setState({email: event.target.value});\r\n    }\r\n\r\n    handleIsConfirmedChange(event) {\r\n        this.setState({isConfirmed: event.target.checked});\r\n    }\r\n\r\n    handleIsAdminChange(event) {\r\n        this.setState({isAdmin: event.target.checked});\r\n    }\r\n\r\n    handleIsSuperUserChange(event) {\r\n        this.setState({isSuperUser: event.target.checked});\r\n    }\r\n\r\n    handleIsBannedChange(event) {\r\n        this.setState({isBanned: event.target.checked});\r\n    }\r\n\r\n    async componentDidMount() {\r\n        var loaded = false;\r\n        var user = {};\r\n        var unauthorized = false;\r\n        var noResults = false;\r\n        var _errors = false;\r\n        await axios.post('http://localhost:4000/server/users/' + this.props.match.params.userID, {\r\n            token: this.props.token\r\n        })\r\n        .then(function(response) {\r\n            if(response.data.unauthorized) {\r\n                unauthorized = true;\r\n                loaded = true;\r\n            }\r\n            else if(response.data.noResults) {\r\n                noResults = true;\r\n                loaded = true;\r\n            }\r\n            else if(response.data.username !== \"\") {\r\n                user = response.data;\r\n                loaded = true;\r\n            }\r\n        })\r\n        .catch(function(errors) {\r\n            console.log(errors);\r\n            _errors = true;\r\n            loaded = true;\r\n        });\r\n        this.setState({\r\n            user: user,\r\n            email: user.email,\r\n            isConfirmed: user.isConfirmed,\r\n            isBanned: user.isBanned,\r\n            isAdmin: user.isAdmin,\r\n            isSuperUser: user.isSuperUser,\r\n            unauthorized: unauthorized,\r\n            noResults: noResults,\r\n            errors: _errors,\r\n            loaded: loaded\r\n        });\r\n    }\r\n\r\n    async save() {\r\n        var edited = false;\r\n        var unauthorized = false;\r\n        var noResults = false;\r\n        var _errors = false;\r\n        await axios.put('http://localhost:4000/server/users/' + this.state.user._id, {\r\n            token: this.props.token,\r\n            email: this.state.email,\r\n            isConfirmed: this.state.isConfirmed,\r\n            isAdmin: this.state.isAdmin,\r\n            isSuperUser: this.state.isSuperUser,\r\n            isBanned: this.state.isBanned\r\n        })\r\n        .then(function(response) {\r\n            if(response.data.edited) {\r\n                edited = true;\r\n            }\r\n            else if(response.data.noResults) {\r\n                noResults = true;\r\n            }\r\n            else if(response.data.unauthorized) {\r\n                unauthorized = true;\r\n            }\r\n        })\r\n        .catch(function(errors) {\r\n            console.log(errors);\r\n            _errors = true;\r\n        });\r\n        this.setState({\r\n            edited: edited,\r\n            noResults: noResults,\r\n            unauthorized: unauthorized,\r\n            errors: _errors\r\n        });\r\n        if(edited === true) {\r\n            window.scrollTo(0, 5000);\r\n            setTimeout(function() {window.location.replace('/admin/usersList')}, 2000);\r\n        }\r\n    }\r\n\r\n    abort() {\r\n        window.location.replace('/admin/usersList');\r\n    }\r\n\r\n    render() {\r\n        if(this.state.loaded === false) {\r\n            return(\r\n                <div className=\"loading\" hidden={this.state.loaded}>\r\n                    <CircularProgress color=\"secondary\" />\r\n                </div>\r\n            );\r\n        }\r\n        else if(this.state.loaded === true) {\r\n            return(\r\n                <div className=\"EditUser\">\r\n                    <form className=\"fields\" onSubmit={this.handleSubmit}>\r\n                        <Grid container spacing={1} className=\"username\" alignItems=\"flex-end\">\r\n                            <Grid item style={{textAlign: '-webkit-center'}}>\r\n                                <Avatar src={this.state.user.avatar} style={{width: 200, height: 200}}/>\r\n                                <br />\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <TextField\r\n                                    style={{width: '250px'}}\r\n                                    className=\"field\"\r\n                                    id=\"email\"\r\n                                    label=\"Email\"\r\n                                    required={true}\r\n                                    disabled={this.state.edited}\r\n                                    onChange={this.handleEmailChange}\r\n                                    value={this.state.email}\r\n                                    variant=\"standard\"\r\n                                />\r\n                            </Grid>\r\n                            <Grid item>\r\n                            <div className=\"checks\">\r\n                            <FormControlLabel\r\n                                control={<Checkbox checked={this.state.isConfirmed} onChange={this.handleIsConfirmedChange} name=\"isConfirmed\" />}\r\n                                label=\"VERIFICATO\"\r\n                            />\r\n                            <FormControlLabel\r\n                                control={<Checkbox checked={this.state.isAdmin} onChange={this.handleIsAdminChange} name=\"isAdmin\" />}\r\n                                label=\"ADMIN\"\r\n                            />\r\n                            <FormControlLabel\r\n                                control={<Checkbox checked={this.state.isSuperUser} onChange={this.handleIsSuperUserChange} name=\"isSuperUser\" />}\r\n                                label=\"SUPER USER\"\r\n                            />\r\n                            <FormControlLabel\r\n                                control={<Checkbox checked={this.state.isBanned} onChange={this.handleIsBannedChange} name=\"isBanned\" />}\r\n                                label=\"BLOCCATO\"\r\n                            />\r\n                            </div>\r\n                        </Grid>\r\n                            <Grid item>\r\n                                <Button \r\n                                    variant=\"contained\" \r\n                                    size='large' \r\n                                    className=\"SendButton\" \r\n                                    onClick={this.save}\r\n                                    disabled={this.state.saved}\r\n                                    >SALVA MODIFICHE\r\n                                </Button>\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <Button \r\n                                    variant=\"contained\" \r\n                                    size='large' \r\n                                    className=\"SendButton\" \r\n                                    onClick={this.abort}\r\n                                    disabled={this.state.saved}\r\n                                    >INDIETRO\r\n                                </Button>\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <div hidden={!this.state.errors}>\r\n                                <Alert variant=\"filled\" severity=\"error\" closeText='close'>\r\n                                    Errore!\r\n                                </Alert>\r\n                                </div>\r\n                                <div hidden={!this.state.unauthorized}>\r\n                                <Alert variant=\"filled\" severity=\"warning\" closeText='close'>\r\n                                    Non disponi delle autorizzazioni necessarie!\r\n                                </Alert>\r\n                                </div>\r\n                                <div hidden={!this.state.edited}>\r\n                                <Alert variant=\"filled\" severity=\"success\" closeText='close'>\r\n                                    Modifiche salvate con successo!\r\n                                </Alert>     \r\n                                </div>                 \r\n                            </Grid>\r\n                        </Grid>\r\n                    </form>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default EditUser;","import React, { Component } from 'react';\r\n\r\nclass SuperUserPanel extends Component {\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"adminPanel\">\r\n                <br />\r\n                <br />\r\n                <br />\r\n                <h5>Pannello Super User</h5>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SuperUserPanel;","import React, { Component } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\r\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport DescriptionIcon from '@material-ui/icons/Description';\r\nimport TodayIcon from '@material-ui/icons/Today';\r\nimport PollIcon from '@material-ui/icons/Poll';\r\nimport './footer.css';\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    width: '100%',\r\n    position: 'fixed',\r\n    bottom: 0,\r\n    zIndex: 9999\r\n  },\r\n  action: {\r\n      color: '#fbc02d',\r\n  }\r\n});\r\n\r\nfunction SimpleBottomNavigation() {\r\n  const classes = useStyles();\r\n  var tab = 0;\r\n  switch(window.location.pathname) {\r\n        case '/': \r\n            tab=0;\r\n            break;\r\n        case '/posts':\r\n            tab = 1;\r\n            break;\r\n        case '/events':\r\n            tab = 2;\r\n            break;\r\n        case '/polls':\r\n            tab = 3;\r\n            break;\r\n        default:\r\n            tab = 5;\r\n  }\r\n  const [value, setValue] = React.useState(tab);\r\n\r\n  return (\r\n    <BottomNavigation\r\n      value={value}\r\n      onChange={(event, newValue) => {\r\n        setValue(newValue);\r\n        switch(newValue) {\r\n            case 0:\r\n                window.location.replace('/');\r\n                break;\r\n            case 1:\r\n                window.location.replace('/posts?page=1');\r\n                break;\r\n            case 2:\r\n                window.location.replace('/events?page=1');\r\n                break;\r\n            case 3:\r\n                window.location.replace('/polls?page=1');\r\n                break;\r\n            default:\r\n                window.location.replace('/');\r\n        }\r\n      }}\r\n      showLabels\r\n      className={classes.root}\r\n    >\r\n      <BottomNavigationAction className={classes.action} label=\"Home\" icon={<HomeIcon />}  />\r\n      <BottomNavigationAction className={classes.action} label=\"Comunicati\" icon={<DescriptionIcon />} />\r\n      <BottomNavigationAction className={classes.action} label=\"Eventi\" icon={<TodayIcon />} />\r\n      <BottomNavigationAction className={classes.action} label=\"Sondaggi\" icon={<PollIcon />} />\r\n    </BottomNavigation>\r\n  );\r\n}\r\n\r\nclass Footer extends Component {\r\n\r\n    render() {\r\n        \r\n        return(\r\n            <div className=\"footer\">\r\n                <SimpleBottomNavigation />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Footer;","import React from 'react';\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport './App.css';\nimport Header from './components/header/header';\nimport Home from './components/home/home';\nimport Login from './components/login/login';\nimport Register from './components/register/register';\nimport ForgotPassword from './components/login/forgotPassword';\nimport RestorePassword from './components/login/restorePassword';\nimport Confirm from './components/confirm/confirm';\nimport PostsContainer from './components/postsContainer/postsContainer';\nimport EventsContainer from './components/eventsContainer/eventsContainer';\nimport PollsContainer from './components/pollsContainer/pollsContainer';\nimport PostDetail from './components/postDetail/postDetail';\nimport EventDetail from './components/eventDetail/eventDetail';\nimport PollDetail from './components/pollDetail/pollDetail';\nimport ProtectedRoute from './components/protectedRoutes/protectedRoutes';\nimport ProtectedAdminRoute from './components/protectedAdminRoutes/protectedAdminRoutes';\nimport ProtectedSuperUserRoute from './components/protectedSuperUserRoutes/protectedSuperUserRoutes';\nimport Profile from './components/profile/profile';\nimport AdminPanel from './components/adminPanel/adminPanel';\nimport HomepageTabs from './components/admin/homepageTabs';\nimport NewPost from './components/admin/newPost';\nimport NewEvent from './components/admin/newEvent';\nimport NewPoll from './components/admin/newPoll';\nimport AllPosts from './components/admin/allPosts';\nimport AllEvents from './components/admin/allEvents';\nimport AllPolls from './components/admin/allPolls';\nimport AllUsers from './components/admin/allUsers';\nimport EditUser from './components/admin/editUser';\nimport SuperUserPanel from './components/superUserPanel/superUserPanel';\nimport Footer from './components/footer/footer';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Header />\n      <BrowserRouter>\n        <Switch>\n          <Route exact path=\"/\" component={Home}></Route>\n          <Route exact path=\"/register\" component={Register}></Route>\n          <Route exact path=\"/login\" component={Login}></Route>\n          <Route exact path=\"/resetPassword\" component={ForgotPassword}></Route>\n          <Route exact path=\"/restorePassword/:username\" component={RestorePassword}></Route>\n          <Route exact path=\"/confirm/:username\" component={Confirm}></Route>\n          <Route exact path=\"/posts\" component={PostsContainer}></Route>\n          <Route exact path=\"/events\" component={EventsContainer}></Route>\n          <Route exact path=\"/polls\" component={PollsContainer}></Route>\n          <Route exact path=\"/events/:eventID\" component={EventDetail}></Route>\n          <Route exact path=\"/posts/:urlTitle\" component={PostDetail}></Route>\n          <Route exact path=\"/polls/:pollID\" component={PollDetail}></Route>\n          <ProtectedRoute exact path=\"/profile\" component={Profile}></ProtectedRoute>\n          <ProtectedAdminRoute exact path=\"/admin\" component={AdminPanel}></ProtectedAdminRoute>\n          <ProtectedAdminRoute exact path=\"/admin/homepageTabs\" component={HomepageTabs}></ProtectedAdminRoute>\n          <ProtectedAdminRoute exact path=\"/admin/allPosts\" component={AllPosts}></ProtectedAdminRoute>\n          <ProtectedAdminRoute exact path=\"/admin/allEvents\" component={AllEvents}></ProtectedAdminRoute>\n          <ProtectedAdminRoute exact path=\"/admin/allPolls\" component={AllPolls}></ProtectedAdminRoute>\n          <ProtectedAdminRoute exact path=\"/admin/newPost\" component={NewPost}></ProtectedAdminRoute>\n          <ProtectedAdminRoute exact path=\"/admin/newEvent\" component={NewEvent}></ProtectedAdminRoute>\n          <ProtectedAdminRoute exact path=\"/admin/newPoll\" component={NewPoll}></ProtectedAdminRoute>\n          <ProtectedAdminRoute exact path=\"/admin/usersList\" component={AllUsers}></ProtectedAdminRoute>\n          <ProtectedAdminRoute exact path=\"/admin/users/:userID\" component={EditUser}></ProtectedAdminRoute>\n          <ProtectedSuperUserRoute exact path=\"/superUser\" component={SuperUserPanel}></ProtectedSuperUserRoute>\n        </Switch>\n      </BrowserRouter>\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}